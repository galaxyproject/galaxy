<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="610px" preserveAspectRatio="none" style="width:3677px;height:610px;background:#FFFFFF;" version="1.1" viewBox="0 0 3677 610" width="3677px" zoomAndPan="magnify"><defs/><g><!--MD5=[85f7edf671c9ca26ac4c2dd7910a1a26]
cluster galaxy.tool_util.parameters.state--><g id="cluster_galaxy.tool_util.parameters.state"><path d="M8.5,6 L242.5,6 A3.75,3.75 0 0 1 245,8.5 L252,28.4883 L3667.5,28.4883 A2.5,2.5 0 0 1 3670,30.9883 L3670,600.65 A2.5,2.5 0 0 1 3667.5,603.15 L8.5,603.15 A2.5,2.5 0 0 1 6,600.65 L6,8.5 A2.5,2.5 0 0 1 8.5,6 " fill="none" style="stroke:#FF8C00;stroke-width:1.5;"/><line style="stroke:#FF8C00;stroke-width:1.5;" x1="6" x2="252" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="233" x="10" y="21.5352">galaxy.tool_util.parameters.state</text></g><!--MD5=[001dd53740ce1259671441135e7c1cd4]
class ToolState--><g id="elem_ToolState"><rect codeLine="5" fill="#FFEFD5" height="113.9531" id="ToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="573" x="2030.5" y="41"/><ellipse cx="2280.25" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2282.7231,63.1431 Q2282.1421,63.4419 2281.5029,63.5913 Q2280.8638,63.7407 2280.1582,63.7407 Q2277.6514,63.7407 2276.3315,62.0889 Q2275.0117,60.437 2275.0117,57.3159 Q2275.0117,54.1865 2276.3315,52.5347 Q2277.6514,50.8828 2280.1582,50.8828 Q2280.8638,50.8828 2281.5112,51.0322 Q2282.1587,51.1816 2282.7231,51.4805 L2282.7231,54.2031 Q2282.0923,53.6221 2281.4988,53.3523 Q2280.9053,53.0825 2280.2744,53.0825 Q2278.9297,53.0825 2278.2449,54.1492 Q2277.5601,55.2158 2277.5601,57.3159 Q2277.5601,59.4077 2278.2449,60.4744 Q2278.9297,61.541 2280.2744,61.541 Q2280.9053,61.541 2281.4988,61.2712 Q2282.0923,61.0015 2282.7231,60.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2300.75" y="62.291">ToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="2031.5" x2="2602.5" y1="73" y2="73"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="2036.5" y="90.5352">state_representation: str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="2036.5" y="107.0234">input_state: Dict[str, Any]</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="2031.5" x2="2602.5" y1="113.9766" y2="113.9766"/><ellipse cx="2041.5" cy="127.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="297" x="2050.5" y="131.5117">validate(parameters: ToolParameterBundle)</text><ellipse cx="2041.5" cy="144.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="547" x="2050.5" y="148">_to_base_model(parameters: ToolParameterBundle): Optional[Type[BaseModel]]</text></g><!--MD5=[fbddb38ce2baa1afebd3a77ab85ab8cf]
class RelaxedRequestToolState--><g id="elem_RelaxedRequestToolState"><rect codeLine="12" fill="#FFEFD5" height="80.9766" id="RelaxedRequestToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="504" x="22" y="215.95"/><ellipse cx="182.25" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M184.7231,238.0931 Q184.1421,238.3919 183.5029,238.5413 Q182.8638,238.6907 182.1582,238.6907 Q179.6514,238.6907 178.3315,237.0389 Q177.0117,235.387 177.0117,232.2659 Q177.0117,229.1365 178.3315,227.4847 Q179.6514,225.8328 182.1582,225.8328 Q182.8638,225.8328 183.5112,225.9822 Q184.1587,226.1316 184.7231,226.4305 L184.7231,229.1531 Q184.0923,228.5721 183.4988,228.3023 Q182.9053,228.0325 182.2744,228.0325 Q180.9297,228.0325 180.2449,229.0992 Q179.5601,230.1658 179.5601,232.2659 Q179.5601,234.3577 180.2449,235.4244 Q180.9297,236.491 182.2744,236.491 Q182.9053,236.491 183.4988,236.2212 Q184.0923,235.9515 184.7231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="202.75" y="237.241">RelaxedRequestToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="23" x2="525" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="28" y="265.4852">state_representation = "request"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="23" x2="525" y1="272.4383" y2="272.4383"/><ellipse cx="33" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="478" x="42" y="289.9734">_to_base_model(parameters: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN5"><path d="M21.5,378.8 L21.5,450.0422 A0,0 0 0 0 21.5,450.0422 L524.5,450.0422 A0,0 0 0 0 524.5,450.0422 L524.5,388.8 L514.5,378.8 L277.22,378.8 L273.75,297.21 L269.22,378.8 L21.5,378.8 A0,0 0 0 0 21.5,378.8 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M514.5,378.8 L514.5,388.8 L524.5,388.8 L514.5,378.8 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="27.5" y="396.3684">Object references of the form</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="27.5" y="411.6789">{src: "hda", id: &lt;encoded_id&gt;}.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="478" x="31.5" y="426.9895">Allow mapping/reduce constructs. Relaxed syntax to allow some of the odd</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="27.5" y="442.3">stuff allowed in legacy tool input format.</text></g><!--MD5=[93f66f43011efc5ae11c3d66e5c838fe]
class RequestToolState--><g id="elem_RequestToolState"><rect codeLine="18" fill="#FFEFD5" height="80.9766" id="RequestToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="504" x="625" y="215.95"/><ellipse cx="812.75" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M815.2231,238.0931 Q814.6421,238.3919 814.0029,238.5413 Q813.3638,238.6907 812.6582,238.6907 Q810.1514,238.6907 808.8315,237.0389 Q807.5117,235.387 807.5117,232.2659 Q807.5117,229.1365 808.8315,227.4847 Q810.1514,225.8328 812.6582,225.8328 Q813.3638,225.8328 814.0112,225.9822 Q814.6587,226.1316 815.2231,226.4305 L815.2231,229.1531 Q814.5923,228.5721 813.9988,228.3023 Q813.4053,228.0325 812.7744,228.0325 Q811.4297,228.0325 810.7449,229.0992 Q810.0601,230.1658 810.0601,232.2659 Q810.0601,234.3577 810.7449,235.4244 Q811.4297,236.491 812.7744,236.491 Q813.4053,236.491 813.9988,236.2212 Q814.5923,235.9515 815.2231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="833.25" y="237.241">RequestToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="626" x2="1128" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="631" y="265.4852">state_representation = "request"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="626" x2="1128" y1="272.4383" y2="272.4383"/><ellipse cx="636" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="478" x="645" y="289.9734">_to_base_model(parameters: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN9"><path d="M559.5,386.45 L559.5,442.3816 A0,0 0 0 0 559.5,442.3816 L802.5,442.3816 A0,0 0 0 0 802.5,442.3816 L802.5,396.45 L792.5,386.45 L719.35,386.45 L826.78,297.41 L711.35,386.45 L559.5,386.45 A0,0 0 0 0 559.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M792.5,386.45 L792.5,396.45 L802.5,396.45 L792.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="565.5" y="404.0184">Object references of the form</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="565.5" y="419.3289">{src: "hda", id: &lt;encoded_id&gt;}.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="569.5" y="434.6395">Allow mapping/reduce constructs.</text></g><!--MD5=[93d581e844301c3bb0d1bdd786d99f81]
class RequestInternalToolState--><g id="elem_RequestInternalToolState"><rect codeLine="24" fill="#FFEFD5" height="80.9766" id="RequestInternalToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="504" x="1224" y="215.95"/><ellipse cx="1385.25" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1387.7231,238.0931 Q1387.1421,238.3919 1386.5029,238.5413 Q1385.8638,238.6907 1385.1582,238.6907 Q1382.6514,238.6907 1381.3315,237.0389 Q1380.0117,235.387 1380.0117,232.2659 Q1380.0117,229.1365 1381.3315,227.4847 Q1382.6514,225.8328 1385.1582,225.8328 Q1385.8638,225.8328 1386.5112,225.9822 Q1387.1587,226.1316 1387.7231,226.4305 L1387.7231,229.1531 Q1387.0923,228.5721 1386.4988,228.3023 Q1385.9053,228.0325 1385.2744,228.0325 Q1383.9297,228.0325 1383.2449,229.0992 Q1382.5601,230.1658 1382.5601,232.2659 Q1382.5601,234.3577 1383.2449,235.4244 Q1383.9297,236.491 1385.2744,236.491 Q1385.9053,236.491 1386.4988,236.2212 Q1387.0923,235.9515 1387.7231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="1405.75" y="237.241">RequestInternalToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1225" x2="1727" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="1230" y="265.4852">state_representation = "request_internal"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1225" x2="1727" y1="272.4383" y2="272.4383"/><ellipse cx="1235" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="478" x="1244" y="289.9734">_to_base_model(parameters: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN13"><path d="M837,386.45 L837,442.3816 A0,0 0 0 0 837,442.3816 L1213,442.3816 A0,0 0 0 0 1213,442.3816 L1213,396.45 L1203,386.45 L1108.38,386.45 L1360.44,297.41 L1100.38,386.45 L837,386.45 A0,0 0 0 0 837,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1203,386.45 L1203,396.45 L1213,396.45 L1203,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="843" y="404.0184">Object references of the form</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="843" y="419.3289">{src: "hda", id: &lt;decoded_id&gt;}.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351" x="847" y="434.6395">Allow mapping/reduce constructs. Allows URI src dicts.</text></g><!--MD5=[f215adf382bf0ace6a358f4944a6558b]
class RequestInternalDereferencedToolState--><g id="elem_RequestInternalDereferencedToolState"><rect codeLine="30" fill="#FFEFD5" height="80.9766" id="RequestInternalDereferencedToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="504" x="1851" y="215.95"/><ellipse cx="1966.25" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1968.7231,238.0931 Q1968.1421,238.3919 1967.5029,238.5413 Q1966.8638,238.6907 1966.1582,238.6907 Q1963.6514,238.6907 1962.3315,237.0389 Q1961.0117,235.387 1961.0117,232.2659 Q1961.0117,229.1365 1962.3315,227.4847 Q1963.6514,225.8328 1966.1582,225.8328 Q1966.8638,225.8328 1967.5112,225.9822 Q1968.1587,226.1316 1968.7231,226.4305 L1968.7231,229.1531 Q1968.0923,228.5721 1967.4988,228.3023 Q1966.9053,228.0325 1966.2744,228.0325 Q1964.9297,228.0325 1964.2449,229.0992 Q1963.5601,230.1658 1963.5601,232.2659 Q1963.5601,234.3577 1964.2449,235.4244 Q1964.9297,236.491 1966.2744,236.491 Q1966.9053,236.491 1967.4988,236.2212 Q1968.0923,235.9515 1968.7231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="1986.75" y="237.241">RequestInternalDereferencedToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1852" x2="2354" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="1857" y="265.4852">state_representation = "request_internal"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1852" x2="2354" y1="272.4383" y2="272.4383"/><ellipse cx="1862" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="478" x="1871" y="289.9734">_to_base_model(parameters: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN17"><path d="M1248,386.45 L1248,442.3816 A0,0 0 0 0 1248,442.3816 L1754,442.3816 A0,0 0 0 0 1754,442.3816 L1754,396.45 L1744,386.45 L1610.96,386.45 L1948.75,297.41 L1602.96,386.45 L1248,386.45 A0,0 0 0 0 1248,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1744,386.45 L1744,396.45 L1754,396.45 L1744,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="1254" y="404.0184">Object references of the form</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="1254" y="419.3289">{src: "hda", id: &lt;decoded_id&gt;}.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="481" x="1258" y="434.6395">Allow mapping/reduce constructs. No URI src dicts - all converted to HDAs.</text></g><!--MD5=[48b694eadbf7bc2510a32379c1b70352]
class JobInternalToolState--><g id="elem_JobInternalToolState"><rect codeLine="36" fill="#FFEFD5" height="80.9766" id="JobInternalToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="504" x="1789" y="373.93"/><ellipse cx="1966.75" cy="389.93" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1969.2231,396.0731 Q1968.6421,396.3719 1968.0029,396.5213 Q1967.3638,396.6707 1966.6582,396.6707 Q1964.1514,396.6707 1962.8315,395.0189 Q1961.5117,393.367 1961.5117,390.2459 Q1961.5117,387.1165 1962.8315,385.4647 Q1964.1514,383.8128 1966.6582,383.8128 Q1967.3638,383.8128 1968.0112,383.9622 Q1968.6587,384.1116 1969.2231,384.4105 L1969.2231,387.1331 Q1968.5923,386.5521 1967.9988,386.2823 Q1967.4053,386.0125 1966.7744,386.0125 Q1965.4297,386.0125 1964.7449,387.0792 Q1964.0601,388.1458 1964.0601,390.2459 Q1964.0601,392.3377 1964.7449,393.4044 Q1965.4297,394.471 1966.7744,394.471 Q1967.4053,394.471 1967.9988,394.2012 Q1968.5923,393.9315 1969.2231,393.3504 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1987.25" y="395.221">JobInternalToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1790" x2="2292" y1="405.93" y2="405.93"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252" x="1795" y="423.4652">state_representation = "job_internal"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1790" x2="2292" y1="430.4183" y2="430.4183"/><ellipse cx="1800" cy="444.1624" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="478" x="1809" y="447.9534">_to_base_model(parameters: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN21"><path d="M1919,515.91 L1919,587.1522 A0,0 0 0 0 1919,587.1522 L2163,587.1522 A0,0 0 0 0 2163,587.1522 L2163,525.91 L2153,515.91 L2045,515.91 L2041,455.23 L2037,515.91 L1919,515.91 A0,0 0 0 0 1919,515.91 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2153,515.91 L2153,525.91 L2163,525.91 L2153,515.91 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="1925" y="533.4784">Object references of the form</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="1925" y="548.7889">{src: "hda", id: &lt;decoded_id&gt;}.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="1929" y="564.0995">Mapping constructs expanded out.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1929" y="579.41">(Defaults are inserted?)</text></g><!--MD5=[b5be25705a3035794fde528f69705fe5]
class TestCaseToolState--><g id="elem_TestCaseToolState"><rect codeLine="43" fill="#FFEFD5" height="80.9766" id="TestCaseToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="519" x="2426.5" y="215.95"/><ellipse cx="2618.25" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2620.7231,238.0931 Q2620.1421,238.3919 2619.5029,238.5413 Q2618.8638,238.6907 2618.1582,238.6907 Q2615.6514,238.6907 2614.3315,237.0389 Q2613.0117,235.387 2613.0117,232.2659 Q2613.0117,229.1365 2614.3315,227.4847 Q2615.6514,225.8328 2618.1582,225.8328 Q2618.8638,225.8328 2619.5112,225.9822 Q2620.1587,226.1316 2620.7231,226.4305 L2620.7231,229.1531 Q2620.0923,228.5721 2619.4988,228.3023 Q2618.9053,228.0325 2618.2744,228.0325 Q2616.9297,228.0325 2616.2449,229.0992 Q2615.5601,230.1658 2615.5601,232.2659 Q2615.5601,234.3577 2616.2449,235.4244 Q2616.9297,236.491 2618.2744,236.491 Q2618.9053,236.491 2619.4988,236.2212 Q2620.0923,235.9515 2620.7231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="2638.75" y="237.241">TestCaseToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="2427.5" x2="2944.5" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="2432.5" y="265.4852">state_representation = "test_case"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="2427.5" x2="2944.5" y1="272.4383" y2="272.4383"/><ellipse cx="2437.5" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="2446.5" y="289.9734">_to_base_model(input_models: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN25"><path d="M2327.5,386.45 L2327.5,442.3816 A0,0 0 0 0 2327.5,442.3816 L2658.5,442.3816 A0,0 0 0 0 2658.5,442.3816 L2658.5,396.45 L2648.5,386.45 L2530.82,386.45 L2636.55,297.41 L2522.82,386.45 L2327.5,386.45 A0,0 0 0 0 2327.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2648.5,386.45 L2648.5,396.45 L2658.5,396.45 L2648.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="2333.5" y="404.0184">Object references of the form file name and URIs.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="2337.5" y="419.3289">Mapping constructs not allowed.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2333.5" y="434.6395"> </text></g><!--MD5=[0b5cf8096012b23efe80636e21325a2e]
class WorkflowStepToolState--><g id="elem_WorkflowStepToolState"><rect codeLine="49" fill="#FFEFD5" height="80.9766" id="WorkflowStepToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="519" x="2980.5" y="215.95"/><ellipse cx="3156.25" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3158.7231,238.0931 Q3158.1421,238.3919 3157.5029,238.5413 Q3156.8638,238.6907 3156.1582,238.6907 Q3153.6514,238.6907 3152.3315,237.0389 Q3151.0117,235.387 3151.0117,232.2659 Q3151.0117,229.1365 3152.3315,227.4847 Q3153.6514,225.8328 3156.1582,225.8328 Q3156.8638,225.8328 3157.5112,225.9822 Q3158.1587,226.1316 3158.7231,226.4305 L3158.7231,229.1531 Q3158.0923,228.5721 3157.4988,228.3023 Q3156.9053,228.0325 3156.2744,228.0325 Q3154.9297,228.0325 3154.2449,229.0992 Q3153.5601,230.1658 3153.5601,232.2659 Q3153.5601,234.3577 3154.2449,235.4244 Q3154.9297,236.491 3156.2744,236.491 Q3156.9053,236.491 3157.4988,236.2212 Q3158.0923,235.9515 3158.7231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="3176.75" y="237.241">WorkflowStepToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="2981.5" x2="3498.5" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269" x="2986.5" y="265.4852">state_representation = "workflow_step"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="2981.5" x2="3498.5" y1="272.4383" y2="272.4383"/><ellipse cx="2991.5" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="3000.5" y="289.9734">_to_base_model(input_models: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN29"><path d="M2693.5,394.11 L2693.5,434.7311 A0,0 0 0 0 2693.5,434.7311 L3100.5,434.7311 A0,0 0 0 0 3100.5,434.7311 L3100.5,404.11 L3090.5,394.11 L2944.25,394.11 L3152.11,297.41 L2936.25,394.11 L2693.5,394.11 A0,0 0 0 0 2693.5,394.11 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3090.5,394.11 L3090.5,404.11 L3100.5,404.11 L3090.5,394.11 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="386" x="2699.5" y="411.6784">Nearly everything optional except conditional discriminators.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2699.5" y="426.9889"> </text></g><!--MD5=[542f134bb4b15aef48a778eaaf117be7]
class WorkflowStepLinkedToolState--><g id="elem_WorkflowStepLinkedToolState"><rect codeLine="55" fill="#FFEFD5" height="80.9766" id="WorkflowStepLinkedToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="519" x="3135.5" y="373.93"/><ellipse cx="3288.75" cy="389.93" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3291.2231,396.0731 Q3290.6421,396.3719 3290.0029,396.5213 Q3289.3638,396.6707 3288.6582,396.6707 Q3286.1514,396.6707 3284.8315,395.0189 Q3283.5117,393.367 3283.5117,390.2459 Q3283.5117,387.1165 3284.8315,385.4647 Q3286.1514,383.8128 3288.6582,383.8128 Q3289.3638,383.8128 3290.0112,383.9622 Q3290.6587,384.1116 3291.2231,384.4105 L3291.2231,387.1331 Q3290.5923,386.5521 3289.9988,386.2823 Q3289.4053,386.0125 3288.7744,386.0125 Q3287.4297,386.0125 3286.7449,387.0792 Q3286.0601,388.1458 3286.0601,390.2459 Q3286.0601,392.3377 3286.7449,393.4044 Q3287.4297,394.471 3288.7744,394.471 Q3289.4053,394.471 3289.9988,394.2012 Q3290.5923,393.9315 3291.2231,393.3504 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="3309.25" y="395.221">WorkflowStepLinkedToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="3136.5" x2="3653.5" y1="405.93" y2="405.93"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318" x="3141.5" y="423.4652">state_representation = "workflow_step_linked"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="3136.5" x2="3653.5" y1="430.4183" y2="430.4183"/><ellipse cx="3146.5" cy="444.1624" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="3155.5" y="447.9534">_to_base_model(input_models: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN33"><path d="M3172.5,523.56 L3172.5,579.4916 A0,0 0 0 0 3172.5,579.4916 L3617.5,579.4916 A0,0 0 0 0 3617.5,579.4916 L3617.5,533.56 L3607.5,523.56 L3399,523.56 L3395,455.23 L3391,523.56 L3172.5,523.56 A0,0 0 0 0 3172.5,523.56 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M3607.5,523.56 L3607.5,533.56 L3617.5,533.56 L3607.5,523.56 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="424" x="3178.5" y="541.1284">Expect pre-process ``in`` dictionaries and bring in representation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309" x="3182.5" y="556.4389">of links and defaults and validate them in model.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="3178.5" y="571.7495"> </text></g><!--MD5=[97cada0ade257b77640f269b3a628df3]
reverse link ToolState to RelaxedRequestToolState--><g id="link_ToolState_RelaxedRequestToolState"><path codeLine="61" d="M2008.68,115.49 C1666.17,134.91 1096.95,170.34 608,215.95 C581.55,218.42 553.95,221.26 526.44,224.26 " fill="none" id="ToolState-backto-RelaxedRequestToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2008.27,108.5,2028.63,114.36,2009.06,122.48,2008.27,108.5" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[269f52e8487e2a76b96d386d755c75d8]
reverse link ToolState to RequestToolState--><g id="link_ToolState_RequestToolState"><path codeLine="62" d="M2008.97,130.26 C1786.13,153.18 1477.84,185.48 1207,215.95 C1181.77,218.79 1155.47,221.82 1129.2,224.89 " fill="none" id="ToolState-backto-RequestToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2008.15,123.31,2028.76,128.23,2009.58,137.24,2008.15,123.31" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[dd93b154e0c0c396ba5562a34580b1a6]
reverse link ToolState to RequestInternalToolState--><g id="link_ToolState_RequestInternalToolState"><path codeLine="63" d="M2009.23,156.24 C1903.55,175.9 1787.61,197.47 1690.91,215.46 " fill="none" id="ToolState-backto-RequestInternalToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2007.79,149.39,2028.73,152.61,2010.35,163.15,2007.79,149.39" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[0358dda221f8b059da8053d6fb03640e]
reverse link ToolState to RequestInternalDereferencedToolState--><g id="link_ToolState_RequestInternalDereferencedToolState"><path codeLine="64" d="M2222.78,167.87 C2200.45,184.19 2177.37,201.07 2157.5,215.6 " fill="none" id="ToolState-backto-RequestInternalDereferencedToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2218.55,162.29,2238.82,156.14,2226.81,173.59,2218.55,162.29" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[36305bbce111c7e7d9f6236ae242d2c7]
reverse link ToolState to JobInternalToolState--><g id="link_ToolState_JobInternalToolState"><path codeLine="65" d="M2366.99,174.28 C2386.38,213.64 2398.5,260.96 2373,296.93 C2348.27,331.81 2312.24,356.33 2272.94,373.54 " fill="none" id="ToolState-backto-JobInternalToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2360.86,177.67,2357.57,156.73,2373.2,171.05,2360.86,177.67" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[9c881c60fbac45c77e4761a7bd9f78b2]
reverse link ToolState to TestCaseToolState--><g id="link_ToolState_TestCaseToolState"><path codeLine="66" d="M2469.75,163.75 C2511.15,181.3 2554.75,199.79 2591.87,215.53 " fill="none" id="ToolState-backto-TestCaseToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2467.03,170.2,2451.35,155.95,2472.5,157.31,2467.03,170.2" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[6e0dcd3c78d7670a6ff8f7e8edcb95ac]
reverse link ToolState to WorkflowStepToolState--><g id="link_ToolState_WorkflowStepToolState"><path codeLine="67" d="M2624.88,151.17 C2748.59,172.14 2888.92,195.93 3004.28,215.48 " fill="none" id="ToolState-backto-WorkflowStepToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2624.02,158.12,2605.48,147.88,2626.36,144.32,2624.02,158.12" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[4d55efd884362c553ce3b70d5bb3d0d7]
reverse link ToolState to WorkflowStepLinkedToolState--><g id="link_ToolState_WorkflowStepLinkedToolState"><path codeLine="68" d="M2625.09,109.22 C2959.46,123.41 3454.39,154.55 3517,215.95 C3557.82,255.99 3559.77,295.12 3530,343.93 C3522.86,355.63 3513.05,365.45 3501.95,373.66 " fill="none" id="ToolState-backto-WorkflowStepLinkedToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2625,116.23,2605.31,108.4,2625.59,102.24,2625,116.23" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[772b4d9bce38a661fea2f93793a280fe]
link RelaxedRequestToolState to RequestToolState--><g id="link_RelaxedRequestToolState_RequestToolState"><path codeLine="70" d="M526.23,256.44 C558.83,256.44 592.21,256.44 624.81,256.44 " fill="none" id="RelaxedRequestToolState-RequestToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="#FF8C00" points="553.5,245.0953,544.4549,242.1563,544.4549,248.0342,553.5,245.0953" style="stroke:#FF8C00;stroke-width:1.0;"/><text fill="#FF8C00" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="557.5" y="250.0084">strictify</text></g><!--MD5=[7b766fbe81ea9c5eae779649ae0bfd4b]
link RequestToolState to RequestInternalToolState--><g id="link_RequestToolState_RequestInternalToolState"><path codeLine="72" d="M1129.29,256.44 C1160.47,256.44 1192.34,256.44 1223.52,256.44 " fill="none" id="RequestToolState-RequestInternalToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="#FF8C00" points="1156.5,245.0953,1147.4549,242.1563,1147.4549,248.0342,1156.5,245.0953" style="stroke:#FF8C00;stroke-width:1.0;"/><text fill="#FF8C00" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1160.5" y="250.0084">decode</text></g><!--MD5=[fba7cd1c751470181daccad9648ff09d]
link RequestInternalToolState to RequestInternalDereferencedToolState--><g id="link_RequestInternalToolState_RequestInternalDereferencedToolState"><path codeLine="74" d="M1728.31,256.44 C1768.64,256.44 1810.37,256.44 1850.69,256.44 " fill="none" id="RequestInternalToolState-RequestInternalDereferencedToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="#FF8C00" points="1755.5,245.0953,1746.4549,242.1563,1746.4549,248.0342,1755.5,245.0953" style="stroke:#FF8C00;stroke-width:1.0;"/><text fill="#FF8C00" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="1759.5" y="250.0084">dereference</text></g><!--MD5=[eaac149cd52357b54ad3c2582b313d87]
reverse link RequestInternalDereferencedToolState to JobInternalToolState--><g id="link_RequestInternalDereferencedToolState_JobInternalToolState"><path codeLine="76" d="M2081.86,310.62 C2073.68,331.2 2064.48,354.35 2056.88,373.46 " fill="none" id="RequestInternalDereferencedToolState-backto-JobInternalToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2086.64,298.61,2080.7061,302.7074,2082.2061,309.7608,2088.14,305.6634,2086.64,298.61" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="#FF8C00" points="2077.013,340.2316,2083.0853,332.9119,2077.6232,330.7407,2077.013,340.2316" style="stroke:#FF8C00;stroke-width:1.0;"/><text fill="#FF8C00" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="2087.86" y="340.4984">expand</text></g><!--MD5=[1bcb7e5577c97a9a9dc82459e6e9a8ef]
reverse link WorkflowStepToolState to WorkflowStepLinkedToolState--><g id="link_WorkflowStepToolState_WorkflowStepLinkedToolState"><path codeLine="78" d="M3282.49,308 C3293.14,320.05 3304.75,332.67 3316,343.93 C3325.94,353.88 3337.05,364.13 3347.73,373.6 " fill="none" id="WorkflowStepToolState-backto-WorkflowStepLinkedToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="3274.02,298.3,3274.9585,305.4498,3281.9193,307.3334,3280.9808,300.1836,3274.02,298.3" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="#FF8C00" points="3324.5258,339.1305,3320.2314,330.6447,3316.0637,334.7895,3324.5258,339.1305" style="stroke:#FF8C00;stroke-width:1.0;"/><text fill="#FF8C00" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="3330" y="340.4984">preprocess_links_and_defaults</text></g><!--MD5=[804ec126cf70592c99cbb546d88f8ffa]
@startuml

!include plantuml_options.txt

package galaxy.tool_util.parameters.state {

class ToolState {
state_representation: str
input_state: Dict[str, Any]
+ validate(parameters: ToolParameterBundle)
+ {abstract} _to_base_model(parameters: ToolParameterBundle): Optional[Type[BaseModel]]
}

class RelaxedRequestToolState {
state_representation = "request"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <encoded_id>}.\n Allow mapping/reduce constructs. Relaxed syntax to allow some of the odd\nstuff allowed in legacy tool input format.

class RequestToolState {
state_representation = "request"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <encoded_id>}.\n Allow mapping/reduce constructs.

class RequestInternalToolState {
state_representation = "request_internal"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Allow mapping/reduce constructs. Allows URI src dicts.

class RequestInternalDereferencedToolState {
state_representation = "request_internal"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Allow mapping/reduce constructs. No URI src dicts - all converted to HDAs.

class JobInternalToolState {
state_representation = "job_internal"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]

}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Mapping constructs expanded out.\n (Defaults are inserted?)

class TestCaseToolState {
state_representation = "test_case"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]    
}
note bottom: Object references of the form file name and URIs.\n Mapping constructs not allowed.\n

class WorkflowStepToolState {
state_representation = "workflow_step"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]    
}
note bottom: Nearly everything optional except conditional discriminators.\n

class WorkflowStepLinkedToolState {
state_representation = "workflow_step_linked"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]    
}
note bottom: Expect pre-process ``in`` dictionaries and bring in representation\n of links and defaults and validate them in model.\n

ToolState <|- - RelaxedRequestToolState
ToolState <|- - RequestToolState
ToolState <|- - RequestInternalToolState
ToolState <|- - RequestInternalDereferencedToolState
ToolState <|- - JobInternalToolState
ToolState <|- - TestCaseToolState
ToolState <|- - WorkflowStepToolState
ToolState <|- - WorkflowStepLinkedToolState

RelaxedRequestToolState - RequestToolState : strictify >

RequestToolState - RequestInternalToolState : decode >

RequestInternalToolState - RequestInternalDereferencedToolState : dereference > 

RequestInternalDereferencedToolState o- - JobInternalToolState : expand >

WorkflowStepToolState o- - WorkflowStepLinkedToolState : preprocess_links_and_defaults >
}
@enduml

@startuml


skinparam class {
    ArrowFontColor DarkOrange
    BackgroundColor #FFEFD5
    ArrowColor Orange
    BorderColor DarkOrange
}

skinparam object {
    ArrowFontColor DarkOrange
    BackgroundColor #FFEFD5
    BackgroundColor #FFEFD5
    ArrowColor Orange
    BorderColor DarkOrange
}

skinparam ComponentBackgroundColor #FFEFD5
skinparam ComponentBorderColor DarkOrange

skinparam DatabaseBackgroundColor #FFEFD5
skinparam DatabaseBorderColor DarkOrange

skinparam StorageBackgroundColor #FFEFD5
skinparam StorageBorderColor DarkOrange

skinparam QueueBackgroundColor #FFEFD5
skinparam QueueBorderColor DarkOrange

skinparam note {
    BackgroundColor #FFEFD5
    BorderColor #BF5700
}

skinparam sequence {
    ArrowColor Orange
    ArrowFontColor DarkOrange
    ActorBorderColor DarkOrange
    ActorBackgroundColor #FFEFD5

    ParticipantBorderColor DarkOrange
    ParticipantBackgroundColor #FFEFD5

    LifeLineBorderColor DarkOrange
    LifeLineBackgroundColor #FFEFD5

    DividerBorderColor DarkOrange
    GroupBorderColor DarkOrange
}


package galaxy.tool_util.parameters.state {

class ToolState {
state_representation: str
input_state: Dict[str, Any]
+ validate(parameters: ToolParameterBundle)
+ {abstract} _to_base_model(parameters: ToolParameterBundle): Optional[Type[BaseModel]]
}

class RelaxedRequestToolState {
state_representation = "request"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <encoded_id>}.\n Allow mapping/reduce constructs. Relaxed syntax to allow some of the odd\nstuff allowed in legacy tool input format.

class RequestToolState {
state_representation = "request"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <encoded_id>}.\n Allow mapping/reduce constructs.

class RequestInternalToolState {
state_representation = "request_internal"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Allow mapping/reduce constructs. Allows URI src dicts.

class RequestInternalDereferencedToolState {
state_representation = "request_internal"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Allow mapping/reduce constructs. No URI src dicts - all converted to HDAs.

class JobInternalToolState {
state_representation = "job_internal"
+ _to_base_model(parameters: ToolParameterBundle): Type[BaseModel]

}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Mapping constructs expanded out.\n (Defaults are inserted?)

class TestCaseToolState {
state_representation = "test_case"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]    
}
note bottom: Object references of the form file name and URIs.\n Mapping constructs not allowed.\n

class WorkflowStepToolState {
state_representation = "workflow_step"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]    
}
note bottom: Nearly everything optional except conditional discriminators.\n

class WorkflowStepLinkedToolState {
state_representation = "workflow_step_linked"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]    
}
note bottom: Expect pre-process ``in`` dictionaries and bring in representation\n of links and defaults and validate them in model.\n

ToolState <|- - RelaxedRequestToolState
ToolState <|- - RequestToolState
ToolState <|- - RequestInternalToolState
ToolState <|- - RequestInternalDereferencedToolState
ToolState <|- - JobInternalToolState
ToolState <|- - TestCaseToolState
ToolState <|- - WorkflowStepToolState
ToolState <|- - WorkflowStepLinkedToolState

RelaxedRequestToolState - RequestToolState : strictify >

RequestToolState - RequestInternalToolState : decode >

RequestInternalToolState - RequestInternalDereferencedToolState : dereference > 

RequestInternalDereferencedToolState o- - JobInternalToolState : expand >

WorkflowStepToolState o- - WorkflowStepLinkedToolState : preprocess_links_and_defaults >
}
@enduml

PlantUML version 1.2022.8(Sun Sep 25 05:00:33 EDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>