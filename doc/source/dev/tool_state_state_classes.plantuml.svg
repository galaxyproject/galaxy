<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="610px" preserveAspectRatio="none" style="width:2482px;height:610px;background:#FFFFFF;" version="1.1" viewBox="0 0 2482 610" width="2482px" zoomAndPan="magnify"><defs/><g><!--MD5=[85f7edf671c9ca26ac4c2dd7910a1a26]
cluster galaxy.tool_util.parameters.state--><g id="cluster_galaxy.tool_util.parameters.state"><path d="M8.5,6 L242.5,6 A3.75,3.75 0 0 1 245,8.5 L252,28.4883 L2472.5,28.4883 A2.5,2.5 0 0 1 2475,30.9883 L2475,600.65 A2.5,2.5 0 0 1 2472.5,603.15 L8.5,603.15 A2.5,2.5 0 0 1 6,600.65 L6,8.5 A2.5,2.5 0 0 1 8.5,6 " fill="none" style="stroke:#FF8C00;stroke-width:1.5;"/><line style="stroke:#FF8C00;stroke-width:1.5;" x1="6" x2="252" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="233" x="10" y="21.5352">galaxy.tool_util.parameters.state</text></g><!--MD5=[001dd53740ce1259671441135e7c1cd4]
class ToolState--><g id="elem_ToolState"><rect codeLine="5" fill="#FFEFD5" height="113.9531" id="ToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="588" x="971" y="41"/><ellipse cx="1228.25" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1230.7231,63.1431 Q1230.1421,63.4419 1229.5029,63.5913 Q1228.8638,63.7407 1228.1582,63.7407 Q1225.6514,63.7407 1224.3315,62.0889 Q1223.0117,60.437 1223.0117,57.3159 Q1223.0117,54.1865 1224.3315,52.5347 Q1225.6514,50.8828 1228.1582,50.8828 Q1228.8638,50.8828 1229.5112,51.0322 Q1230.1587,51.1816 1230.7231,51.4805 L1230.7231,54.2031 Q1230.0923,53.6221 1229.4988,53.3523 Q1228.9053,53.0825 1228.2744,53.0825 Q1226.9297,53.0825 1226.2449,54.1492 Q1225.5601,55.2158 1225.5601,57.3159 Q1225.5601,59.4077 1226.2449,60.4744 Q1226.9297,61.541 1228.2744,61.541 Q1228.9053,61.541 1229.4988,61.2712 Q1230.0923,61.0015 1230.7231,60.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1248.75" y="62.291">ToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="972" x2="1558" y1="73" y2="73"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="977" y="90.5352">state_representation: str</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="977" y="107.0234">input_state: Dict[str, Any]</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="972" x2="1558" y1="113.9766" y2="113.9766"/><ellipse cx="982" cy="127.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312" x="991" y="131.5117">validate(input_models: ToolParameterBundle)</text><ellipse cx="982" cy="144.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="562" x="991" y="148">_to_base_model(input_models: ToolParameterBundle): Optional[Type[BaseModel]]</text></g><!--MD5=[93f66f43011efc5ae11c3d66e5c838fe]
class RequestToolState--><g id="elem_RequestToolState"><rect codeLine="12" fill="#FFEFD5" height="80.9766" id="RequestToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="519" x="21.5" y="215.95"/><ellipse cx="216.75" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M219.2231,238.0931 Q218.6421,238.3919 218.0029,238.5413 Q217.3638,238.6907 216.6582,238.6907 Q214.1514,238.6907 212.8315,237.0389 Q211.5117,235.387 211.5117,232.2659 Q211.5117,229.1365 212.8315,227.4847 Q214.1514,225.8328 216.6582,225.8328 Q217.3638,225.8328 218.0112,225.9822 Q218.6587,226.1316 219.2231,226.4305 L219.2231,229.1531 Q218.5923,228.5721 217.9988,228.3023 Q217.4053,228.0325 216.7744,228.0325 Q215.4297,228.0325 214.7449,229.0992 Q214.0601,230.1658 214.0601,232.2659 Q214.0601,234.3577 214.7449,235.4244 Q215.4297,236.491 216.7744,236.491 Q217.4053,236.491 217.9988,236.2212 Q218.5923,235.9515 219.2231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="237.25" y="237.241">RequestToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="22.5" x2="539.5" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="27.5" y="265.4852">state_representation = "request"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="22.5" x2="539.5" y1="272.4383" y2="272.4383"/><ellipse cx="32.5" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="41.5" y="289.9734">_to_base_model(input_models: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN5"><path d="M22.5,386.45 L22.5,442.3816 A0,0 0 0 0 22.5,442.3816 L265.5,442.3816 A0,0 0 0 0 265.5,442.3816 L265.5,396.45 L255.5,386.45 L172.07,386.45 L246.07,297.21 L164.07,386.45 L22.5,386.45 A0,0 0 0 0 22.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M255.5,386.45 L255.5,396.45 L265.5,396.45 L255.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="28.5" y="404.0184">Object references of the form</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="28.5" y="419.3289">{src: "hda", id: &lt;encoded_id&gt;}.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="32.5" y="434.6395">Allow mapping/reduce constructs.</text></g><!--MD5=[93d581e844301c3bb0d1bdd786d99f81]
class RequestInternalToolState--><g id="elem_RequestInternalToolState"><rect codeLine="18" fill="#FFEFD5" height="80.9766" id="RequestInternalToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="519" x="634.5" y="215.95"/><ellipse cx="803.25" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M805.7231,238.0931 Q805.1421,238.3919 804.5029,238.5413 Q803.8638,238.6907 803.1582,238.6907 Q800.6514,238.6907 799.3315,237.0389 Q798.0117,235.387 798.0117,232.2659 Q798.0117,229.1365 799.3315,227.4847 Q800.6514,225.8328 803.1582,225.8328 Q803.8638,225.8328 804.5112,225.9822 Q805.1587,226.1316 805.7231,226.4305 L805.7231,229.1531 Q805.0923,228.5721 804.4988,228.3023 Q803.9053,228.0325 803.2744,228.0325 Q801.9297,228.0325 801.2449,229.0992 Q800.5601,230.1658 800.5601,232.2659 Q800.5601,234.3577 801.2449,235.4244 Q801.9297,236.491 803.2744,236.491 Q803.9053,236.491 804.4988,236.2212 Q805.0923,235.9515 805.7231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="823.75" y="237.241">RequestInternalToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="635.5" x2="1152.5" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="640.5" y="265.4852">state_representation = "request_internal"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="635.5" x2="1152.5" y1="272.4383" y2="272.4383"/><ellipse cx="645.5" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="654.5" y="289.9734">_to_base_model(input_models: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN9"><path d="M300.5,386.45 L300.5,442.3816 A0,0 0 0 0 300.5,442.3816 L543.5,442.3816 A0,0 0 0 0 543.5,442.3816 L543.5,396.45 L533.5,386.45 L509.08,386.45 L773.06,297.41 L501.08,386.45 L300.5,386.45 A0,0 0 0 0 300.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M533.5,386.45 L533.5,396.45 L543.5,396.45 L533.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="306.5" y="404.0184">Object references of the form</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="306.5" y="419.3289">{src: "hda", id: &lt;decoded_id&gt;}.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="310.5" y="434.6395">Allow mapping/reduce constructs.</text></g><!--MD5=[48b694eadbf7bc2510a32379c1b70352]
class JobInternalToolState--><g id="elem_JobInternalToolState"><rect codeLine="24" fill="#FFEFD5" height="80.9766" id="JobInternalToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="519" x="578.5" y="373.93"/><ellipse cx="763.75" cy="389.93" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M766.2231,396.0731 Q765.6421,396.3719 765.0029,396.5213 Q764.3638,396.6707 763.6582,396.6707 Q761.1514,396.6707 759.8315,395.0189 Q758.5117,393.367 758.5117,390.2459 Q758.5117,387.1165 759.8315,385.4647 Q761.1514,383.8128 763.6582,383.8128 Q764.3638,383.8128 765.0112,383.9622 Q765.6587,384.1116 766.2231,384.4105 L766.2231,387.1331 Q765.5923,386.5521 764.9988,386.2823 Q764.4053,386.0125 763.7744,386.0125 Q762.4297,386.0125 761.7449,387.0792 Q761.0601,388.1458 761.0601,390.2459 Q761.0601,392.3377 761.7449,393.4044 Q762.4297,394.471 763.7744,394.471 Q764.4053,394.471 764.9988,394.2012 Q765.5923,393.9315 766.2231,393.3504 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="784.25" y="395.221">JobInternalToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="579.5" x2="1096.5" y1="405.93" y2="405.93"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252" x="584.5" y="423.4652">state_representation = "job_internal"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="579.5" x2="1096.5" y1="430.4183" y2="430.4183"/><ellipse cx="589.5" cy="444.1624" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="598.5" y="447.9534">_to_base_model(input_models: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN13"><path d="M716,515.91 L716,587.1522 A0,0 0 0 0 716,587.1522 L960,587.1522 A0,0 0 0 0 960,587.1522 L960,525.91 L950,515.91 L842,515.91 L838,455.23 L834,515.91 L716,515.91 A0,0 0 0 0 716,515.91 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M950,515.91 L950,525.91 L960,525.91 L950,515.91 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="722" y="533.4784">Object references of the form</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="722" y="548.7889">{src: "hda", id: &lt;decoded_id&gt;}.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="726" y="564.0995">Mapping constructs expanded out.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="726" y="579.41">(Defaults are inserted?)</text></g><!--MD5=[b5be25705a3035794fde528f69705fe5]
class TestCaseToolState--><g id="elem_TestCaseToolState"><rect codeLine="31" fill="#FFEFD5" height="80.9766" id="TestCaseToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="519" x="1224.5" y="215.95"/><ellipse cx="1416.25" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1418.7231,238.0931 Q1418.1421,238.3919 1417.5029,238.5413 Q1416.8638,238.6907 1416.1582,238.6907 Q1413.6514,238.6907 1412.3315,237.0389 Q1411.0117,235.387 1411.0117,232.2659 Q1411.0117,229.1365 1412.3315,227.4847 Q1413.6514,225.8328 1416.1582,225.8328 Q1416.8638,225.8328 1417.5112,225.9822 Q1418.1587,226.1316 1418.7231,226.4305 L1418.7231,229.1531 Q1418.0923,228.5721 1417.4988,228.3023 Q1416.9053,228.0325 1416.2744,228.0325 Q1414.9297,228.0325 1414.2449,229.0992 Q1413.5601,230.1658 1413.5601,232.2659 Q1413.5601,234.3577 1414.2449,235.4244 Q1414.9297,236.491 1416.2744,236.491 Q1416.9053,236.491 1417.4988,236.2212 Q1418.0923,235.9515 1418.7231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1436.75" y="237.241">TestCaseToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1225.5" x2="1742.5" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="1230.5" y="265.4852">state_representation = "test_case"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1225.5" x2="1742.5" y1="272.4383" y2="272.4383"/><ellipse cx="1235.5" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="1244.5" y="289.9734">_to_base_model(input_models: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN17"><path d="M1132.5,386.45 L1132.5,442.3816 A0,0 0 0 0 1132.5,442.3816 L1463.5,442.3816 A0,0 0 0 0 1463.5,442.3816 L1463.5,396.45 L1453.5,386.45 L1334.68,386.45 L1436.58,297.21 L1326.68,386.45 L1132.5,386.45 A0,0 0 0 0 1132.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1453.5,386.45 L1453.5,396.45 L1463.5,396.45 L1453.5,386.45 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="1138.5" y="404.0184">Object references of the form file name and URIs.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1142.5" y="419.3289">Mapping constructs not allowed.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1138.5" y="434.6395"> </text></g><!--MD5=[0b5cf8096012b23efe80636e21325a2e]
class WorkflowStepToolState--><g id="elem_WorkflowStepToolState"><rect codeLine="37" fill="#FFEFD5" height="80.9766" id="WorkflowStepToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="519" x="1778.5" y="215.95"/><ellipse cx="1954.25" cy="231.95" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1956.7231,238.0931 Q1956.1421,238.3919 1955.5029,238.5413 Q1954.8638,238.6907 1954.1582,238.6907 Q1951.6514,238.6907 1950.3315,237.0389 Q1949.0117,235.387 1949.0117,232.2659 Q1949.0117,229.1365 1950.3315,227.4847 Q1951.6514,225.8328 1954.1582,225.8328 Q1954.8638,225.8328 1955.5112,225.9822 Q1956.1587,226.1316 1956.7231,226.4305 L1956.7231,229.1531 Q1956.0923,228.5721 1955.4988,228.3023 Q1954.9053,228.0325 1954.2744,228.0325 Q1952.9297,228.0325 1952.2449,229.0992 Q1951.5601,230.1658 1951.5601,232.2659 Q1951.5601,234.3577 1952.2449,235.4244 Q1952.9297,236.491 1954.2744,236.491 Q1954.9053,236.491 1955.4988,236.2212 Q1956.0923,235.9515 1956.7231,235.3704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="1974.75" y="237.241">WorkflowStepToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1779.5" x2="2296.5" y1="247.95" y2="247.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269" x="1784.5" y="265.4852">state_representation = "workflow_step"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1779.5" x2="2296.5" y1="272.4383" y2="272.4383"/><ellipse cx="1789.5" cy="286.1824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="1798.5" y="289.9734">_to_base_model(input_models: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN21"><path d="M1498.5,394.11 L1498.5,434.7311 A0,0 0 0 0 1498.5,434.7311 L1905.5,434.7311 A0,0 0 0 0 1905.5,434.7311 L1905.5,404.11 L1895.5,394.11 L1748.36,394.11 L1951.91,297.41 L1740.36,394.11 L1498.5,394.11 A0,0 0 0 0 1498.5,394.11 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M1895.5,394.11 L1895.5,404.11 L1905.5,404.11 L1895.5,394.11 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="386" x="1504.5" y="411.6784">Nearly everything optional except conditional discriminators.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1504.5" y="426.9889"> </text></g><!--MD5=[542f134bb4b15aef48a778eaaf117be7]
class WorkflowStepLinkedToolState--><g id="elem_WorkflowStepLinkedToolState"><rect codeLine="43" fill="#FFEFD5" height="80.9766" id="WorkflowStepLinkedToolState" rx="2.5" ry="2.5" style="stroke:#FF8C00;stroke-width:0.5;" width="519" x="1940.5" y="373.93"/><ellipse cx="2093.75" cy="389.93" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2096.2231,396.0731 Q2095.6421,396.3719 2095.0029,396.5213 Q2094.3638,396.6707 2093.6582,396.6707 Q2091.1514,396.6707 2089.8315,395.0189 Q2088.5117,393.367 2088.5117,390.2459 Q2088.5117,387.1165 2089.8315,385.4647 Q2091.1514,383.8128 2093.6582,383.8128 Q2094.3638,383.8128 2095.0112,383.9622 Q2095.6587,384.1116 2096.2231,384.4105 L2096.2231,387.1331 Q2095.5923,386.5521 2094.9988,386.2823 Q2094.4053,386.0125 2093.7744,386.0125 Q2092.4297,386.0125 2091.7449,387.0792 Q2091.0601,388.1458 2091.0601,390.2459 Q2091.0601,392.3377 2091.7449,393.4044 Q2092.4297,394.471 2093.7744,394.471 Q2094.4053,394.471 2094.9988,394.2012 Q2095.5923,393.9315 2096.2231,393.3504 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="2114.25" y="395.221">WorkflowStepLinkedToolState</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1941.5" x2="2458.5" y1="405.93" y2="405.93"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318" x="1946.5" y="423.4652">state_representation = "workflow_step_linked"</text><line style="stroke:#FF8C00;stroke-width:0.5;" x1="1941.5" x2="2458.5" y1="430.4183" y2="430.4183"/><ellipse cx="1951.5" cy="444.1624" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="1960.5" y="447.9534">_to_base_model(input_models: ToolParameterBundle): Type[BaseModel]</text></g><g id="elem_GMN25"><path d="M1977.5,523.56 L1977.5,579.4916 A0,0 0 0 0 1977.5,579.4916 L2422.5,579.4916 A0,0 0 0 0 2422.5,579.4916 L2422.5,533.56 L2412.5,523.56 L2204,523.56 L2200,455.23 L2196,523.56 L1977.5,523.56 A0,0 0 0 0 1977.5,523.56 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><path d="M2412.5,523.56 L2412.5,533.56 L2422.5,533.56 L2412.5,523.56 " fill="#FFEFD5" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="424" x="1983.5" y="541.1284">Expect pre-process ``in`` dictionaries and bring in representation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309" x="1987.5" y="556.4389">of links and defaults and validate them in model.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1983.5" y="571.7495"> </text></g><!--MD5=[269f52e8487e2a76b96d386d755c75d8]
reverse link ToolState to RequestToolState--><g id="link_ToolState_RequestToolState"><path codeLine="49" d="M949.73,149.11 C814.82,170.56 659.47,195.26 532.47,215.46 " fill="none" id="ToolState-backto-RequestToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="948.42,142.23,969.27,146,950.62,156.06,948.42,142.23" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[dd93b154e0c0c396ba5562a34580b1a6]
reverse link ToolState to RequestInternalToolState--><g id="link_ToolState_RequestInternalToolState"><path codeLine="50" d="M1111.71,163.63 C1070,181.22 1026.04,199.76 988.64,215.53 " fill="none" id="ToolState-backto-RequestInternalToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="1108.78,157.27,1129.93,155.94,1114.22,170.16,1108.78,157.27" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[36305bbce111c7e7d9f6236ae242d2c7]
reverse link ToolState to JobInternalToolState--><g id="link_ToolState_JobInternalToolState"><path codeLine="51" d="M1227.07,174.31 C1220.29,188.11 1213.36,202.43 1207,215.95 C1190.25,251.6 1199.97,270.24 1171,296.93 C1133.16,331.79 1084.3,356.32 1035.73,373.54 " fill="none" id="ToolState-backto-JobInternalToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="1220.68,171.45,1235.82,156.63,1233.22,177.66,1220.68,171.45" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[9c881c60fbac45c77e4761a7bd9f78b2]
reverse link ToolState to TestCaseToolState--><g id="link_ToolState_TestCaseToolState"><path codeLine="52" d="M1361.08,167.63 C1384.04,184.03 1407.79,201 1428.23,215.6 " fill="none" id="ToolState-backto-TestCaseToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="1357.19,173.45,1344.99,156.12,1365.33,162.06,1357.19,173.45" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[6e0dcd3c78d7670a6ff8f7e8edcb95ac]
reverse link ToolState to WorkflowStepToolState--><g id="link_ToolState_WorkflowStepToolState"><path codeLine="53" d="M1564.67,159.64 C1657.25,178.37 1756.83,198.53 1840.66,215.5 " fill="none" id="ToolState-backto-WorkflowStepToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="1563.49,166.54,1545.28,155.71,1566.27,152.82,1563.49,166.54" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[4d55efd884362c553ce3b70d5bb3d0d7]
reverse link ToolState to WorkflowStepLinkedToolState--><g id="link_ToolState_WorkflowStepLinkedToolState"><path codeLine="54" d="M1580.52,114.48 C1870.58,131.86 2263.29,164.53 2315,215.95 C2355.54,256.27 2357.23,294.8 2328,343.93 C2321.08,355.56 2311.47,365.36 2300.58,373.59 " fill="none" id="ToolState-backto-WorkflowStepLinkedToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="1580.45,121.49,1560.9,113.32,1581.28,107.51,1580.45,121.49" style="stroke:#FFA500;stroke-width:1.0;"/></g><!--MD5=[7b766fbe81ea9c5eae779649ae0bfd4b]
link RequestToolState to RequestInternalToolState--><g id="link_RequestToolState_RequestInternalToolState"><path codeLine="56" d="M540.97,256.44 C571.8,256.44 603.28,256.44 634.12,256.44 " fill="none" id="RequestToolState-RequestInternalToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="#FF8C00" points="567.5,245.0953,558.4549,242.1563,558.4549,248.0342,567.5,245.0953" style="stroke:#FF8C00;stroke-width:1.0;"/><text fill="#FF8C00" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="571.5" y="250.0084">decode</text></g><!--MD5=[58ea8d0dd38b3ecdcd8a6254103a6005]
reverse link RequestInternalToolState to JobInternalToolState--><g id="link_RequestInternalToolState_JobInternalToolState"><path codeLine="58" d="M874.91,310.62 C867.52,331.2 859.21,354.35 852.35,373.46 " fill="none" id="RequestInternalToolState-backto-JobInternalToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="879.21,298.63,873.4193,302.9274,875.1589,309.9255,880.9496,305.6281,879.21,298.63" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="#FF8C00" points="870.3105,340.2912,876.1329,332.7711,870.6007,330.7851,870.3105,340.2912" style="stroke:#FF8C00;stroke-width:1.0;"/><text fill="#FF8C00" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="881" y="340.4984">expand</text></g><!--MD5=[1bcb7e5577c97a9a9dc82459e6e9a8ef]
reverse link WorkflowStepToolState to WorkflowStepLinkedToolState--><g id="link_WorkflowStepToolState_WorkflowStepLinkedToolState"><path codeLine="60" d="M2079.85,308 C2090.6,320.14 2102.4,332.81 2114,343.93 C2124.53,354.03 2136.38,364.26 2147.85,373.65 " fill="none" id="WorkflowStepToolState-backto-WorkflowStepLinkedToolState" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="none" points="2071.32,298.19,2072.2363,305.3426,2079.1912,307.2478,2078.2749,300.0952,2071.32,298.19" style="stroke:#FFA500;stroke-width:1.0;"/><polygon fill="#FF8C00" points="2122.5971,339.0581,2118.1311,330.6613,2114.0486,334.89,2122.5971,339.0581" style="stroke:#FF8C00;stroke-width:1.0;"/><text fill="#FF8C00" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="2128" y="340.4984">preprocess_links_and_defaults</text></g><!--MD5=[220dfebf4a9727230486ad40d40caad6]
@startuml

!include plantuml_options.txt

package galaxy.tool_util.parameters.state {

class ToolState {
state_representation: str
input_state: Dict[str, Any]
+ validate(input_models: ToolParameterBundle)
+ {abstract} _to_base_model(input_models: ToolParameterBundle): Optional[Type[BaseModel]]
}

class RequestToolState {
state_representation = "request"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <encoded_id>}.\n Allow mapping/reduce constructs.

class RequestInternalToolState {
state_representation = "request_internal"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Allow mapping/reduce constructs.

class JobInternalToolState {
state_representation = "job_internal"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]

}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Mapping constructs expanded out.\n (Defaults are inserted?)

ToolState <|- - RequestToolState
ToolState <|- - RequestInternalToolState
ToolState <|- - JobInternalToolState

RequestToolState - RequestInternalToolState : decode >

RequestInternalToolState o- - JobInternalToolState : expand >

}
@enduml

@startuml


skinparam class {
    ArrowFontColor DarkOrange
    BackgroundColor #FFEFD5
    ArrowColor Orange
    BorderColor DarkOrange
}

skinparam object {
    ArrowFontColor DarkOrange
    BackgroundColor #FFEFD5
    BackgroundColor #FFEFD5
    ArrowColor Orange
    BorderColor DarkOrange
}

skinparam ComponentBackgroundColor #FFEFD5
skinparam ComponentBorderColor DarkOrange

skinparam DatabaseBackgroundColor #FFEFD5
skinparam DatabaseBorderColor DarkOrange

skinparam StorageBackgroundColor #FFEFD5
skinparam StorageBorderColor DarkOrange

skinparam QueueBackgroundColor #FFEFD5
skinparam QueueBorderColor DarkOrange

skinparam note {
    BackgroundColor #FFEFD5
    BorderColor #BF5700
}

skinparam sequence {
    ArrowColor Orange
    ArrowFontColor DarkOrange
    ActorBorderColor DarkOrange
    ActorBackgroundColor #FFEFD5

    ParticipantBorderColor DarkOrange
    ParticipantBackgroundColor #FFEFD5

    LifeLineBorderColor DarkOrange
    LifeLineBackgroundColor #FFEFD5

    DividerBorderColor DarkOrange
    GroupBorderColor DarkOrange
}


package galaxy.tool_util.parameters.state {

class ToolState {
state_representation: str
input_state: Dict[str, Any]
+ validate(input_models: ToolParameterBundle)
+ {abstract} _to_base_model(input_models: ToolParameterBundle): Optional[Type[BaseModel]]
}

class RequestToolState {
state_representation = "request"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <encoded_id>}.\n Allow mapping/reduce constructs.

class RequestInternalToolState {
state_representation = "request_internal"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]
}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Allow mapping/reduce constructs.

class JobInternalToolState {
state_representation = "job_internal"
+ _to_base_model(input_models: ToolParameterBundle): Type[BaseModel]

}
note bottom: Object references of the form \n{src: "hda", id: <decoded_id>}.\n Mapping constructs expanded out.\n (Defaults are inserted?)

ToolState <|- - RequestToolState
ToolState <|- - RequestInternalToolState
ToolState <|- - JobInternalToolState

RequestToolState - RequestInternalToolState : decode >

RequestInternalToolState o- - JobInternalToolState : expand >

}
@enduml

PlantUML version 1.2022.8(Sun Sep 25 05:00:33 EDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>