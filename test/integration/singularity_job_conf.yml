---
runners:
  local:
    load: galaxy.jobs.runners.local:LocalJobRunner
    workers: 1

execution:
  default: local_singularity
  environments:
    local_singularity:
      runner: local
      env:
        - name: 'JOBCONF_ENV_VAR'
          value: 'YEAH'
      singularity_enabled: true
      singularity_env_CONTAINER_ENV_VAR: "CONTAINER_VAR_VALUE"
      # Since tests run in /tmp/ , we apparently need to forbid the default mounting of /tmp
      singularity_run_extra_arguments: '--no-mount tmp'
      require_container: true
    local_upload:
      runner: local

tools:
  - id: upload1
    environment: local_upload
