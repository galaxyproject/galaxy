<tool id="hmgm_segmentation" name="HMGM Segmentation Correction" version="1.0.0">
  <description>Manual segmentation correction by a human</description>
  <command detect_errors="exit_code">
	'$__tool_directory__/hmgm_main.py' 'Segmentation' '$__root_dir__' '$original_structmeta' '$corrected_structmeta' '$task_info' '$context_json';
  </command>
  <inputs>
    <param name="input_segment" type="data" format="segment" label="Input Segmentation" help="Original AMP segment file to be corrected "/>
    <param name="context_json" type="text" label="Human MGM Task Context" help="JSON string containing context information needed for creating Human MGM task">
		<sanitizer sanitize="false">
    	</sanitizer>
	</param>
  </inputs>
  <outputs>
    <data name="original_structmeta" format="xml" label="Original Structural Metadata" help="Structural Metadata XML file converted from the original AMP Segment file" />
    <data name="corrected_structmeta" format="xml" label="Corrected Structural Metadata" help="Structural Metadata XML file with corrected segmentation"  />
    <data name="output_segment" format="segment" label="Output Segmentation" help="AMP segment file converted from the corrected structural metadata file" />
    <data name="task_info" format="json" label="HMGM Task Info" help="Information about the Human MMGM task created for Segmentation Correction" />
  </outputs>
  <tests>
  </tests>
  <help>
.. class:: infomark

This is a human MGM that facilitates manual segmentation correction by providing a human with a Structure Metadata editor. 
Note that, if the tool is run by a job submitted from AMPPD, the context parameter will be automatically generated by AMPPD; any user defined value will be overwritten.

  </help>
</tool>
