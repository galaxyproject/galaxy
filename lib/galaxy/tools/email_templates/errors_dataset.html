<html>
    <body>
        <h1>Galaxy Tool Error Report</h1>
        <span class="sub">
            <i>from</i> 
            <span style="font-family: monospace;">
                <a href="${host}">${host}</a>
            </span>
        </span>

        <h3>Error Localization</h3>
        <table style="margin:1em">
            <tbody>
                <tr>
                    <td>Dataset</td>
                    <td>
                        <a href="${hda_show_params_link}">${dataset_id} (${dataset_id_encoded})</a>
                    </td>
                </tr>
                <tr style="background-color: #f2f2f2">
                    <td>History</td>
                    <td>
                        <a href="${history_view_link}">${history_id} (${history_id_encoded})</a>
                    </td>
                </tr>
                <tr>
                    <td>Failed Job</td>
                    <td>${hid}: ${history_item_name} (${hda_id_encoded})</td>
                </tr>
            </tbody>
        </table>

        <h3>User Provided Information</h3>
        The user 
        <span style="font-family: monospace;">${email_str}</span> 
        provided the following information:
        <pre style="white-space: pre-wrap;background: #eeeeee;border:1px solid black;padding:1em;">
            ${message}
        </pre>

        <h3>Detailed Job Information</h3>
        Job environment and execution information is available at the job 
        <a href="${hda_show_params_link}">info page</a>.

        <table style="margin:1em">
            <tbody>
                <tr>
                    <td>Job ID</td>
                    <td>${job_id} (${job_id_encoded})</td>
                </tr>
                <tr style="background-color: #f2f2f2">
                    <td>Tool ID</td>
                    <td>${job_tool_id}</td>
                </tr>
                <tr>
                    <td>Tool Version</td>
                    <td>${tool_version}</td>
                </tr>
                <tr style="background-color: #f2f2f2">
                    <td>Job PID or DRM id</td>
                    <td>${job_runner_external_id}</td>
                </tr>
                <tr>
                    <td>Job Tool Version</td>
                    <td>${job_tool_version}</td>
                </tr>
            </tbody>
        </table>

        <h3>Job Execution and Failure Information</h3>
        <h4>Command Line</h4>
        <pre style="white-space: pre-wrap;background: #eeeeee;border:1px solid black;padding:1em;">
            ${job_command_line}
        </pre>

        <h4>Job stderr</h4>
        <pre style="white-space: pre-wrap;background: #eeeeee;border:1px solid black;padding:1em;">
            ${job_stderr}
        </pre>

        <h4>Job stdout</h4>
        <pre style="white-space: pre-wrap;background: #eeeeee;border:1px solid black;padding:1em;">
            ${job_stdout}
        </pre>

        <h4>Job Information</h4>
        <pre style="white-space: pre-wrap;background: #eeeeee;border:1px solid black;padding:1em;">
            ${job_info}
        </pre>

        <h4>Job Traceback</h4>
        <pre style="white-space: pre-wrap;background: #eeeeee;border:1px solid black;padding:1em;">
            ${job_traceback}
        </pre>

        <h3>Tool Execution and Failure Information</h3>
        <h4>Tool stderr</h4>
        <pre style="white-space: pre-wrap;background: #eeeeee;border:1px solid black;padding:1em;">
            ${tool_stderr}
        </pre>

        <h4>Tool stdout</h4>
        <pre style="white-space: pre-wrap;background: #eeeeee;border:1px solid black;padding:1em;">
            ${tool_stdout}
        </pre>

        This is an automated message. Do not reply to this address.
    </body>
</html>
