{"version":3,"file":"scratchbook.js","sources":["../../src/layout/scratchbook.js"],"names":["define","Frames","Backbone","View","extend","initialize","options","self","this","frames","visible","setElement","$el","buttonActive","collection","add","id","icon","tooltip","onclick","active","set","toggle","show_note","note_cls","hide","onbeforeunload","length","buttonLoad","show","on","note","history_cache","addDataset","dataset_id","current_dataset","Galaxy","currHistoryPanel","history_id","historyId","name","model","get","dataset_ids","each","push","_findDataset","dataset","offset","history_details","dataset_list","pos","indexOf","_loadDatasetOffset","frame","new_dataset_id","_loadDataset","new_dataset","config","trigger","_","menu","disabled","callback","require","DATA","Dataset","$","when","fetch","then","is_tabular","find","data_type","title","url","content","createTabularDatasetChunkedView","TabularDataset","toJSON","embedded","height","root","addTrackster","viz_id","visualization","trackster","viz","Visualization","ui","TracksterUI","frame_config","type","parent_elt","view_config","container","dbkey","stand_alone","latest_revision","drawables","view","d","hda_ldda","create_visualization","viewport","bookmarks","target","window","open","location","noscratchbook","$galaxy_main","parent","document","attr"],"mappings":"AACAA,QAAS,oBAAsB,SAAUC,GACzC,MAAOC,UAASC,KAAKC,QACjBC,WAAa,SAAUC,GACnB,GAAIC,GAAOC,IACXF,GAAUA,MACVE,KAAKC,OAAS,GAAIR,GAAOE,MAAOO,SAAU,IAC1CF,KAAKG,WAAYH,KAAKC,OAAOG,KAC7BJ,KAAKK,aAAeP,EAAQQ,WAAWC,KACnCC,GAAkB,qBAClBC,KAAkB,QAClBC,QAAkB,6BAClBC,QAAkB,WACdZ,EAAKa,QAAUb,EAAKa,OACpBb,EAAKM,aAAaQ,KACdC,OAAYf,EAAKa,OACjBG,UAAYhB,EAAKa,OACjBI,SAAYjB,EAAKa,QAAU,iBAE9Bb,EAAKa,QAAUb,EAAKE,OAAOgB,QAEhCC,eAAkB,WACd,MAAKnB,GAAKE,OAAOkB,SAAW,EACjB,cAAgBpB,EAAKE,OAAOkB,SAAW,gCADlD,UAKRnB,KAAKoB,WAAatB,EAAQQ,WAAWC,KACjCC,GAAkB,mBAClBC,KAAkB,SAClBC,QAAkB,wBAClBK,WAAkB,EAClBb,SAAkB,EAClBS,QAAkB,WACdZ,EAAKE,OAAOC,QAAUH,EAAKE,OAAOgB,OAASlB,EAAKE,OAAOoB,UAG/DrB,KAAKC,OAAOqB,GAAI,aAAc,WAC1BtB,KAAKE,SAA4B,GAAjBF,KAAKmB,UAAiBnB,KAAKiB,OAC3ClB,EAAKqB,WAAWP,KAAOU,KAAQvB,KAAKmB,SAAUjB,QAAWF,KAAKmB,SAAW,MAC1EG,GAAI,aAAc,WACjBvB,EAAKqB,WAAWP,KAAOC,OAAUd,KAAKE,QAASO,KAAQT,KAAKE,SAAW,UAAY,mBAEvFF,KAAKwB,kBAITC,WAAY,SAAUC,GAClB,GAAI3B,GAAOC,KACP2B,EAAkB,IACtB,IAAKC,QAAUA,OAAOC,iBAAmB,CACrC,GAAIC,GAAaF,OAAOC,iBAAiBvB,WAAWyB,SACpD/B,MAAKwB,cAAeM,IAAiBE,KAAMJ,OAAOC,iBAAiBI,MAAMC,IAAK,QAAUC,gBACxFP,OAAOC,iBAAiBvB,WAAW8B,KAAM,SAAUH,IAC9CA,EAAMC,IAAK,YAAeD,EAAMC,IAAK,YAAenC,EAAKyB,cAAeM,GAAaK,YAAYE,KAAMJ,EAAMC,IAAK,SAG3H,GAAII,GAAe,SAAUC,EAASC,GAClC,GAAKD,EAAU,CACX,GAAIE,GAAkB1C,EAAKyB,cAAee,EAAQL,IAAK,cACvD,IAAKO,GAAmBA,EAAgBN,YAAc,CAClD,GAAIO,GAAeD,EAAgBN,YAC/BQ,EAAMD,EAAaE,QAASL,EAAQL,IAAK,MAC7C,IAAa,KAARS,GAAcA,EAAMH,GAAU,GAAKG,EAAMH,EAASE,EAAavB,OAChE,MAAOuB,GAAcC,EAAMH,MAKvCK,EAAqB,SAAUN,EAASC,EAAQM,GAChD,GAAIC,GAAiBT,EAAcC,EAASC,EACvCO,GACDhD,EAAKiD,aAAcD,EAAgB,SAAUE,EAAaC,GACtDvB,EAAkBsB,EAClBH,EAAMb,MAAMpB,IAAKqC,KAGrBJ,EAAMb,MAAMkB,QAAS,UAG7BnD,MAAKgD,aAActB,EAAY,SAAUa,EAASW,GAC9CvB,EAAkBY,EAClBxC,EAAKQ,IAAK6C,EAAExD,QAAUyD,OAAU5C,KAAW,4BACXC,QAAW,sBACXC,QAAW,SAAUmC,GAAUD,EAAoBlB,EAAiB,GAAImB,IACxEQ,SAAW,WAAa,OAAQhB,EAAcX,EAAiB,OAC/DlB,KAAW,6BACXC,QAAW,kBACXC,QAAW,SAAUmC,GAAUD,EAAoBlB,EAAiB,EAAGmB,IACvEQ,SAAW,WAAa,OAAQhB,EAAcX,EAAiB,OAAauB,OAIpHF,aAAc,SAAUtB,EAAY6B,GAChC,GAAIxD,GAAOC,IACXwD,UAAU,oBAAsB,SAAUC,GACtC,GAAIlB,GAAU,GAAIkB,GAAKC,SAAWlD,GAAKkB,GACvCiC,GAAEC,KAAMrB,EAAQsB,SAAUC,KAAM,WAC5B,GAAIC,GAAaX,EAAEY,MAAQ,UAAW,YAAe,SAAUC,GAC3D,MAA2D,KAApD1B,EAAQL,IAAK,aAAcU,QAASqB,KAE3CC,EAAQ3B,EAAQL,IAAK,QACrBO,EAAkB1C,EAAKyB,cAAee,EAAQL,IAAK,cAClDO,KACDyB,EAAQzB,EAAgBT,KAAO,KAAOkC,GAE1CX,EAAUhB,EAASwB,GACfG,MAAUA,EACVC,IAAU,KACVC,QAAUX,EAAKY,iCACXpC,MAAc,GAAIwB,GAAKa,eAAgB/B,EAAQgC,UAC/CC,UAAc,EACdC,OAAc,SACfrE,MAEH8D,MAAUA,EACVC,IAAUvC,OAAO8C,KAAO,YAAchD,EAAa,yBACnD0C,QAAU,YAO1BO,aAAc,SAASC,GACnB,GAAI7E,GAAOC,IACXwD,UAAS,oBAAqB,iBAAkB,SAASqB,EAAeC,GACpE,GAAIC,GAAM,GAAIF,GAAcG,eAAexE,GAAIoE,GAC/CjB,GAAEC,KAAMmB,EAAIlB,SAAUC,KAAM,WACxB,GAAImB,GAAK,GAAIH,GAAUI,YAAYtD,OAAO8C,MAGtCS,GACIjB,MAAOa,EAAI7C,IAAI,QACfkD,KAAM,QACNhB,QAAS,SAASiB,GAEd,GAAIC,IACAC,UAAWF,EACXrD,KAAM+C,EAAI7C,IAAI,SACd1B,GAAIuE,EAAIvE,GAERgF,MAAOT,EAAI7C,IAAI,SACfuD,aAAa,GAEjBC,EAAkBX,EAAI7C,IAAI,mBAC1ByD,EAAYD,EAAgBxC,OAAO0C,KAAKD,SAGxCvC,GAAEhB,KAAKuD,EAAW,SAASE,GACvBA,EAAEtD,SACEuD,SAAUD,EAAEC,SACZtF,GAAIqF,EAAEnE,cAGdkE,KAAOX,EAAGc,qBAAqBT,EACAI,EAAgBxC,OAAO8C,SACvBN,EAAgBxC,OAAO0C,KAAKD,UAC5BD,EAAgBxC,OAAO+C,WACvB,IAG3ClG,GAAKQ,IAAI4E,QAMrB5E,IAAK,SAAUT,GACX,GAAuB,UAAlBA,EAAQoG,OACTC,OAAOC,KAAMtG,EAAQqE,SAClB,IAAuB,QAAlBrE,EAAQoG,QAAsC,WAAlBpG,EAAQoG,QAAyC,SAAlBpG,EAAQoG,OAC3EC,OAAOE,SAAWvG,EAAQqE,QACvB,KAAMnE,KAAKY,QAAUd,EAAQwG,cAAgB,CAChD,GAAIC,GAAe5C,EAAGwC,OAAOK,OAAOC,UAAWzC,KAAM,eAC9B,gBAAlBlE,EAAQoG,QAA6C,UAAlBpG,EAAQoG,OACf,IAAxBK,EAAapF,OACdgF,OAAOE,SAAWvG,EAAQqE,KAAsC,IAA9BrE,EAAQqE,IAAIvB,QAAS,KAAc,IAAM,KAAQ,kBAEnF2D,EAAaG,KAAM,MAAO5G,EAAQqE,KAGtCgC,OAAOE,SAAWvG,EAAQqE,QAE9BnE,MAAKC,OAAOM,IAAKT"}