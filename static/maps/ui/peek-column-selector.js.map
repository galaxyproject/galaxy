{"version":3,"sources":["ui/peek-column-selector.js"],"names":["COLUMN_INDEX_DATA_KEY","control","disabled","_jquery2","default","type","Error","COLUMN_NAME_DATA_KEY","JSON","stringify","multiselect","selected","validateControl","indexOf","buildButton","html","$","addClass","BUTTON_CLASS","text","buildControlCell","columnIndex","$td","attr","setSelectedText","$button","selectedText","undefined","DISABLED_CLASS","buildSingleSelectCell","$cell","children","SELECTED_CLASS","selectClick","click","label","eventData","hasClass","val","ev","parents","parent","removeClass","buildMultiSelectCell","multiselectClick","data","key","toggleClass","buildControlCells","$cells","map","i","e","buildControlRow","includePrompts","$promptCell","selectedColumnIndeces","$controlRow","append","trigger","CHANGE_EVENT","peekColumnSelector","options","$peek","PEEKCONTROL_CLASS","$peektable","columnCount","length","$this","match","id","ROW_CLASS","PROMPT_CLASS","hideCommentRows","$commentRows","hide","cellCount","extend","defaults","this","find","rowCount","$headers","RENAMABLE_HEADER_CLASS","css","get","prevName","$topLeft","controls","first","prepend","each","replace","name","columnNames","renameColumns","index","newColumnName","prompt","makeArray","RENAME_EVENT","forEach","commentChar","topLeftContent","fn","call"],"mappings":"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","file":"../../scripts/ui/peek-column-selector.js","sourcesContent":["// from: https://raw.githubusercontent.com/umdjs/umd/master/jqueryPlugin.js\n// Uses AMD or browser globals to create a jQuery plugin.\nimport jQuery from \"jquery\";\nvar $ = jQuery;\n\n//==============================================================================\n/** Column selection using the peek display as the control.\n     *  Adds rows to the bottom of the peek with clickable areas in each cell\n     *      to allow the user to select columns.\n     *  Column selection can be limited to a single column or multiple.\n     *  (Optionally) adds a left hand column of column selection prompts.\n     *  (Optionally) allows the column headers to be clicked/renamed\n     *      and set to some initial value.\n     *  (Optionally) hides comment rows.\n     *  (Optionally) allows pre-selecting and disabling certain columns for\n     *      each row control.\n     *\n     *  Construct by selecting a peek table to be used with jQuery and\n     *      calling 'peekColumnSelector' with options.\n     *  Options must include a 'controls' array and can include other options\n     *      listed below.\n     *  @example:\n     *  $( 'pre.peek' ).peekColumnSelector({\n     *          columnNames : [\"Chromosome\", \"Start\", \"Base\", \"\", \"\", \"Qual\" ],\n     *          controls : [\n     *              { label: 'X Column',  id: 'xColumn' },\n     *              { label: 'Y Column',  id: 'yColumn', selected: 2 },\n     *              { label: 'ID Column', id: 'idColumn', selected: 4, disabled: [ 1, 5 ] },\n     *              { label: 'Heatmap',   id: 'heatmap', selected: [ 2, 4 ], disabled: [ 0, 1 ], multiselect: true,\n     *                selectedText: 'Included', unselectedText: 'Excluded' }\n     *          ],\n     *          renameColumns       : true,\n     *          hideCommentRows     : true,\n     *          includePrompts      : true,\n     *          topLeftContent      : 'Data sample:'\n     *      }).on( 'peek-column-selector.change', function( ev, selection ){\n     *          console.info( 'new selection:', selection );\n     *          //{ yColumn: 2 }\n     *      }).on( 'peek-column-selector.rename', function( ev, names ){\n     *          console.info( 'column names', names );\n     *          //[ 'Bler', 'Start', 'Base', '', '', 'Qual' ]\n     *      });\n     *\n     *  An event is fired when column selection is changed and the event\n     *      is passed an object in the form: { the row id : the new selection value }.\n     *  An event is also fired when the table headers are re-named and\n     *      is passed the new array of column names.\n     */\n\n/** option defaults */\nvar defaults = {\n    /** does this control allow renaming headers? */\n    renameColumns: false,\n    /** does this control allow renaming headers? */\n    columnNames: [],\n    /** the comment character used by the peek's datatype */\n    commentChar: \"#\",\n    /** should comment rows be shown or hidden in the peek */\n    hideCommentRows: false,\n    /** should a column of row control prompts be used */\n    includePrompts: true,\n    /** what is the content of the top left cell (often a title) */\n    topLeftContent: \"Columns:\"\n};\n\nvar /** class added to the pre.peek element (to allow css on just the control) */\nPEEKCONTROL_CLASS = \"peek-column-selector\";\n\nvar /** the string of the event fired when a control row changes */\nCHANGE_EVENT = \"peek-column-selector.change\";\n\nvar /** the string of the event fired when a column is renamed */\nRENAME_EVENT = \"peek-column-selector.rename\";\n\nvar /** class added to the control rows */\nROW_CLASS = \"control\";\n\nvar /** class added to the left-hand cells that serve as row prompts */\nPROMPT_CLASS = \"control-prompt\";\n\nvar /** class added to selected _cells_/tds */\nSELECTED_CLASS = \"selected\";\n\nvar /** class added to disabled/un-clickable cells/tds */\nDISABLED_CLASS = \"disabled\";\n\nvar /** class added to the clickable surface within a cell to select it */\nBUTTON_CLASS = \"button\";\n\nvar /** class added to peek table header (th) cells to indicate they can be clicked and are renamable */\nRENAMABLE_HEADER_CLASS = \"renamable-header\";\n\nvar /** the data key used for each cell to store the column index ('data-...') */\nCOLUMN_INDEX_DATA_KEY = \"column-index\";\n\nvar /** renamable header data key used to store the column name (w/o the number and dot: '1.Bler') */\nCOLUMN_NAME_DATA_KEY = \"column-name\";\n\n//TODO: not happy with pure functional here - rows should polymorph (multi, single, etc.)\n//TODO: needs clean up, move handlers to outer scope\n\n// ........................................................................\n/** validate the control data sent in for each row */\nfunction validateControl(control) {\n    if (control.disabled && jQuery.type(control.disabled) !== \"array\") {\n        throw new Error(\n            '\"disabled\" must be defined as an array of indeces: ' +\n                JSON.stringify(control)\n        );\n    }\n    if (\n        control.multiselect &&\n        control.selected &&\n        jQuery.type(control.selected) !== \"array\"\n    ) {\n        throw new Error(\n            'Mulitselect rows need an array for \"selected\": ' +\n                JSON.stringify(control)\n        );\n    }\n    if (!control.label || !control.id) {\n        throw new Error(\n            \"Peek controls need a label and id for each control row: \" +\n                JSON.stringify(control)\n        );\n    }\n    if (control.disabled && control.disabled.indexOf(control.selected) !== -1) {\n        throw new Error(\n            \"Selected column is in the list of disabled columns: \" +\n                JSON.stringify(control)\n        );\n    }\n    return control;\n}\n\n/** build the inner control surface (i.e. button-like) */\nfunction buildButton(control, columnIndex) {\n    return $(\"<div/>\")\n        .addClass(BUTTON_CLASS)\n        .text(control.label);\n}\n\n/** build the basic (shared) cell structure */\nfunction buildControlCell(control, columnIndex) {\n    var $td = $(\"<td/>\")\n        .html(buildButton(control, columnIndex))\n        .attr(\"data-\" + COLUMN_INDEX_DATA_KEY, columnIndex);\n\n    // disable if index in disabled array\n    if (control.disabled && control.disabled.indexOf(columnIndex) !== -1) {\n        $td.addClass(DISABLED_CLASS);\n    }\n    return $td;\n}\n\n/** set the text of the control based on selected/un */\nfunction setSelectedText($cell, control, columnIndex) {\n    var $button = $cell.children(\".\" + BUTTON_CLASS);\n    if ($cell.hasClass(SELECTED_CLASS)) {\n        $button.html(\n            control.selectedText !== undefined\n                ? control.selectedText\n                : control.label\n        );\n    } else {\n        $button.html(\n            control.unselectedText !== undefined\n                ? control.unselectedText\n                : control.label\n        );\n    }\n}\n\n/** build a cell for a row that only allows one selection */\nfunction buildSingleSelectCell(control, columnIndex) {\n    // only one selection - selected is single index\n    var $cell = buildControlCell(control, columnIndex);\n    if (control.selected === columnIndex) {\n        $cell.addClass(SELECTED_CLASS);\n    }\n    setSelectedText($cell, control, columnIndex);\n\n    // only add the handler to non-disabled controls\n    if (!$cell.hasClass(DISABLED_CLASS)) {\n        $cell.click(function selectClick(ev) {\n            var $cell = $(this);\n            // don't re-select or fire event if already selected\n            if (!$cell.hasClass(SELECTED_CLASS)) {\n                // only one can be selected - remove selected on all others, add it here\n                var $otherSelected = $cell\n                    .parent()\n                    .children(\".\" + SELECTED_CLASS)\n                    .removeClass(SELECTED_CLASS);\n                $otherSelected.each(function() {\n                    setSelectedText($(this), control, columnIndex);\n                });\n\n                $cell.addClass(SELECTED_CLASS);\n                setSelectedText($cell, control, columnIndex);\n\n                // fire the event from the table itself, passing the id and index of selected\n                var eventData = {};\n\n                var key = $cell.parent().attr(\"id\");\n                var val = $cell.data(COLUMN_INDEX_DATA_KEY);\n                eventData[key] = val;\n                $cell.parents(\".peek\").trigger(CHANGE_EVENT, eventData);\n            }\n        });\n    }\n    return $cell;\n}\n\n/** build a cell for a row that allows multiple selections */\nfunction buildMultiSelectCell(control, columnIndex) {\n    var $cell = buildControlCell(control, columnIndex);\n    // multiple selection - selected is an array\n    if (control.selected && control.selected.indexOf(columnIndex) !== -1) {\n        $cell.addClass(SELECTED_CLASS);\n    }\n    setSelectedText($cell, control, columnIndex);\n\n    // only add the handler to non-disabled controls\n    if (!$cell.hasClass(DISABLED_CLASS)) {\n        $cell.click(function multiselectClick(ev) {\n            var $cell = $(this);\n            // can be more than one selected - toggle selected on this cell\n            $cell.toggleClass(SELECTED_CLASS);\n            setSelectedText($cell, control, columnIndex);\n            var selectedColumnIndeces = $cell\n                .parent()\n                .find(\".\" + SELECTED_CLASS)\n                .map((i, e) => $(e).data(COLUMN_INDEX_DATA_KEY));\n\n            // fire the event from the table itself, passing the id and index of selected\n            var eventData = {};\n\n            var key = $cell.parent().attr(\"id\");\n            var val = jQuery.makeArray(selectedColumnIndeces);\n            eventData[key] = val;\n            $cell.parents(\".peek\").trigger(CHANGE_EVENT, eventData);\n        });\n    }\n    return $cell;\n}\n\n/** iterate over columns in peek and create a control for each */\nfunction buildControlCells(count, control) {\n    var $cells = [];\n    // build a control for each column - using a build fn based on control\n    for (var columnIndex = 0; columnIndex < count; columnIndex += 1) {\n        $cells.push(\n            control.multiselect\n                ? buildMultiSelectCell(control, columnIndex)\n                : buildSingleSelectCell(control, columnIndex)\n        );\n    }\n    return $cells;\n}\n\n/** build a row of controls for the peek */\nfunction buildControlRow(cellCount, control, includePrompts) {\n    var $controlRow = $(\"<tr/>\")\n        .attr(\"id\", control.id)\n        .addClass(ROW_CLASS);\n    if (includePrompts) {\n        var $promptCell = $(\"<td/>\")\n            .addClass(PROMPT_CLASS)\n            .text(control.label + \":\");\n        $controlRow.append($promptCell);\n    }\n    $controlRow.append(buildControlCells(cellCount, control));\n    return $controlRow;\n}\n\n// ........................................................................\n/** add to the peek, using options for configuration, return the peek */\nfunction peekColumnSelector(options) {\n    options = jQuery.extend(true, {}, defaults, options);\n\n    var $peek = $(this).addClass(PEEKCONTROL_CLASS);\n    var $peektable = $peek.find(\"table\");\n\n    var // get the size of the tables - width and height, number of comment rows\n    columnCount = $peektable.find(\"th\").length;\n\n    var rowCount = $peektable.find(\"tr\").length;\n\n    var // get the rows containing text starting with the comment char (also make them grey)\n    $commentRows = $peektable.find(\"td[colspan]\").map(function(e, i) {\n        var $this = $(this);\n        if (\n            $this.text() &&\n            $this.text().match(new RegExp(\"^\" + options.commentChar))\n        ) {\n            return $(this)\n                .css(\"color\", \"grey\")\n                .parent()\n                .get(0);\n        }\n        return null;\n    });\n\n    // should comment rows in the peek be hidden?\n    if (options.hideCommentRows) {\n        $commentRows.hide();\n        rowCount -= $commentRows.length;\n    }\n    //console.debug( 'rowCount:', rowCount, 'columnCount:', columnCount, '$commentRows:', $commentRows );\n\n    // should a first column of control prompts be added?\n    if (options.includePrompts) {\n        var $topLeft = $(\"<th/>\")\n            .addClass(\"top-left\")\n            .text(options.topLeftContent)\n            .attr(\"rowspan\", rowCount);\n        $peektable\n            .find(\"tr\")\n            .first()\n            .prepend($topLeft);\n    }\n\n    // save either the options column name or the parsed text of each column header in html5 data attr and text\n    var $headers = $peektable.find(\"th:not(.top-left)\").each(function(i, e) {\n        var $this = $(this);\n\n        var // can be '1.name' or '1'\n        text = $this.text().replace(/^\\d+\\.*/, \"\");\n\n        var name = options.columnNames[i] || text;\n        $this\n            .attr(\"data-\" + COLUMN_NAME_DATA_KEY, name)\n            .text(i + 1 + (name ? \".\" + name : \"\"));\n    });\n\n    // allow renaming of columns when the header is clicked\n    if (options.renameColumns) {\n        $headers\n            .addClass(RENAMABLE_HEADER_CLASS)\n            .click(function renameColumn() {\n                // prompt for new name\n                var $this = $(this);\n\n                var index = $this.index() + (options.includePrompts ? 0 : 1);\n                var prevName = $this.data(COLUMN_NAME_DATA_KEY);\n                var newColumnName = prompt(\"New column name:\", prevName);\n                if (newColumnName !== null && newColumnName !== prevName) {\n                    // set the new text and data\n                    $this\n                        .text(\n                            index + (newColumnName ? \".\" + newColumnName : \"\")\n                        )\n                        .data(COLUMN_NAME_DATA_KEY, newColumnName)\n                        .attr(\"data-\", COLUMN_NAME_DATA_KEY, newColumnName);\n                    // fire event for new column names\n                    var columnNames = jQuery.makeArray(\n                        $this\n                            .parent()\n                            .children(\"th:not(.top-left)\")\n                            .map(function() {\n                                return $(this).data(COLUMN_NAME_DATA_KEY);\n                            })\n                    );\n                    $this.parents(\".peek\").trigger(RENAME_EVENT, columnNames);\n                }\n            });\n    }\n\n    // build a row for each control\n    options.controls.forEach((control, i) => {\n        validateControl(control);\n        var $controlRow = buildControlRow(\n            columnCount,\n            control,\n            options.includePrompts\n        );\n        $peektable.find(\"tbody\").append($controlRow);\n    });\n    return this;\n}\n\n// ........................................................................\n// as jq plugin\njQuery.fn.extend({\n    peekColumnSelector: function $peekColumnSelector(options) {\n        return this.map(function() {\n            return peekColumnSelector.call(this, options);\n        });\n    }\n});\n"]}