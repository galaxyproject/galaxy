!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i=window.webpackJsonp;window.webpackJsonp=function(n,a,o){for(var s,l,c,u=0,h=[];u<n.length;u++)l=n[u],r[l]&&h.push(r[l][0]),r[l]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);for(i&&i(n,a,o);h.length;)h.shift()();if(o)for(u=0;u<o.length;u++)c=e(e.s=o[u]);return c};var n={},r={3:0};e.e=function(t){function i(){s.onerror=s.onload=null,clearTimeout(l);var e=r[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),r[t]=void 0)}var n=r[t];if(0===n)return new Promise(function(t){t()});if(n)return n[2];var a=new Promise(function(e,i){n=r[t]=[e,i]});n[2]=a;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,e.nc&&s.setAttribute("nonce",e.nc),s.src=e.p+""+t+".bundled.js";var l=setTimeout(i,12e4);return s.onerror=s.onload=i,o.appendChild(s),a},e.m=t,e.c=n,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.oe=function(t){throw console.error(t),t},e(e.s=115)}([function(t,e,i){var n,r;/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
!function(e,i){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(i,a){function o(t){var e=!!t&&"length"in t&&t.length,i=lt.type(t);return"function"!==i&&!lt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function s(t,e,i){if(lt.isFunction(e))return lt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return lt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(_t.test(e))return lt.filter(e,t,i);e=lt.filter(e,t)}return lt.grep(t,function(t){return nt.call(e,t)>-1!==i})}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var e={};return lt.each(t.match(kt)||[],function(t,i){e[i]=!0}),e}function u(){Z.removeEventListener("DOMContentLoaded",u),i.removeEventListener("load",u),lt.ready()}function h(){this.expando=lt.expando+h.uid++}function d(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Et,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Ot.test(i)?lt.parseJSON(i):i)}catch(t){}Mt.set(t,e,i)}else i=void 0;return i}function f(t,e,i,n){var r,a=1,o=20,s=n?function(){return n.cur()}:function(){return lt.css(t,e,"")},l=s(),c=i&&i[3]||(lt.cssNumber[e]?"":"px"),u=(lt.cssNumber[e]||"px"!==c&&+l)&&jt.exec(lt.css(t,e));if(u&&u[3]!==c){c=c||u[3],i=i||[],u=+l||1;do{a=a||".5",u/=a,lt.style(t,e,u+c)}while(a!==(a=s()/l)&&1!==a&&--o)}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}function p(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&lt.nodeName(t,e)?lt.merge([t],i):i}function m(t,e){for(var i=0,n=t.length;i<n;i++)At.set(t[i],"globalEval",!e||At.get(e[i],"globalEval"))}function g(t,e,i,n,r){for(var a,o,s,l,c,u,h=e.createDocumentFragment(),d=[],f=0,g=t.length;f<g;f++)if((a=t[f])||0===a)if("object"===lt.type(a))lt.merge(d,a.nodeType?[a]:a);else if(zt.test(a)){for(o=o||h.appendChild(e.createElement("div")),s=(Nt.exec(a)||["",""])[1].toLowerCase(),l=Lt[s]||Lt._default,o.innerHTML=l[1]+lt.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;lt.merge(d,o.childNodes),o=h.firstChild,o.textContent=""}else d.push(e.createTextNode(a));for(h.textContent="",f=0;a=d[f++];)if(n&&lt.inArray(a,n)>-1)r&&r.push(a);else if(c=lt.contains(a.ownerDocument,a),o=p(h.appendChild(a),"script"),c&&m(o),i)for(u=0;a=o[u++];)It.test(a.type||"")&&i.push(a);return h}function v(){return!0}function _(){return!1}function y(){try{return Z.activeElement}catch(t){}}function b(t,e,i,n,r,a){var o,s;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(s in e)b(t,s,i,n,e[s],a);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=_;else if(!r)return t;return 1===a&&(o=r,r=function(t){return lt().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=lt.guid++)),t.each(function(){lt.event.add(this,e,r,n,i)})}function w(t,e){return lt.nodeName(t,"table")&&lt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function x(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function k(t){var e=Wt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function C(t,e){var i,n,r,a,o,s,l,c;if(1===e.nodeType){if(At.hasData(t)&&(a=At.access(t),o=At.set(e,a),c=a.events)){delete o.handle,o.events={};for(r in c)for(i=0,n=c[r].length;i<n;i++)lt.event.add(e,r,c[r][i])}Mt.hasData(t)&&(s=Mt.access(t),l=lt.extend({},s),Mt.set(e,l))}}function S(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Rt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function T(t,e,i,n){e=et.apply([],e);var r,a,o,s,l,c,u=0,h=t.length,d=h-1,f=e[0],m=lt.isFunction(f);if(m||h>1&&"string"==typeof f&&!st.checkClone&&Ut.test(f))return t.each(function(r){var a=t.eq(r);m&&(e[0]=f.call(this,r,a.html())),T(a,e,i,n)});if(h&&(r=g(e,t[0].ownerDocument,!1,t,n),a=r.firstChild,1===r.childNodes.length&&(r=a),a||n)){for(o=lt.map(p(r,"script"),x),s=o.length;u<h;u++)l=r,u!==d&&(l=lt.clone(l,!0,!0),s&&lt.merge(o,p(l,"script"))),i.call(t[u],l,u);if(s)for(c=o[o.length-1].ownerDocument,lt.map(o,k),u=0;u<s;u++)l=o[u],It.test(l.type||"")&&!At.access(l,"globalEval")&&lt.contains(c,l)&&(l.src?lt._evalUrl&&lt._evalUrl(l.src):lt.globalEval(l.textContent.replace(Gt,"")))}return t}function A(t,e,i){for(var n,r=e?lt.filter(e,t):t,a=0;null!=(n=r[a]);a++)i||1!==n.nodeType||lt.cleanData(p(n)),n.parentNode&&(i&&lt.contains(n.ownerDocument,n)&&m(p(n,"script")),n.parentNode.removeChild(n));return t}function M(t,e){var i=lt(e.createElement(t)).appendTo(e.body),n=lt.css(i[0],"display");return i.detach(),n}function O(t){var e=Z,i=Yt[t];return i||(i=M(t,e),"none"!==i&&i||(Xt=(Xt||lt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Xt[0].contentDocument,e.write(),e.close(),i=M(t,e),Xt.detach()),Yt[t]=i),i}function E(t,e,i){var n,r,a,o,s=t.style;return i=i||Qt(t),o=i?i.getPropertyValue(e)||i[e]:void 0,""!==o&&void 0!==o||lt.contains(t.ownerDocument,t)||(o=lt.style(t,e)),i&&!st.pixelMarginRight()&&Kt.test(o)&&Jt.test(e)&&(n=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=n,s.minWidth=r,s.maxWidth=a),void 0!==o?o+"":o}function $(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function j(t){if(t in ae)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=re.length;i--;)if((t=re[i]+e)in ae)return t}function D(t,e,i){var n=jt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function P(t,e,i,n,r){for(var a=i===(n?"border":"content")?4:"width"===e?1:0,o=0;a<4;a+=2)"margin"===i&&(o+=lt.css(t,i+Dt[a],!0,r)),n?("content"===i&&(o-=lt.css(t,"padding"+Dt[a],!0,r)),"margin"!==i&&(o-=lt.css(t,"border"+Dt[a]+"Width",!0,r))):(o+=lt.css(t,"padding"+Dt[a],!0,r),"padding"!==i&&(o+=lt.css(t,"border"+Dt[a]+"Width",!0,r)));return o}function R(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,a=Qt(t),o="border-box"===lt.css(t,"boxSizing",!1,a);if(r<=0||null==r){if(r=E(t,e,a),(r<0||null==r)&&(r=t.style[e]),Kt.test(r))return r;n=o&&(st.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+P(t,e,i||(o?"border":"content"),n,a)+"px"}function N(t,e){for(var i,n,r,a=[],o=0,s=t.length;o<s;o++)n=t[o],n.style&&(a[o]=At.get(n,"olddisplay"),i=n.style.display,e?(a[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Pt(n)&&(a[o]=At.access(n,"olddisplay",O(n.nodeName)))):(r=Pt(n),"none"===i&&r||At.set(n,"olddisplay",r?i:lt.css(n,"display"))));for(o=0;o<s;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?a[o]||"":"none"));return t}function I(t,e,i,n,r){return new I.prototype.init(t,e,i,n,r)}function L(){return i.setTimeout(function(){oe=void 0}),oe=lt.now()}function z(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=Dt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function H(t,e,i){for(var n,r=(B.tweeners[e]||[]).concat(B.tweeners["*"]),a=0,o=r.length;a<o;a++)if(n=r[a].call(i,e,t))return n}function q(t,e,i){var n,r,a,o,s,l,c,u=this,h={},d=t.style,f=t.nodeType&&Pt(t),p=At.get(t,"fxshow");i.queue||(s=lt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,lt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],c=lt.css(t,"display"),"inline"===("none"===c?At.get(t,"olddisplay")||O(t.nodeName):c)&&"none"===lt.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],le.exec(r)){if(delete e[n],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[n])continue;f=!0}h[n]=p&&p[n]||lt.style(t,n)}else c=void 0;if(lt.isEmptyObject(h))"inline"===("none"===c?O(t.nodeName):c)&&(d.display=c);else{p?"hidden"in p&&(f=p.hidden):p=At.access(t,"fxshow",{}),a&&(p.hidden=!f),f?lt(t).show():u.done(function(){lt(t).hide()}),u.done(function(){var e;At.remove(t,"fxshow");for(e in h)lt.style(t,e,h[e])});for(n in h)o=H(f?p[n]:0,n,u),n in p||(p[n]=o.start,f&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function F(t,e){var i,n,r,a,o;for(i in t)if(n=lt.camelCase(i),r=e[n],a=t[i],lt.isArray(a)&&(r=a[1],a=t[i]=a[0]),i!==n&&(t[n]=a,delete t[i]),(o=lt.cssHooks[n])&&"expand"in o){a=o.expand(a),delete t[n];for(i in a)i in t||(t[i]=a[i],e[i]=r)}else e[n]=r}function B(t,e,i){var n,r,a=0,o=B.prefilters.length,s=lt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=oe||L(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,a=1-n,o=0,l=c.tweens.length;o<l;o++)c.tweens[o].run(a);return s.notifyWith(t,[c,a,i]),a<1&&l?i:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:lt.extend({},e),opts:lt.extend(!0,{specialEasing:{},easing:lt.easing._default},i),originalProperties:e,originalOptions:i,startTime:oe||L(),duration:i.duration,tweens:[],createTween:function(e,i){var n=lt.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(F(u,c.opts.specialEasing);a<o;a++)if(n=B.prefilters[a].call(c,t,u,c.opts))return lt.isFunction(n.stop)&&(lt._queueHooks(c.elem,c.opts.queue).stop=lt.proxy(n.stop,n)),n;return lt.map(u,H,c),lt.isFunction(c.opts.start)&&c.opts.start.call(t,c),lt.fx.timer(lt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function V(t){return t.getAttribute&&t.getAttribute("class")||""}function U(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,a=e.toLowerCase().match(kt)||[];if(lt.isFunction(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function W(t,e,i,n){function r(s){var l;return a[s]=!0,lt.each(t[s]||[],function(t,s){var c=s(e,i,n);return"string"!=typeof c||o||a[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var a={},o=t===Me;return r(e.dataTypes[0])||!a["*"]&&r("*")}function G(t,e){var i,n,r=lt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&lt.extend(!0,t,n),t}function X(t,e,i){for(var n,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),i[a]}function Y(t,e,i,n){var r,a,o,s,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(i[t.responseFields[a]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(r in c)if(s=r.split(" "),s[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function J(t,e,i,n){var r;if(lt.isArray(e))lt.each(e,function(e,r){i||je.test(t)?n(t,r):J(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==lt.type(e))n(t,e);else for(r in e)J(t+"["+r+"]",e[r],i,n)}function K(t){return lt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Q=[],Z=i.document,tt=Q.slice,et=Q.concat,it=Q.push,nt=Q.indexOf,rt={},at=rt.toString,ot=rt.hasOwnProperty,st={},lt=function(t,e){return new lt.fn.init(t,e)},ct=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ut=/^-ms-/,ht=/-([\da-z])/gi,dt=function(t,e){return e.toUpperCase()};lt.fn=lt.prototype={jquery:"2.2.4",constructor:lt,selector:"",length:0,toArray:function(){return tt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:tt.call(this)},pushStack:function(t){var e=lt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return lt.each(this,t)},map:function(t){return this.pushStack(lt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:it,sort:Q.sort,splice:Q.splice},lt.extend=lt.fn.extend=function(){var t,e,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||lt.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=o[e],n=t[e],o!==n&&(c&&n&&(lt.isPlainObject(n)||(r=lt.isArray(n)))?(r?(r=!1,a=i&&lt.isArray(i)?i:[]):a=i&&lt.isPlainObject(i)?i:{},o[e]=lt.extend(c,a,n)):void 0!==n&&(o[e]=n));return o},lt.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===lt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!lt.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==lt.type(t)||t.nodeType||lt.isWindow(t))return!1;if(t.constructor&&!ot.call(t,"constructor")&&!ot.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||ot.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?rt[at.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=lt.trim(t))&&(1===t.indexOf("use strict")?(e=Z.createElement("script"),e.text=t,Z.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(ut,"ms-").replace(ht,dt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,n=0;if(o(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ct,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(o(Object(t))?lt.merge(i,"string"==typeof t?[t]:t):it.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:nt.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,a=t.length,o=!i;r<a;r++)!e(t[r],r)!==o&&n.push(t[r]);return n},map:function(t,e,i){var n,r,a=0,s=[];if(o(t))for(n=t.length;a<n;a++)null!=(r=e(t[a],a,i))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,i))&&s.push(r);return et.apply([],s)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),lt.isFunction(t))return n=tt.call(arguments,2),r=function(){return t.apply(e||this,n.concat(tt.call(arguments)))},r.guid=t.guid=t.guid||lt.guid++,r},now:Date.now,support:st}),"function"==typeof Symbol&&(lt.fn[Symbol.iterator]=Q[Symbol.iterator]),lt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){rt["[object "+e+"]"]=e.toLowerCase()});var ft=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,i,n){var r,a,o,s,c,h,d,f,p=e&&e.ownerDocument,m=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return i;if(!n&&((e?e.ownerDocument||e:L)!==E&&O(e),e=e||E,j)){if(11!==m&&(h=mt.exec(t)))if(r=h[1]){if(9===m){if(!(o=e.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(p&&(o=p.getElementById(r))&&N(e,o)&&o.id===r)return i.push(o),i}else{if(h[2])return J.apply(i,e.getElementsByTagName(t)),i;if((r=h[3])&&y.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(r)),i}if(y.qsa&&!B[t+" "]&&(!D||!D.test(t))){if(1!==m)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(vt,"\\$&"):e.setAttribute("id",s=I),d=k(t),a=d.length,c=ut.test(s)?"#"+s:"[id='"+s+"']";a--;)d[a]=c+" "+u(d[a]);f=d.join(","),p=gt.test(t)&&l(e.parentNode)||e}if(f)try{return J.apply(i,p.querySelectorAll(f)),i}catch(t){}finally{s===I&&e.removeAttribute("id")}}}return S(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>b.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[I]=!0,t}function r(t){var e=E.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var i=t.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return n(function(e){return e=+e,n(function(i,n){for(var r,a=t([],i.length,e),o=a.length;o--;)i[r=a[o]]&&(i[r]=!(n[r]=i[r]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function u(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function h(t,e,i){var n=e.dir,r=i&&"parentNode"===n,a=H++;return e.first?function(e,i,a){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,a)}:function(e,i,o){var s,l,c,u=[z,a];if(o){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(c=e[I]||(e[I]={}),l=c[e.uniqueID]||(c[e.uniqueID]={}),(s=l[n])&&s[0]===z&&s[1]===a)return u[2]=s[2];if(l[n]=u,u[2]=t(e,i,o))return!0}}}function d(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function f(t,i,n){for(var r=0,a=i.length;r<a;r++)e(t,i[r],n);return n}function p(t,e,i,n,r){for(var a,o=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(i&&!i(a,n,r)||(o.push(a),c&&e.push(s)));return o}function m(t,e,i,r,a,o){return r&&!r[I]&&(r=m(r)),a&&!a[I]&&(a=m(a,o)),n(function(n,o,s,l){var c,u,h,d=[],m=[],g=o.length,v=n||f(e||"*",s.nodeType?[s]:s,[]),_=!t||!n&&e?v:p(v,d,t,s,l),y=i?a||(n?t:g||r)?[]:o:_;if(i&&i(_,y,s,l),r)for(c=p(y,m),r(c,[],s,l),u=c.length;u--;)(h=c[u])&&(y[m[u]]=!(_[m[u]]=h));if(n){if(a||t){if(a){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(_[u]=h);a(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=a?Q(n,h):d[u])>-1&&(n[c]=!(o[c]=h))}}else y=p(y===o?y.splice(g,y.length):y),a?a(null,o,y,l):J.apply(o,y)})}function g(t){for(var e,i,n,r=t.length,a=b.relative[t[0].type],o=a||b.relative[" "],s=a?1:0,l=h(function(t){return t===e},o,!0),c=h(function(t){return Q(e,t)>-1},o,!0),f=[function(t,i,n){var r=!a&&(n||i!==T)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,r}];s<r;s++)if(i=b.relative[t[s].type])f=[h(d(f),i)];else{if(i=b.filter[t[s].type].apply(null,t[s].matches),i[I]){for(n=++s;n<r&&!b.relative[t[n].type];n++);return m(s>1&&d(f),s>1&&u(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(at,"$1"),i,s<n&&g(t.slice(s,n)),n<r&&g(t=t.slice(n)),n<r&&u(t))}f.push(i)}return d(f)}function v(t,i){var r=i.length>0,a=t.length>0,o=function(n,o,s,l,c){var u,h,d,f=0,m="0",g=n&&[],v=[],_=T,y=n||a&&b.find.TAG("*",c),w=z+=null==_?1:Math.random()||.1,x=y.length;for(c&&(T=o===E||o||c);m!==x&&null!=(u=y[m]);m++){if(a&&u){for(h=0,o||u.ownerDocument===E||(O(u),s=!j);d=t[h++];)if(d(u,o||E,s)){l.push(u);break}c&&(z=w)}r&&((u=!d&&u)&&f--,n&&g.push(u))}if(f+=m,r&&m!==f){for(h=0;d=i[h++];)d(g,v,o,s);if(n){if(f>0)for(;m--;)g[m]||v[m]||(v[m]=X.call(l));v=p(v)}J.apply(l,v),c&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return c&&(z=w,T=_),g};return r?n(o):o}var _,y,b,w,x,k,C,S,T,A,M,O,E,$,j,D,P,R,N,I="sizzle"+1*new Date,L=t.document,z=0,H=0,q=i(),F=i(),B=i(),V=function(t,e){return t===e&&(M=!0),0},U=1<<31,W={}.hasOwnProperty,G=[],X=G.pop,Y=G.push,J=G.push,K=G.slice,Q=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),at=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),ot=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(nt),ut=new RegExp("^"+et+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,vt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},bt=function(){O()};try{J.apply(G=K.call(L.childNodes),L.childNodes),G[L.childNodes.length].nodeType}catch(t){J={apply:G.length?function(t,e){Y.apply(t,K.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}y=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:L;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,$=E.documentElement,j=!x(E),(i=E.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",bt,!1):i.attachEvent&&i.attachEvent("onunload",bt)),y.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),y.getElementsByTagName=r(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),y.getElementsByClassName=pt.test(E.getElementsByClassName),y.getById=r(function(t){return $.appendChild(t).id=I,!E.getElementsByName||!E.getElementsByName(I).length}),y.getById?(b.find.ID=function(t,e){if(void 0!==e.getElementById&&j){var i=e.getElementById(t);return i?[i]:[]}},b.filter.ID=function(t){var e=t.replace(_t,yt);return function(t){return t.getAttribute("id")===e}}):(delete b.find.ID,b.filter.ID=function(t){var e=t.replace(_t,yt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),b.find.TAG=y.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):y.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},b.find.CLASS=y.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&j)return e.getElementsByClassName(t)},P=[],D=[],(y.qsa=pt.test(E.querySelectorAll))&&(r(function(t){$.appendChild(t).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||D.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+I+"-]").length||D.push("~="),t.querySelectorAll(":checked").length||D.push(":checked"),t.querySelectorAll("a#"+I+"+*").length||D.push(".#.+[+~]")}),r(function(t){var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&D.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(y.matchesSelector=pt.test(R=$.matches||$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&r(function(t){y.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),P.push("!=",nt)}),D=D.length&&new RegExp(D.join("|")),P=P.length&&new RegExp(P.join("|")),e=pt.test($.compareDocumentPosition),N=e||pt.test($.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!y.sortDetached&&e.compareDocumentPosition(t)===i?t===E||t.ownerDocument===L&&N(L,t)?-1:e===E||e.ownerDocument===L&&N(L,e)?1:A?Q(A,t)-Q(A,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,n=0,r=t.parentNode,a=e.parentNode,s=[t],l=[e];if(!r||!a)return t===E?-1:e===E?1:r?-1:a?1:A?Q(A,t)-Q(A,e):0;if(r===a)return o(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?o(s[n],l[n]):s[n]===L?-1:l[n]===L?1:0},E):E},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==E&&O(t),i=i.replace(lt,"='$1']"),y.matchesSelector&&j&&!B[i+" "]&&(!P||!P.test(i))&&(!D||!D.test(i)))try{var n=R.call(t,i);if(n||y.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&O(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&O(t);var i=b.attrHandle[e.toLowerCase()],n=i&&W.call(b.attrHandle,e.toLowerCase())?i(t,e,!j):void 0;return void 0!==n?n:y.attributes||!j?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(M=!y.detectDuplicates,A=!y.sortStable&&t.slice(0),t.sort(V),M){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return A=null,t},w=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=w(e);return i},b=e.selectors={cacheLength:50,createPseudo:n,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ct.test(i)&&(e=k(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var a=e.attr(r,t);return null==a?"!="===i:!i||(a+="","="===i?a===n:"!="===i?a!==n:"^="===i?n&&0===a.indexOf(n):"*="===i?n&&a.indexOf(n)>-1:"$="===i?n&&a.slice(-n.length)===n:"~="===i?(" "+a.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,d,f,p,m=a!==o?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),_=!l&&!s,y=!1;if(g){if(a){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&_){for(d=g,h=d[I]||(d[I]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),c=u[t]||[],f=c[0]===z&&c[1],y=f&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(y=f=0)||p.pop();)if(1===d.nodeType&&++y&&d===e){u[t]=[z,f,y];break}}else if(_&&(d=e,h=d[I]||(d[I]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),c=u[t]||[],f=c[0]===z&&c[1],y=f),!1===y)for(;(d=++f&&d&&d[m]||(y=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(_&&(h=d[I]||(d[I]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),u[t]=[z,y]),d!==e)););return(y-=r)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,i){var r,a=b.pseudos[t]||b.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[I]?a(i):a.length>1?(r=[t,t,"",i],b.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=a(t,i),o=r.length;o--;)n=Q(t,r[o]),t[n]=!(e[n]=r[o])}):function(t){return a(t,0,r)}):a}},pseudos:{not:n(function(t){var e=[],i=[],r=C(t.replace(at,"$1"));return r[I]?n(function(t,e,i,n){for(var a,o=r(t,null,n,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,n,a){return e[0]=t,r(e,null,a,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(_t,yt),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:n(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,yt).toLowerCase(),function(e){var i;do{if(i=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===$},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,i){return[i<0?i+e:i]}),even:s(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:s(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:s(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:s(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},b.pseudos.nth=b.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[_]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(_);for(_ in{submit:!0,reset:!0})b.pseudos[_]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(_);return c.prototype=b.filters=b.pseudos,b.setFilters=new c,k=e.tokenize=function(t,i){var n,r,a,o,s,l,c,u=F[t+" "];if(u)return i?0:u.slice(0);for(s=t,l=[],c=b.preFilter;s;){n&&!(r=ot.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=st.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(at," ")}),s=s.slice(n.length));for(o in b.filter)!(r=ht[o].exec(s))||c[o]&&!(r=c[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):F(t,l).slice(0)},C=e.compile=function(t,e){var i,n=[],r=[],a=B[t+" "];if(!a){for(e||(e=k(t)),i=e.length;i--;)a=g(e[i]),a[I]?n.push(a):r.push(a);a=B(t,v(r,n)),a.selector=t}return a},S=e.select=function(t,e,i,n){var r,a,o,s,c,h="function"==typeof t&&t,d=!n&&k(t=h.selector||t);if(i=i||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&y.getById&&9===e.nodeType&&j&&b.relative[a[1].type]){if(!(e=(b.find.ID(o.matches[0].replace(_t,yt),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(r=ht.needsContext.test(t)?0:a.length;r--&&(o=a[r],!b.relative[s=o.type]);)if((c=b.find[s])&&(n=c(o.matches[0].replace(_t,yt),gt.test(a[0].type)&&l(e.parentNode)||e))){if(a.splice(r,1),!(t=n.length&&u(a)))return J.apply(i,n),i;break}}return(h||C(t,d))(n,e,!j,i,!e||gt.test(t)&&l(e.parentNode)||e),i},y.sortStable=I.split("").sort(V).join("")===I,y.detectDuplicates=!!M,O(),y.sortDetached=r(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),y.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||a(Z,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(i);lt.find=ft,lt.expr=ft.selectors,lt.expr[":"]=lt.expr.pseudos,lt.uniqueSort=lt.unique=ft.uniqueSort,lt.text=ft.getText,lt.isXMLDoc=ft.isXML,lt.contains=ft.contains;var pt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&lt(t).is(i))break;n.push(t)}return n},mt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},gt=lt.expr.match.needsContext,vt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_t=/^.[^:#\[\.,]*$/;lt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?lt.find.matchesSelector(n,t)?[n]:[]:lt.find.matches(t,lt.grep(e,function(t){return 1===t.nodeType}))},lt.fn.extend({find:function(t){var e,i=this.length,n=[],r=this;if("string"!=typeof t)return this.pushStack(lt(t).filter(function(){for(e=0;e<i;e++)if(lt.contains(r[e],this))return!0}));for(e=0;e<i;e++)lt.find(t,r[e],n);return n=this.pushStack(i>1?lt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&gt.test(t)?lt(t):t||[],!1).length}});var yt,bt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(lt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||yt,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:bt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof lt?e[0]:e,lt.merge(this,lt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),vt.test(n[1])&&lt.isPlainObject(e))for(n in e)lt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Z.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):lt.isFunction(t)?void 0!==i.ready?i.ready(t):t(lt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),lt.makeArray(t,this))}).prototype=lt.fn,yt=lt(Z);var wt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({has:function(t){var e=lt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(lt.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,a=[],o=gt.test(t)||"string"!=typeof t?lt(t,e||this.context):0;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&lt.find.matchesSelector(i,t))){a.push(i);break}return this.pushStack(a.length>1?lt.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?nt.call(lt(t),this[0]):nt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(lt.uniqueSort(lt.merge(this.get(),lt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),lt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return pt(t,"parentNode")},parentsUntil:function(t,e,i){return pt(t,"parentNode",i)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return pt(t,"nextSibling")},prevAll:function(t){return pt(t,"previousSibling")},nextUntil:function(t,e,i){return pt(t,"nextSibling",i)},prevUntil:function(t,e,i){return pt(t,"previousSibling",i)},siblings:function(t){return mt((t.parentNode||{}).firstChild,t)},children:function(t){return mt(t.firstChild)},contents:function(t){return t.contentDocument||lt.merge([],t.childNodes)}},function(t,e){lt.fn[t]=function(i,n){var r=lt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=lt.filter(n,r)),this.length>1&&(xt[t]||lt.uniqueSort(r),wt.test(t)&&r.reverse()),this.pushStack(r)}});var kt=/\S+/g;lt.Callbacks=function(t){t="string"==typeof t?c(t):lt.extend({},t);var e,i,n,r,a=[],o=[],s=-1,l=function(){for(r=t.once,n=e=!0;o.length;s=-1)for(i=o.shift();++s<a.length;)!1===a[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=a.length,i=!1);t.memory||(i=!1),e=!1,r&&(a=i?[]:"")},u={add:function(){return a&&(i&&!e&&(s=a.length-1,o.push(i)),function e(i){lt.each(i,function(i,n){lt.isFunction(n)?t.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==lt.type(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return lt.each(arguments,function(t,e){for(var i;(i=lt.inArray(e,a,i))>-1;)a.splice(i,1),i<=s&&s--}),this},has:function(t){return t?lt.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=i="",this},disabled:function(){return!a},lock:function(){return r=o=[],i||(a=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},lt.extend({Deferred:function(t){var e=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return lt.Deferred(function(i){lt.each(e,function(e,a){var o=lt.isFunction(t[e])&&t[e];r[a[1]](function(){var t=o&&o.apply(this,arguments);t&&lt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[a[0]+"With"](this===n?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?lt.extend(t,n):n}},r={};return n.pipe=n.then,lt.each(e,function(t,a){var o=a[2],s=a[3];n[a[1]]=o.add,s&&o.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?n:this,arguments),this},r[a[0]+"With"]=o.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,a=tt.call(arguments),o=a.length,s=1!==o||t&&lt.isFunction(t.promise)?o:0,l=1===s?t:lt.Deferred(),c=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?tt.call(arguments):r,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);r<o;r++)a[r]&&lt.isFunction(a[r].promise)?a[r].promise().progress(c(r,i,e)).done(c(r,n,a)).fail(l.reject):--s;return s||l.resolveWith(n,a),l.promise()}});var Ct;lt.fn.ready=function(t){return lt.ready.promise().done(t),this},lt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?lt.readyWait++:lt.ready(!0)},ready:function(t){(!0===t?--lt.readyWait:lt.isReady)||(lt.isReady=!0,!0!==t&&--lt.readyWait>0||(Ct.resolveWith(Z,[lt]),lt.fn.triggerHandler&&(lt(Z).triggerHandler("ready"),lt(Z).off("ready"))))}}),lt.ready.promise=function(t){return Ct||(Ct=lt.Deferred(),"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?i.setTimeout(lt.ready):(Z.addEventListener("DOMContentLoaded",u),i.addEventListener("load",u))),Ct.promise(t)},lt.ready.promise();var St=function(t,e,i,n,r,a,o){var s=0,l=t.length,c=null==i;if("object"===lt.type(i)){r=!0;for(s in i)St(t,e,s,i[s],!0,a,o)}else if(void 0!==n&&(r=!0,lt.isFunction(n)||(o=!0),c&&(o?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(lt(t),i)})),e))for(;s<l;s++)e(t[s],i,o?n:n.call(t[s],s,e(t[s],i)));return r?t:c?e.call(t):l?e(t[0],i):a},Tt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Tt(t))return{};var e=t[this.expando];return e||(e={},Tt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[e]=i;else for(n in e)r[n]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,lt.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,r,a=t[this.expando];if(void 0!==a){if(void 0===e)this.register(t);else{lt.isArray(e)?n=e.concat(e.map(lt.camelCase)):(r=lt.camelCase(e),e in a?n=[e,r]:(n=r,n=n in a?[n]:n.match(kt)||[])),i=n.length;for(;i--;)delete a[n[i]]}(void 0===e||lt.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!lt.isEmptyObject(e)}};var At=new h,Mt=new h,Ot=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/[A-Z]/g;lt.extend({hasData:function(t){return Mt.hasData(t)||At.hasData(t)},data:function(t,e,i){return Mt.access(t,e,i)},removeData:function(t,e){Mt.remove(t,e)},_data:function(t,e,i){return At.access(t,e,i)},_removeData:function(t,e){At.remove(t,e)}}),lt.fn.extend({data:function(t,e){var i,n,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=Mt.get(a),1===a.nodeType&&!At.get(a,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=lt.camelCase(n.slice(5)),d(a,n,r[n])));At.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Mt.set(this,t)}):St(this,function(e){var i,n;if(a&&void 0===e){if(void 0!==(i=Mt.get(a,t)||Mt.get(a,t.replace(Et,"-$&").toLowerCase())))return i;if(n=lt.camelCase(t),void 0!==(i=Mt.get(a,n)))return i;if(void 0!==(i=d(a,n,void 0)))return i}else n=lt.camelCase(t),this.each(function(){var i=Mt.get(this,n);Mt.set(this,n,e),t.indexOf("-")>-1&&void 0!==i&&Mt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Mt.remove(this,t)})}}),lt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=At.get(t,e),i&&(!n||lt.isArray(i)?n=At.access(t,e,lt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=lt.queue(t,e),n=i.length,r=i.shift(),a=lt._queueHooks(t,e),o=function(){lt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete a.stop,r.call(t,o,a)),!n&&a&&a.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return At.get(t,i)||At.access(t,i,{empty:lt.Callbacks("once memory").add(function(){At.remove(t,[e+"queue",i])})})}}),lt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?lt.queue(this[0],t):void 0===e?this:this.each(function(){var i=lt.queue(this,t,e);lt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&lt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){lt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=lt.Deferred(),a=this,o=this.length,s=function(){--n||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=At.get(a[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var $t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jt=new RegExp("^(?:([+-])=|)("+$t+")([a-z%]*)$","i"),Dt=["Top","Right","Bottom","Left"],Pt=function(t,e){return t=e||t,"none"===lt.css(t,"display")||!lt.contains(t.ownerDocument,t)},Rt=/^(?:checkbox|radio)$/i,Nt=/<([\w:-]+)/,It=/^$|\/(?:java|ecma)script/i,Lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td;var zt=/<|&#?\w+;/;!function(){var t=Z.createDocumentFragment(),e=t.appendChild(Z.createElement("div")),i=Z.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),st.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",st.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ht=/^key/,qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ft=/^([^.]*)(?:\.(.+)|)/;lt.event={global:{},add:function(t,e,i,n,r){var a,o,s,l,c,u,h,d,f,p,m,g=At.get(t);if(g)for(i.handler&&(a=i,i=a.handler,r=a.selector),i.guid||(i.guid=lt.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(e){return void 0!==lt&&lt.event.triggered!==e.type?lt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(kt)||[""],c=e.length;c--;)s=Ft.exec(e[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(h=lt.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=lt.event.special[f]||{},u=lt.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&lt.expr.match.needsContext.test(r),namespace:p.join(".")},a),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&!1!==h.setup.call(t,n,p,o)||t.addEventListener&&t.addEventListener(f,o)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),lt.event.global[f]=!0)},remove:function(t,e,i,n,r){var a,o,s,l,c,u,h,d,f,p,m,g=At.hasData(t)&&At.get(t);if(g&&(l=g.events)){for(e=(e||"").match(kt)||[""],c=e.length;c--;)if(s=Ft.exec(e[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(h=lt.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)u=d[a],!r&&m!==u.origType||i&&i.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(a,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||lt.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)lt.event.remove(t,f+e[c],i,n,!0);lt.isEmptyObject(l)&&At.remove(t,"handle events")}},dispatch:function(t){t=lt.event.fix(t);var e,i,n,r,a,o=[],s=tt.call(arguments),l=(At.get(this,"events")||{})[t.type]||[],c=lt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(o=lt.event.handlers.call(this,t,l),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(a=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(n=((lt.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<s;i++)a=e[i],r=a.selector+" ",void 0===n[r]&&(n[r]=a.needsContext?lt(r,this).index(l)>-1:lt.find(r,this,null,[l]).length),n[r]&&n.push(a);n.length&&o.push({elem:l,handlers:n})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Z,n=i.documentElement,r=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[lt.expando])return t;var e,i,n,r=t.type,a=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=qt.test(r)?this.mouseHooks:Ht.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,t=new lt.Event(a),e=n.length;e--;)i=n[e],t[i]=a[i];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===y()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&lt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return lt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},lt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},lt.Event=function(t,e){if(!(this instanceof lt.Event))return new lt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?v:_):this.type=t,e&&lt.extend(this,e),this.timeStamp=t&&t.timeStamp||lt.now(),this[lt.expando]=!0},lt.Event.prototype={constructor:lt.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){lt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,a=t.handleObj;return r&&(r===n||lt.contains(n,r))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),lt.fn.extend({on:function(t,e,i,n){return b(this,t,e,i,n)},one:function(t,e,i,n){return b(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,lt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=_),this.each(function(){lt.event.remove(this,t,i,e)})}});var Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Vt=/<script|<style|<link/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;lt.extend({htmlPrefilter:function(t){return t.replace(Bt,"<$1></$2>")},clone:function(t,e,i){var n,r,a,o,s=t.cloneNode(!0),l=lt.contains(t.ownerDocument,t);if(!(st.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||lt.isXMLDoc(t)))for(o=p(s),a=p(t),n=0,r=a.length;n<r;n++)S(a[n],o[n]);if(e)if(i)for(a=a||p(t),o=o||p(s),n=0,r=a.length;n<r;n++)C(a[n],o[n]);else C(t,s);return o=p(s,"script"),o.length>0&&m(o,!l&&p(t,"script")),s},cleanData:function(t){for(var e,i,n,r=lt.event.special,a=0;void 0!==(i=t[a]);a++)if(Tt(i)){if(e=i[At.expando]){if(e.events)for(n in e.events)r[n]?lt.event.remove(i,n):lt.removeEvent(i,n,e.handle);i[At.expando]=void 0}i[Mt.expando]&&(i[Mt.expando]=void 0)}}}),lt.fn.extend({domManip:T,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return St(this,function(t){return void 0===t?lt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){w(this,t).appendChild(t)}})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(lt.cleanData(p(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return lt.clone(this,t,e)})},html:function(t){return St(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Vt.test(t)&&!Lt[(Nt.exec(t)||["",""])[1].toLowerCase()]){t=lt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(lt.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var i=this.parentNode;lt.inArray(this,t)<0&&(lt.cleanData(p(this)),i&&i.replaceChild(e,this))},t)}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){lt.fn[t]=function(t){for(var i,n=[],r=lt(t),a=r.length-1,o=0;o<=a;o++)i=o===a?this:this.clone(!0),lt(r[o])[e](i),it.apply(n,i.get());return this.pushStack(n)}});var Xt,Yt={HTML:"block",BODY:"block"},Jt=/^margin/,Kt=new RegExp("^("+$t+")(?!px)[a-z%]+$","i"),Qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Zt=function(t,e,i,n){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];r=i.apply(t,n||[]);for(a in e)t.style[a]=o[a];return r},te=Z.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",te.appendChild(o);var t=i.getComputedStyle(s);e="1%"!==t.top,a="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,te.removeChild(o)}var e,n,r,a,o=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",st.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),lt.extend(st,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),r},reliableMarginLeft:function(){return null==n&&t(),a},reliableMarginRight:function(){var t,e=s.appendChild(Z.createElement("div"));return e.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",s.style.width="1px",te.appendChild(o),t=!parseFloat(i.getComputedStyle(e).marginRight),te.removeChild(o),s.removeChild(e),t}}))}();var ee=/^(none|table(?!-c[ea]).+)/,ie={position:"absolute",visibility:"hidden",display:"block"},ne={letterSpacing:"0",fontWeight:"400"},re=["Webkit","O","Moz","ms"],ae=Z.createElement("div").style;lt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=E(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=lt.camelCase(e),l=t.style;if(e=lt.cssProps[s]||(lt.cssProps[s]=j(s)||s),o=lt.cssHooks[e]||lt.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:l[e];a=typeof i,"string"===a&&(r=jt.exec(i))&&r[1]&&(i=f(t,e,r),a="number"),null!=i&&i===i&&("number"===a&&(i+=r&&r[3]||(lt.cssNumber[s]?"":"px")),st.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var r,a,o,s=lt.camelCase(e);return e=lt.cssProps[s]||(lt.cssProps[s]=j(s)||s),o=lt.cssHooks[e]||lt.cssHooks[s],o&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=E(t,e,n)),"normal"===r&&e in ne&&(r=ne[e]),""===i||i?(a=parseFloat(r),!0===i||isFinite(a)?a||0:r):r}}),lt.each(["height","width"],function(t,e){lt.cssHooks[e]={get:function(t,i,n){if(i)return ee.test(lt.css(t,"display"))&&0===t.offsetWidth?Zt(t,ie,function(){return R(t,e,n)}):R(t,e,n)},set:function(t,i,n){var r,a=n&&Qt(t),o=n&&P(t,e,n,"border-box"===lt.css(t,"boxSizing",!1,a),a);return o&&(r=jt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=lt.css(t,e)),D(t,i,o)}}}),lt.cssHooks.marginLeft=$(st.reliableMarginLeft,function(t,e){if(e)return(parseFloat(E(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),lt.cssHooks.marginRight=$(st.reliableMarginRight,function(t,e){if(e)return Zt(t,{display:"inline-block"},E,[t,"marginRight"])}),lt.each({margin:"",padding:"",border:"Width"},function(t,e){lt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Dt[n]+e]=a[n]||a[n-2]||a[0];return r}},Jt.test(t)||(lt.cssHooks[t+e].set=D)}),lt.fn.extend({css:function(t,e){return St(this,function(t,e,i){var n,r,a={},o=0;if(lt.isArray(e)){for(n=Qt(t),r=e.length;o<r;o++)a[e[o]]=lt.css(t,e[o],!1,n);return a}return void 0!==i?lt.style(t,e,i):lt.css(t,e)},t,e,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Pt(this)?lt(this).show():lt(this).hide()})}}),lt.Tween=I,I.prototype={constructor:I,init:function(t,e,i,n,r,a){this.elem=t,this.prop=i,this.easing=r||lt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=a||(lt.cssNumber[i]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,i=I.propHooks[this.prop];return this.options.duration?this.pos=e=lt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=lt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){lt.fx.step[t.prop]?lt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[lt.cssProps[t.prop]]&&!lt.cssHooks[t.prop]?t.elem[t.prop]=t.now:lt.style(t.elem,t.prop,t.now+t.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},lt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},lt.fx=I.prototype.init,lt.fx.step={};var oe,se,le=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;lt.Animation=lt.extend(B,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return f(i.elem,t,jt.exec(e),i),i}]},tweener:function(t,e){lt.isFunction(t)?(e=t,t=["*"]):t=t.match(kt);for(var i,n=0,r=t.length;n<r;n++)i=t[n],B.tweeners[i]=B.tweeners[i]||[],B.tweeners[i].unshift(e)},prefilters:[q],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),lt.speed=function(t,e,i){var n=t&&"object"==typeof t?lt.extend({},t):{complete:i||!i&&e||lt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!lt.isFunction(e)&&e};return n.duration=lt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in lt.fx.speeds?lt.fx.speeds[n.duration]:lt.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){lt.isFunction(n.old)&&n.old.call(this),n.queue&&lt.dequeue(this,n.queue)},n},lt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Pt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=lt.isEmptyObject(t),a=lt.speed(e,i,n),o=function(){var e=B(this,lt.extend({},t),a);(r||At.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=lt.timers,o=At.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&ce.test(r)&&n(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(i),e=!1,a.splice(r,1));!e&&i||lt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=At.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],a=lt.timers,o=n?n.length:0;for(i.finish=!0,lt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),lt.each(["toggle","show","hide"],function(t,e){var i=lt.fn[e];lt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(z(e,!0),t,n,r)}}),lt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){lt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),lt.timers=[],lt.fx.tick=function(){var t,e=0,i=lt.timers;for(oe=lt.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||lt.fx.stop(),oe=void 0},lt.fx.timer=function(t){lt.timers.push(t),t()?lt.fx.start():lt.timers.pop()},lt.fx.interval=13,lt.fx.start=function(){se||(se=i.setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){i.clearInterval(se),se=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fn.delay=function(t,e){return t=lt.fx?lt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}})},function(){var t=Z.createElement("input"),e=Z.createElement("select"),i=e.appendChild(Z.createElement("option"));t.type="checkbox",st.checkOn=""!==t.value,st.optSelected=i.selected,e.disabled=!0,st.optDisabled=!i.disabled,t=Z.createElement("input"),t.value="t",t.type="radio",st.radioValue="t"===t.value}();var ue,he=lt.expr.attrHandle;lt.fn.extend({attr:function(t,e){return St(this,lt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){lt.removeAttr(this,t)})}}),lt.extend({attr:function(t,e,i){var n,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?lt.prop(t,e,i):(1===a&&lt.isXMLDoc(t)||(e=e.toLowerCase(),r=lt.attrHooks[e]||(lt.expr.match.bool.test(e)?ue:void 0)),void 0!==i?null===i?void lt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=lt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!st.radioValue&&"radio"===e&&lt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,r=0,a=e&&e.match(kt);if(a&&1===t.nodeType)for(;i=a[r++];)n=lt.propFix[i]||i,lt.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),ue={set:function(t,e,i){return!1===e?lt.removeAttr(t,i):t.setAttribute(i,i),i}},lt.each(lt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=he[e]||lt.find.attr;he[e]=function(t,e,n){var r,a;return n||(a=he[e],he[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,he[e]=a),r}});var de=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;lt.fn.extend({prop:function(t,e){return St(this,lt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[lt.propFix[t]||t]})}}),lt.extend({prop:function(t,e,i){var n,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&lt.isXMLDoc(t)||(e=lt.propFix[e]||e,r=lt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=lt.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),st.optSelected||(lt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),lt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){lt.propFix[this.toLowerCase()]=this});var pe=/[\t\r\n\f]/g;lt.fn.extend({addClass:function(t){var e,i,n,r,a,o,s,l=0;if(lt.isFunction(t))return this.each(function(e){lt(this).addClass(t.call(this,e,V(this)))});if("string"==typeof t&&t)for(e=t.match(kt)||[];i=this[l++];)if(r=V(i),n=1===i.nodeType&&(" "+r+" ").replace(pe," ")){for(o=0;a=e[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");s=lt.trim(n),r!==s&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,r,a,o,s,l=0;if(lt.isFunction(t))return this.each(function(e){lt(this).removeClass(t.call(this,e,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(kt)||[];i=this[l++];)if(r=V(i),n=1===i.nodeType&&(" "+r+" ").replace(pe," ")){for(o=0;a=e[o++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");s=lt.trim(n),r!==s&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):lt.isFunction(t)?this.each(function(i){lt(this).toggleClass(t.call(this,i,V(this),e),e)}):this.each(function(){var e,n,r,a;if("string"===i)for(n=0,r=lt(this),a=t.match(kt)||[];e=a[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=V(this),e&&At.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":At.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+V(i)+" ").replace(pe," ").indexOf(e)>-1)return!0;return!1}});var me=/\r/g,ge=/[\x20\t\r\n\f]+/g;lt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=lt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,lt(this).val()):t,null==r?r="":"number"==typeof r?r+="":lt.isArray(r)&&(r=lt.map(r,function(t){return null==t?"":t+""})),(e=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=lt.valHooks[r.type]||lt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(me,""):null==i?"":i)}}}),lt.extend({valHooks:{option:{get:function(t){var e=lt.find.attr(t,"value");return null!=e?e:lt.trim(lt.text(t)).replace(ge," ")}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,a="select-one"===t.type||r<0,o=a?null:[],s=a?r+1:n.length,l=r<0?s:a?r:0;l<s;l++)if(i=n[l],(i.selected||l===r)&&(st.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!lt.nodeName(i.parentNode,"optgroup"))){if(e=lt(i).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var i,n,r=t.options,a=lt.makeArray(e),o=r.length;o--;)n=r[o],(n.selected=lt.inArray(lt.valHooks.option.get(n),a)>-1)&&(i=!0);return i||(t.selectedIndex=-1),a}}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]={set:function(t,e){if(lt.isArray(e))return t.checked=lt.inArray(lt(t).val(),e)>-1}},st.checkOn||(lt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ve=/^(?:focusinfocus|focusoutblur)$/;lt.extend(lt.event,{trigger:function(t,e,n,r){var a,o,s,l,c,u,h,d=[n||Z],f=ot.call(t,"type")?t.type:t,p=ot.call(t,"namespace")?t.namespace.split("."):[];if(o=s=n=n||Z,3!==n.nodeType&&8!==n.nodeType&&!ve.test(f+lt.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,t=t[lt.expando]?t:new lt.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:lt.makeArray(e,[t]),h=lt.event.special[f]||{},r||!h.trigger||!1!==h.trigger.apply(n,e))){if(!r&&!h.noBubble&&!lt.isWindow(n)){for(l=h.delegateType||f,ve.test(l+f)||(o=o.parentNode);o;o=o.parentNode)d.push(o),s=o;s===(n.ownerDocument||Z)&&d.push(s.defaultView||s.parentWindow||i)}for(a=0;(o=d[a++])&&!t.isPropagationStopped();)t.type=a>1?l:h.bindType||f,u=(At.get(o,"events")||{})[t.type]&&At.get(o,"handle"),u&&u.apply(o,e),(u=c&&o[c])&&u.apply&&Tt(o)&&(t.result=u.apply(o,e),!1===t.result&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!Tt(n)||c&&lt.isFunction(n[f])&&!lt.isWindow(n)&&(s=n[c],s&&(n[c]=null),lt.event.triggered=f,n[f](),lt.event.triggered=void 0,s&&(n[c]=s)),t.result}},simulate:function(t,e,i){var n=lt.extend(new lt.Event,i,{type:t,isSimulated:!0});lt.event.trigger(n,null,e)}}),lt.fn.extend({trigger:function(t,e){return this.each(function(){lt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return lt.event.trigger(t,e,i,!0)}}),lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){lt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),lt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),st.focusin="onfocusin"in i,st.focusin||lt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){lt.event.simulate(e,t.target,lt.event.fix(t))};lt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=At.access(n,e);r||n.addEventListener(t,i,!0),At.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=At.access(n,e)-1;r?At.access(n,e,r):(n.removeEventListener(t,i,!0),At.remove(n,e))}}});var _e=i.location,ye=lt.now(),be=/\?/;lt.parseJSON=function(t){return JSON.parse(t+"")},lt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+t),e};var we=/#.*$/,xe=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ce=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Se=/^(?:GET|HEAD)$/,Te=/^\/\//,Ae={},Me={},Oe="*/".concat("*"),Ee=Z.createElement("a");Ee.href=_e.href,lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:Ce.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Oe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?G(G(t,lt.ajaxSettings),e):G(lt.ajaxSettings,t)},ajaxPrefilter:U(Ae),ajaxTransport:U(Me),ajax:function(t,e){function n(t,e,n,s){var c,h,_,y,w,k=e;2!==b&&(b=2,l&&i.clearTimeout(l),r=void 0,o=s||"",x.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(y=X(d,x,n)),y=Y(d,y,x,c),c?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(lt.lastModified[a]=w),(w=x.getResponseHeader("etag"))&&(lt.etag[a]=w)),204===t||"HEAD"===d.type?k="nocontent":304===t?k="notmodified":(k=y.state,h=y.data,_=y.error,c=!_)):(_=k,!t&&k||(k="error",t<0&&(t=0))),x.status=t,x.statusText=(e||k)+"",c?m.resolveWith(f,[h,k,x]):m.rejectWith(f,[x,k,_]),x.statusCode(v),v=void 0,u&&p.trigger(c?"ajaxSuccess":"ajaxError",[x,d,c?h:_]),g.fireWith(f,[x,k]),u&&(p.trigger("ajaxComplete",[x,d]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,a,o,s,l,c,u,h,d=lt.ajaxSetup({},e),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?lt(f):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=d.statusCode||{},_={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=ke.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=y[i]=y[i]||t,_[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),n(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||_e.href)+"").replace(we,"").replace(Te,_e.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=lt.trim(d.dataType||"*").toLowerCase().match(kt)||[""],null==d.crossDomain){c=Z.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Ee.protocol+"//"+Ee.host!=c.protocol+"//"+c.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=lt.param(d.data,d.traditional)),W(Ae,d,e,x),2===b)return x;u=lt.event&&d.global,u&&0==lt.active++&&lt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Se.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(be.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=xe.test(a)?a.replace(xe,"$1_="+ye++):a+(be.test(a)?"&":"?")+"_="+ye++)),d.ifModified&&(lt.lastModified[a]&&x.setRequestHeader("If-Modified-Since",lt.lastModified[a]),lt.etag[a]&&x.setRequestHeader("If-None-Match",lt.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Oe+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)x.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(f,x,d)||2===b))return x.abort();w="abort";for(h in{success:1,error:1,complete:1})x[h](d[h]);if(r=W(Me,d,e,x)){if(x.readyState=1,u&&p.trigger("ajaxSend",[x,d]),2===b)return x;d.async&&d.timeout>0&&(l=i.setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,r.send(_,n)}catch(t){if(!(b<2))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,i){return lt.get(t,e,i,"json")},getScript:function(t,e){return lt.get(t,void 0,e,"script")}}),lt.each(["get","post"],function(t,e){lt[e]=function(t,i,n,r){return lt.isFunction(i)&&(r=r||n,n=i,i=void 0),lt.ajax(lt.extend({url:t,type:e,dataType:r,data:i,success:n},lt.isPlainObject(t)&&t))}}),lt._evalUrl=function(t){return lt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},lt.fn.extend({wrapAll:function(t){var e;return lt.isFunction(t)?this.each(function(e){lt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=lt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return lt.isFunction(t)?this.each(function(e){lt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=lt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=lt.isFunction(t);return this.each(function(i){lt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()}}),lt.expr.filters.hidden=function(t){return!lt.expr.filters.visible(t)},lt.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var $e=/%20/g,je=/\[\]$/,De=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;lt.param=function(t,e){var i,n=[],r=function(t,e){e=lt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(t)||t.jquery&&!lt.isPlainObject(t))lt.each(t,function(){r(this.name,this.value)});else for(i in t)J(i,t[i],e,r);return n.join("&").replace($e,"+")},lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=lt.prop(this,"elements");return t?lt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!lt(this).is(":disabled")&&Re.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!Rt.test(t))}).map(function(t,e){var i=lt(this).val();return null==i?null:lt.isArray(i)?lt.map(i,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:i.replace(De,"\r\n")}}).get()}}),lt.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ne={0:200,1223:204},Ie=lt.ajaxSettings.xhr();st.cors=!!Ie&&"withCredentials"in Ie,st.ajax=Ie=!!Ie,lt.ajaxTransport(function(t){var e,n;if(st.cors||Ie&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Ne[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return lt.globalEval(t),t}}}),lt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),lt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=lt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Le=[],ze=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Le.pop()||lt.expando+"_"+ye++;return this[t]=!0,t}}),lt.ajaxPrefilter("json jsonp",function(t,e,n){var r,a,o,s=!1!==t.jsonp&&(ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=lt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ze,"$1"+r):!1!==t.jsonp&&(t.url+=(be.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||lt.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=i[r],i[r]=function(){o=arguments},n.always(function(){void 0===a?lt(i).removeProp(r):i[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,Le.push(r)),o&&lt.isFunction(a)&&a(o[0]),o=a=void 0}),"script"}),lt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Z;var n=vt.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=g([t],e,r),r&&r.length&&lt(r).remove(),lt.merge([],n.childNodes))};var He=lt.fn.load;lt.fn.load=function(t,e,i){if("string"!=typeof t&&He)return He.apply(this,arguments);var n,r,a,o=this,s=t.indexOf(" ");return s>-1&&(n=lt.trim(t.slice(s)),t=t.slice(0,s)),lt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&lt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(n?lt("<div>").append(lt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,a||[t.responseText,e,t])})}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){lt.fn[e]=function(t){return this.on(e,t)}}),lt.expr.filters.animated=function(t){return lt.grep(lt.timers,function(e){return t===e.elem}).length},lt.offset={setOffset:function(t,e,i){var n,r,a,o,s,l,c,u=lt.css(t,"position"),h=lt(t),d={};"static"===u&&(t.style.position="relative"),s=h.offset(),a=lt.css(t,"top"),l=lt.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1,c?(n=h.position(),o=n.top,r=n.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),lt.isFunction(e)&&(e=e.call(t,i,lt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):h.css(d)}},lt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){lt.offset.setOffset(this,t,e)});var e,i,n=this[0],r={top:0,left:0},a=n&&n.ownerDocument;if(a)return e=a.documentElement,lt.contains(e,n)?(r=n.getBoundingClientRect(),i=K(a),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===lt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),lt.nodeName(t[0],"html")||(n=t.offset()),n.top+=lt.css(t[0],"borderTopWidth",!0),n.left+=lt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-lt.css(i,"marginTop",!0),left:e.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===lt.css(t,"position");)t=t.offsetParent;return t||te})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;lt.fn[t]=function(n){return St(this,function(t,n,r){var a=K(t);if(void 0===r)return a?a[e]:t[n];a?a.scrollTo(i?a.pageXOffset:r,i?r:a.pageYOffset):t[n]=r},t,n,arguments.length)}}),lt.each(["top","left"],function(t,e){lt.cssHooks[e]=$(st.pixelPosition,function(t,i){if(i)return i=E(t,e),Kt.test(i)?lt(t).position()[e]+"px":i})}),lt.each({Height:"height",Width:"width"},function(t,e){lt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){lt.fn[n]=function(n,r){var a=arguments.length&&(i||"boolean"!=typeof n),o=i||(!0===n||!0===r?"margin":"border");return St(this,function(e,i,n){var r;return lt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?lt.css(e,i,o):lt.style(e,i,n,o)},e,a?n:void 0,a,null)}})}),lt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),lt.fn.andSelf=lt.fn.addBack,n=[],void 0!==(r=function(){return lt}.apply(e,n))&&(t.exports=r);var qe=i.jQuery,Fe=i.$;return lt.noConflict=function(t){return i.$===lt&&(i.$=Fe),t&&i.jQuery===lt&&(i.jQuery=qe),lt},a||(i.jQuery=i.$=lt),lt})},function(t,e,i){var n,r;(function(){function i(t){function e(e,i,n,r,a,o){for(;a>=0&&a<o;a+=t){var s=r?r[a]:a;n=i(n,e[s],s,e)}return n}return function(i,n,r,a){n=k(n,a,4);var o=!E(i)&&x.keys(i),s=(o||i).length,l=t>0?0:s-1;return arguments.length<3&&(r=i[o?o[l]:l],l+=t),e(i,n,r,o,l,s)}}function a(t){return function(e,i,n){i=C(i,n);for(var r=O(e),a=t>0?0:r-1;a>=0&&a<r;a+=t)if(i(e[a],a,e))return a;return-1}}function o(t,e,i){return function(n,r,a){var o=0,s=O(n);if("number"==typeof a)t>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(i&&a&&s)return a=i(n,r),n[a]===r?a:-1;if(r!==r)return a=e(p.call(n,o,s),x.isNaN),a>=0?a+o:-1;for(a=t>0?o:s-1;a>=0&&a<s;a+=t)if(n[a]===r)return a;return-1}}function s(t,e){var i=R.length,n=t.constructor,r=x.isFunction(n)&&n.prototype||h,a="constructor";for(x.has(t,a)&&!x.contains(e,a)&&e.push(a);i--;)(a=R[i])in t&&t[a]!==r[a]&&!x.contains(e,a)&&e.push(a)}var l=this,c=l._,u=Array.prototype,h=Object.prototype,d=Function.prototype,f=u.push,p=u.slice,m=h.toString,g=h.hasOwnProperty,v=Array.isArray,_=Object.keys,y=d.bind,b=Object.create,w=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};void 0!==t&&t.exports&&(e=t.exports=x),e._=x,x.VERSION="1.8.3";var k=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,a){return t.call(e,i,n,r,a)}}return function(){return t.apply(e,arguments)}},C=function(t,e,i){return null==t?x.identity:x.isFunction(t)?k(t,e,i):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return C(t,e,1/0)};var S=function(t,e){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var r=1;r<n;r++)for(var a=arguments[r],o=t(a),s=o.length,l=0;l<s;l++){var c=o[l];e&&void 0!==i[c]||(i[c]=a[c])}return i}},T=function(t){if(!x.isObject(t))return{};if(b)return b(t);w.prototype=t;var e=new w;return w.prototype=null,e},A=function(t){return function(e){return null==e?void 0:e[t]}},M=Math.pow(2,53)-1,O=A("length"),E=function(t){var e=O(t);return"number"==typeof e&&e>=0&&e<=M};x.each=x.forEach=function(t,e,i){e=k(e,i);var n,r;if(E(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var a=x.keys(t);for(n=0,r=a.length;n<r;n++)e(t[a[n]],a[n],t)}return t},x.map=x.collect=function(t,e,i){e=C(e,i);for(var n=!E(t)&&x.keys(t),r=(n||t).length,a=Array(r),o=0;o<r;o++){var s=n?n[o]:o;a[o]=e(t[s],s,t)}return a},x.reduce=x.foldl=x.inject=i(1),x.reduceRight=x.foldr=i(-1),x.find=x.detect=function(t,e,i){var n;if(void 0!==(n=E(t)?x.findIndex(t,e,i):x.findKey(t,e,i))&&-1!==n)return t[n]},x.filter=x.select=function(t,e,i){var n=[];return e=C(e,i),x.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},x.reject=function(t,e,i){return x.filter(t,x.negate(C(e)),i)},x.every=x.all=function(t,e,i){e=C(e,i);for(var n=!E(t)&&x.keys(t),r=(n||t).length,a=0;a<r;a++){var o=n?n[a]:a;if(!e(t[o],o,t))return!1}return!0},x.some=x.any=function(t,e,i){e=C(e,i);for(var n=!E(t)&&x.keys(t),r=(n||t).length,a=0;a<r;a++){var o=n?n[a]:a;if(e(t[o],o,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,i,n){return E(t)||(t=x.values(t)),("number"!=typeof i||n)&&(i=0),x.indexOf(t,e,i)>=0},x.invoke=function(t,e){var i=p.call(arguments,2),n=x.isFunction(e);return x.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,i){var n,r,a=-1/0,o=-1/0;if(null==e&&null!=t){t=E(t)?t:x.values(t);for(var s=0,l=t.length;s<l;s++)(n=t[s])>a&&(a=n)}else e=C(e,i),x.each(t,function(t,i,n){((r=e(t,i,n))>o||r===-1/0&&a===-1/0)&&(a=t,o=r)});return a},x.min=function(t,e,i){var n,r,a=1/0,o=1/0;if(null==e&&null!=t){t=E(t)?t:x.values(t);for(var s=0,l=t.length;s<l;s++)(n=t[s])<a&&(a=n)}else e=C(e,i),x.each(t,function(t,i,n){((r=e(t,i,n))<o||r===1/0&&a===1/0)&&(a=t,o=r)});return a},x.shuffle=function(t){for(var e,i=E(t)?t:x.values(t),n=i.length,r=Array(n),a=0;a<n;a++)e=x.random(0,a),e!==a&&(r[a]=r[e]),r[e]=i[a];return r},x.sample=function(t,e,i){return null==e||i?(E(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,i){return e=C(e,i),x.pluck(x.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var $=function(t){return function(e,i,n){var r={};return i=C(i,n),x.each(e,function(n,a){var o=i(n,a,e);t(r,n,o)}),r}};x.groupBy=$(function(t,e,i){x.has(t,i)?t[i].push(e):t[i]=[e]}),x.indexBy=$(function(t,e,i){t[i]=e}),x.countBy=$(function(t,e,i){x.has(t,i)?t[i]++:t[i]=1}),x.toArray=function(t){return t?x.isArray(t)?p.call(t):E(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:E(t)?t.length:x.keys(t).length},x.partition=function(t,e,i){e=C(e,i);var n=[],r=[];return x.each(t,function(t,i,a){(e(t,i,a)?n:r).push(t)}),[n,r]},x.first=x.head=x.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:x.initial(t,t.length-e)},x.initial=function(t,e,i){return p.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},x.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:x.rest(t,Math.max(0,t.length-e))},x.rest=x.tail=x.drop=function(t,e,i){return p.call(t,null==e||i?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var j=function(t,e,i,n){for(var r=[],a=0,o=n||0,s=O(t);o<s;o++){var l=t[o];if(E(l)&&(x.isArray(l)||x.isArguments(l))){e||(l=j(l,e,i));var c=0,u=l.length;for(r.length+=u;c<u;)r[a++]=l[c++]}else i||(r[a++]=l)}return r};x.flatten=function(t,e){return j(t,e,!1)},x.without=function(t){return x.difference(t,p.call(arguments,1))},x.uniq=x.unique=function(t,e,i,n){x.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=C(i,n));for(var r=[],a=[],o=0,s=O(t);o<s;o++){var l=t[o],c=i?i(l,o,t):l;e?(o&&a===c||r.push(l),a=c):i?x.contains(a,c)||(a.push(c),r.push(l)):x.contains(r,l)||r.push(l)}return r},x.union=function(){return x.uniq(j(arguments,!0,!0))},x.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=O(t);n<r;n++){var a=t[n];if(!x.contains(e,a)){for(var o=1;o<i&&x.contains(arguments[o],a);o++);o===i&&e.push(a)}}return e},x.difference=function(t){var e=j(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,O).length||0,i=Array(e),n=0;n<e;n++)i[n]=x.pluck(t,n);return i},x.object=function(t,e){for(var i={},n=0,r=O(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},x.findIndex=a(1),x.findLastIndex=a(-1),x.sortedIndex=function(t,e,i,n){i=C(i,n,1);for(var r=i(e),a=0,o=O(t);a<o;){var s=Math.floor((a+o)/2);i(t[s])<r?a=s+1:o=s}return a},x.indexOf=o(1,x.findIndex,x.sortedIndex),x.lastIndexOf=o(-1,x.findLastIndex),x.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),a=0;a<n;a++,t+=i)r[a]=t;return r};var D=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var a=T(t.prototype),o=t.apply(a,r);return x.isObject(o)?o:a};x.bind=function(t,e){if(y&&t.bind===y)return y.apply(t,p.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var i=p.call(arguments,2),n=function(){return D(t,n,e,this,i.concat(p.call(arguments)))};return n},x.partial=function(t){var e=p.call(arguments,1),i=function(){for(var n=0,r=e.length,a=Array(r),o=0;o<r;o++)a[o]=e[o]===x?arguments[n++]:e[o];for(;n<arguments.length;)a.push(arguments[n++]);return D(t,i,this,this,a)};return i},x.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)i=arguments[e],t[i]=x.bind(t[i],t);return t},x.memoize=function(t,e){var i=function(n){var r=i.cache,a=""+(e?e.apply(this,arguments):n);return x.has(r,a)||(r[a]=t.apply(this,arguments)),r[a]};return i.cache={},i},x.delay=function(t,e){var i=p.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,i){var n,r,a,o=null,s=0;i||(i={});var l=function(){s=!1===i.leading?0:x.now(),o=null,a=t.apply(n,r),o||(n=r=null)};return function(){var c=x.now();s||!1!==i.leading||(s=c);var u=e-(c-s);return n=this,r=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),s=c,a=t.apply(n,r),o||(n=r=null)):o||!1===i.trailing||(o=setTimeout(l,u)),a}},x.debounce=function(t,e,i){var n,r,a,o,s,l=function(){var c=x.now()-o;c<e&&c>=0?n=setTimeout(l,e-c):(n=null,i||(s=t.apply(a,r),n||(a=r=null)))};return function(){a=this,r=arguments,o=x.now();var c=i&&!n;return n||(n=setTimeout(l,e)),c&&(s=t.apply(a,r),a=r=null),s}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},x.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},x.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},x.once=x.partial(x.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(_)return _(t);var e=[];for(var i in t)x.has(t,i)&&e.push(i);return P&&s(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var i in t)e.push(i);return P&&s(t,e),e},x.values=function(t){for(var e=x.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},x.mapObject=function(t,e,i){e=C(e,i);for(var n,r=x.keys(t),a=r.length,o={},s=0;s<a;s++)n=r[s],o[n]=e(t[n],n,t);return o},x.pairs=function(t){for(var e=x.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},x.invert=function(t){for(var e={},i=x.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},x.functions=x.methods=function(t){var e=[];for(var i in t)x.isFunction(t[i])&&e.push(i);return e.sort()},x.extend=S(x.allKeys),x.extendOwn=x.assign=S(x.keys),x.findKey=function(t,e,i){e=C(e,i);for(var n,r=x.keys(t),a=0,o=r.length;a<o;a++)if(n=r[a],e(t[n],n,t))return n},x.pick=function(t,e,i){var n,r,a={},o=t;if(null==o)return a;x.isFunction(e)?(r=x.allKeys(o),n=k(e,i)):(r=j(arguments,!1,!1,1),n=function(t,e,i){return e in i},o=Object(o));for(var s=0,l=r.length;s<l;s++){var c=r[s],u=o[c];n(u,c,o)&&(a[c]=u)}return a},x.omit=function(t,e,i){if(x.isFunction(e))e=x.negate(e);else{var n=x.map(j(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(n,e)}}return x.pick(t,e,i)},x.defaults=S(x.allKeys,!0),x.create=function(t,e){var i=T(t);return e&&x.extendOwn(i,e),i},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var i=x.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),a=0;a<n;a++){var o=i[a];if(e[o]!==r[o]||!(o in r))return!1}return!0};var N=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var r=m.call(t);if(r!==m.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var a="[object Array]"===r;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,s=e.constructor;if(o!==s&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),a){if((l=t.length)!==e.length)return!1;for(;l--;)if(!N(t[l],e[l],i,n))return!1}else{var c,u=x.keys(t);if(l=u.length,x.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!x.has(e,c)||!N(t[c],e[c],i,n))return!1}return i.pop(),n.pop(),!0};x.isEqual=function(t,e){return N(t,e)},x.isEmpty=function(t){return null==t||(E(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length)},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=v||function(t){return"[object Array]"===m.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return m.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===m.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&g.call(t,e)},x.noConflict=function(){return l._=c,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=A,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,i){var n=Array(Math.max(0,t));e=k(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=x.invert(I),z=function(t){var e=function(e){return t[e]},i="(?:"+x.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};x.escape=z(I),x.unescape=z(L),x.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),x.isFunction(n)?n.call(t):n};var H=0;x.uniqueId=function(t){var e=++H+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,V=function(t){return"\\"+F[t]};x.template=function(t,e,i){!e&&i&&(e=i),e=x.defaults({},e,x.templateSettings);var n=RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(n,function(e,i,n,o,s){return a+=t.slice(r,s).replace(B,V),r=s+e.length,i?a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return o.call(this,t,x)};return s.source="function("+(e.variable||"obj")+"){\n"+a+"}",s},x.chain=function(t){var e=x(t);return e._chain=!0,e};var U=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var i=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),U(this,i.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=u[t];x.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],U(this,i)}}),x.each(["concat","join","slice"],function(t){var e=u[t];x.prototype[t]=function(){return U(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},n=[],void 0!==(r=function(){return x}.apply(e,n))&&(t.exports=r)}).call(this)},function(t,e,i){(function(n){var r,a;!function(o){var s="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n;r=[i(1),i(0),e],void 0!==(a=function(t,e,i){s.Backbone=o(s,i,t,e)}.apply(e,r))&&(t.exports=a)}(function(t,e,i,n){var r=t.Backbone,a=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,r){return i[e](this[n],l(t,this),r)};case 4:return function(t,r,a){return i[e](this[n],l(t,this),r,a)};default:return function(){var t=a.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},s=function(t,e,n){i.each(e,function(e,r){i[r]&&(t.prototype[r]=o(e,r,n))})},l=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?c(t):i.isString(t)?function(e){return e.get(t)}:t},c=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},h=/\s+/,d=function(t,e,n,r,a){var o,s=0;if(n&&"object"==typeof n){void 0!==r&&"context"in a&&void 0===a.context&&(a.context=r);for(o=i.keys(n);s<o.length;s++)e=d(t,e,o[s],n[o[s]],a)}else if(n&&h.test(n))for(o=n.split(h);s<o.length;s++)e=t(e,o[s],r,a);else e=t(e,n,r,a);return e};u.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,r){if(t._events=d(p,t._events||{},e,i,{context:n,ctx:t,listening:r}),r){(t._listeners||(t._listeners={}))[r.id]=r}return t};u.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),o=a[r];if(!o){var s=this._listenId||(this._listenId=i.uniqueId("l"));o=a[r]={obj:t,objId:r,id:s,listeningTo:a,count:0}}return f(t,e,n,this,o),this};var p=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),a=n.context,o=n.ctx,s=n.listening;s&&s.count++,r.push({callback:i,context:a,ctx:a||o,listening:s})}return t};u.off=function(t,e,i){return this._events?(this._events=d(m,this._events,t,e,{context:i,listeners:this._listeners}),this):this},u.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var a=t?[t._listenId]:i.keys(r),o=0;o<a.length;o++){var s=r[a[o]];if(!s)break;s.obj.off(e,n,this)}return this};var m=function(t,e,n,r){if(t){var a,o=0,s=r.context,l=r.listeners;if(e||n||s){for(var c=e?[e]:i.keys(t);o<c.length;o++){e=c[o];var u=t[e];if(!u)break;for(var h=[],d=0;d<u.length;d++){var f=u[d];n&&n!==f.callback&&n!==f.callback._callback||s&&s!==f.context?h.push(f):(a=f.listening)&&0==--a.count&&(delete l[a.id],delete a.listeningTo[a.objId])}h.length?t[e]=h:delete t[e]}return t}for(var p=i.keys(l);o<p.length;o++)a=l[p[o]],delete l[a.id],delete a.listeningTo[a.objId]}};u.once=function(t,e,n){var r=d(g,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},u.listenToOnce=function(t,e,n){var r=d(g,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,n,r){if(n){var a=t[e]=i.once(function(){r(e,a),n.apply(this,arguments)});a._callback=n}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(v,this._events,t,void 0,i),this};var v=function(t,e,i,n){if(t){var r=t[e],a=t.all;r&&a&&(a=a.slice()),r&&_(r,n),a&&_(a,[e].concat(n))}return t},_=function(t,e){var i,n=-1,r=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,a);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,a,o);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,a,o,s);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}};u.bind=u.on,u.unbind=u.off,i.extend(e,u);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var r=i.result(this,"defaults");n=i.defaults(i.extend({},r,n),r),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var a=n.unset,o=n.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,h=this._previousAttributes;for(var d in r)e=r[d],i.isEqual(c[d],e)||s.push(d),i.isEqual(h[d],e)?delete u[d]:u[d]=e,a?delete c[d]:c[d]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){s.length&&(this._pending=n);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,c[s[f]],n)}if(l)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var r in t){var a=t[r];i.isEqual(e[r],a)||(n[r]=a)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},z(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var a=n.wait;if(r&&!a){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var o=this,s=n.success,l=this.attributes;n.success=function(t){o.attributes=l;var e=n.parse?o.parse(t,n):t;if(a&&(e=i.extend({},r,e)),e&&!o.set(e,n))return!1;s&&s.call(n.context,o,t,n),o.trigger("sync",o,t,n)},z(this,n),r&&a&&(this.attributes=i.extend({},l,r));var c=this.isNew()?"create":n.patch?"patch":"update";"patch"!==c||n.attrs||(n.attrs=r);var u=this.sync(c,this,n);return this.attributes=l,u},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=t.wait,a=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&a(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var o=!1;return this.isNew()?i.defer(t.success):(z(this,t),o=this.sync("delete",this,t)),r||a(),o},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||L();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),s(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},k=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,r=Array(t.length-i),a=e.length;for(n=0;n<r.length;n++)r[n]=t[n+i];for(n=0;n<a;n++)t[n+i]=e[n];for(n=0;n<r.length;n++)t[n+a+i]=r[n]};i.extend(b.prototype,u,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,x))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),n?r[0]:r},set:function(t,e){if(null!=t){e=i.extend({},w,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var a,o,s=[],l=[],c=[],u=[],h={},d=e.add,f=e.merge,p=e.remove,m=!1,g=this.comparator&&null==r&&!1!==e.sort,v=i.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){a=t[o];var _=this.get(a);if(_){if(f&&a!==_){var y=this._isModel(a)?a.attributes:a;e.parse&&(y=_.parse(y,e)),_.set(y,e),c.push(_),g&&!m&&(m=_.hasChanged(v))}h[_.cid]||(h[_.cid]=!0,s.push(_)),t[o]=_}else d&&(a=t[o]=this._prepareModel(a,e))&&(l.push(a),this._addReference(a,e),h[a.cid]=!0,s.push(a))}if(p){for(o=0;o<this.length;o++)a=this.models[o],h[a.cid]||u.push(a);u.length&&this._removeModels(u,e)}var b=!1,x=!g&&d&&p;if(s.length&&x?(b=this.length!==s.length||i.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,k(this.models,s,0),this.length=this.models.length):l.length&&(g&&(m=!0),k(this.models,l,null==r?this.length:r),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(o=0;o<l.length;o++)null!=r&&(e.index=r+o),a=l[o],a.trigger("add",a,this,e);(m||b)&&this.trigger("sort",this,e),(l.length||u.length||c.length)&&(e.changes={added:l,removed:u,merged:c},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},z(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var r=this,a=e.success;return e.success=function(t,e,i){n&&r.add(t,i),a&&a.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var a=this.indexOf(r);this.models.splice(a,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=a,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var r=this.modelId(e.previousAttributes()),a=this.modelId(e.attributes);r!==a&&(null!=r&&delete this._byId[r],null!=a&&(this._byId[a]=e))}}this.trigger.apply(this,arguments)}}),s(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var C=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];i.extend(C.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(S);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){var a=A[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:a,dataType:"json"};if(r.url||(o.url=i.result(n,"url")||L()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",r.emulateJSON&&(o.data._method=a);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",a),s)return s.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,l&&l.call(r.context,t,e,i)};var c=r.xhr=e.ajax(i.extend(o,r));return n.trigger("request",n,c,r),c};var A={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var M=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,$=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(M.prototype,u,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var a=this;return e.history.route(t,function(i){var o=a._extractParameters(t,i);!1!==a.execute(r,o,n)&&(a.trigger.apply(a,["route:"+n].concat(o)),a.trigger("route",n,o),e.history.trigger("route",a,n,o))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(O,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/?]+)"}).replace($,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var D=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,N=/#.*$/;D.started=!1,i.extend(D.prototype,u,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(P,"")},start:function(t){if(D.started)throw new Error("Backbone.history has already been started");if(D.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var a=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!D.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(N,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new D;var I=function(t,e){var n,r=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e),n.prototype=i.create(r.prototype,t),n.prototype.constructor=n,n.__super__=r.prototype,n};y.extend=b.extend=M.extend=C.extend=D.extend=I;var L=function(){throw new Error('A "url" property or function must be specified')},z=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e})}).call(e,i(62))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return'<iframe src="'+t+'" frameborder="0" style="width: 100%; height: 100%;"/>'}function o(e,i){for(var n in e){var r=e[n];if(t.isObject(r)){var a=i(r);a&&(e[n]=a),o(r,i)}}}function s(t){var e,i,n,r;return i=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=t.replace(i,'<a href="$1" target="_blank">$1</a>'),n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,e=e.replace(n,'$1<a href="http://$2" target="_blank">$2</a>'),r=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=e.replace(r,'<a href="mailto:$1">$1</a>')}function l(t){return JSON.parse(JSON.stringify(t)||null)}function c(t){return/^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}function u(t){return n("<div/>").text(t).html()}function h(t){if(t instanceof Array||(t=[t]),0===t.length)return!0;for(var e in t)if(["__null__","__undefined__",null,void 0].indexOf(t[e])>-1)return!0;return!1}function d(t){if(n.isArray(t)){var t=t.toString().replace(/,/g,", "),e=t.lastIndexOf(", ");return-1!=e&&(t=t.substr(0,e)+" or "+t.substr(e+2)),t}return""}function f(t){top.__utils__get__=top.__utils__get__||{};var e=JSON.stringify(t);t.cache&&top.__utils__get__[e]?(t.success&&t.success(top.__utils__get__[e]),window.console.debug("utils.js::get() - Fetching from cache ["+t.url+"].")):p({url:t.url,data:t.data,success:function(i){top.__utils__get__[e]=i,t.success&&t.success(i)},error:function(e,i){t.error&&t.error(e,i)}})}function p(t){var e={contentType:"application/json",type:t.type||"GET",data:t.data||{},url:t.url};"GET"==e.type||"DELETE"==e.type?(n.isEmptyObject(e.data)||(e.url+=-1==e.url.indexOf("?")?"?":"&",e.url+=n.param(e.data,!0)),e.data=null):(e.dataType="json",e.url=e.url,e.data=JSON.stringify(e.data)),n.ajax(e).done(function(e){if("string"==typeof e)try{e=e.replace("Infinity,",'"Infinity",'),e=r.parseJSON(e)}catch(t){console.debug(t)}t.success&&t.success(e)}).fail(function(e){var i=null;try{i=r.parseJSON(e.responseText)}catch(t){i=e.responseText}t.error&&t.error(i,e.status)}).always(function(){t.complete&&t.complete()})}function m(t,e){var i=n('<div class="'+t+'"></div>');i.appendTo(":eq(0)");var r=i.css(e);return i.remove(),r}function g(t){n('link[href^="'+t+'"]').length||n('<link href="'+Galaxy.root+t+'" rel="stylesheet">').appendTo("head")}function v(e,i){return e?t.defaults(e,i):i}function _(t,e){for(var i=1,n=0;n<e;n++)i*=10;return Math.round(t*i)/i}function y(t,e,i){i=void 0!==i?i:1;var n="";if(t>=E)t/=E,n="TB";else if(t>=O)t/=O,n="GB";else if(t>=M)t/=M,n="MB";else if(t>=A)t/=A,n="KB";else{if(!(t>0))return e?"0 b":"<strong>-</strong>";n="b"}var r="b"==n?t:_(t,i);return e?r+" "+n:"<strong>"+r+"</strong> "+n}function b(){return top.__utils__uid__=top.__utils__uid__||0,"uid-"+top.__utils__uid__++}function w(){var t=new Date,e=(t.getHours()<10?"0":"")+t.getHours(),i=(t.getMinutes()<10?"0":"")+t.getMinutes();return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+", "+e+":"+i}function x(t){t.script&&""!==t.script&&n("<script/>",{type:"text/javascript"}).text(t.script).appendTo("head"),t.styles&&""!==t.styles&&n("<style/>",{type:"text/css"}).text(t.styles).appendTo("head")}function k(t){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function C(t){window.document.title=t?"Galaxy "+(window.Galaxy.config.brand?" | "+window.Galaxy.config.brand:"")+" | "+(0,T.default)(t):"Galaxy "+(window.Galaxy.config.brand?" | "+window.Galaxy.config.brand:"")}Object.defineProperty(e,"__esModule",{value:!0});var S=i(4),T=function(t){return t&&t.__esModule?t:{default:t}}(S),A=1024,M=A*A,O=M*A,E=O*A;e.default={cssLoadFile:g,cssGetAttribute:m,get:f,merge:v,iframe:a,bytesToString:y,uid:b,time:w,request:p,sanitize:u,textify:d,isEmpty:h,deepeach:o,isJSON:c,clone:l,linkify:s,appendScriptStyle:x,getQueryString:k,setWindowTitle:C}}).call(e,i(1),i(0),i(0))},function(t,e,i){var n,r;n=[i(128)],void 0!==(r=function(t){if(t.hasOwnProperty("__root")){var e="undefined"==typeof navigator?"__root":(navigator.language||navigator.userLanguage||"__root").toLowerCase();t=t["__"+e]||t["__"+e.split("-")[0]]||t.__root}var i=function(e){return t[e]||e};return i.cacheNonLocalized=!1,i}.apply(e,n))&&(t.exports=r)},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function a(t,e){var i=Array.prototype.slice.call(arguments,0),n=i.pop();return i.unshift(n),c.defaults.apply(c,i)}function o(t,e){e=e||"model";var i=c.template(t.join(""));return function(t,n){var r={view:n||{},_l:m.default};return r[e]=t||{},i(r)}}function s(t,e){e=e||{};var i=e.ascending?1:-1;return function(e,n){return e=e.get(t),n=n.get(t),(e<n?-1:e>n?1:0)*i}}Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),c=r(l),u=i(2),h=r(u),d=i(67),f=n(d),p=i(4),m=n(p),g={logger:null,_logNamespace:"."};(0,f.default)(g);var v=h.Model.extend({initialize:function(t){if(this._checkEnabledSessionStorage(),!t.id)throw new Error("SessionStorageModel requires an id in the initial attributes");this.id=t.id;var e=this.isNew()?{}:this._read(this);this.clear({silent:!0}),this.save(c.extend({},this.defaults,e,t),{silent:!0}),this.on("change",function(){this.save()})},_checkEnabledSessionStorage:function(){try{return window.sessionStorage.length>=0}catch(t){return alert("Please enable cookies in your browser for this Galaxy site"),!1}},sync:function(t,e,i){i.silent||e.trigger("request",e,{},i);var n={};switch(t){case"create":n=this._create(e);break;case"read":n=this._read(e);break;case"update":n=this._update(e);break;case"delete":n=this._delete(e)}return void 0!==n||null!==n?i.success&&i.success():i.error&&i.error(),n},_create:function(t){try{var e=t.toJSON(),i=sessionStorage.setItem(t.id,JSON.stringify(e));return null===i?i:e}catch(t){if(!(t instanceof DOMException&&navigator.userAgent.indexOf("Safari")>-1))throw t}return null},_read:function(t){return JSON.parse(sessionStorage.getItem(t.id))},_update:function(t){return t._create(t)},_delete:function(t){return sessionStorage.removeItem(t.id)},isNew:function(){return!sessionStorage.hasOwnProperty(this.id)},_log:function(){return JSON.stringify(this.toJSON(),null,"  ")},toString:function(){return"SessionStorageModel("+this.id+")"}});!function(){v.prototype=c.omit(v.prototype,"url","urlRoot")}();var _={searchAttributes:[],searchAliases:{},searchAttribute:function(t,e){var i=this.get(t);return!(!e||void 0===i||null===i)&&(c.isArray(i)?this._searchArrayAttribute(i,e):-1!==i.toString().toLowerCase().indexOf(e.toLowerCase()))},_searchArrayAttribute:function(t,e){return e=e.toLowerCase(),c.any(t,function(t){return-1!==t.toString().toLowerCase().indexOf(e.toLowerCase())})},search:function(t){var e=this;return c.filter(this.searchAttributes,function(i){return e.searchAttribute(i,t)})},matches:function(t){var e=t.split("=");if(e.length>=2){var i=e[0];return i=this.searchAliases[i]||i,this.searchAttribute(i,e[1])}return!!this.search(t).length},matchesAll:function(t){var e=this;return t=t.match(/(".*"|\w*=".*"|\S*)/g).filter(function(t){return!!t}),c.all(t,function(t){return t=t.replace(/"/g,""),e.matches(t)})}},y={hiddenUntilActivated:function(e,i){if(i=i||{},this.HUAVOptions={$elementShown:this.$el,showFn:t.prototype.toggle,showSpeed:"fast"},c.extend(this.HUAVOptions,i||{}),this.HUAVOptions.hasBeenShown=this.HUAVOptions.$elementShown.is(":visible"),this.hidden=this.isHidden(),e){var n=this;e.on("click",function(t){n.toggle(n.HUAVOptions.showSpeed)})}},isHidden:function(){return this.HUAVOptions.$elementShown.is(":hidden")},toggle:function(){return this.hidden?(this.HUAVOptions.hasBeenShown||c.isFunction(this.HUAVOptions.onshowFirstTime)&&(this.HUAVOptions.hasBeenShown=!0,this.HUAVOptions.onshowFirstTime.call(this)),c.isFunction(this.HUAVOptions.onshow)&&(this.HUAVOptions.onshow.call(this),this.trigger("hiddenUntilActivated:shown",this)),this.hidden=!1):(c.isFunction(this.HUAVOptions.onhide)&&(this.HUAVOptions.onhide.call(this),this.trigger("hiddenUntilActivated:hidden",this)),this.hidden=!0),this.HUAVOptions.showFn.apply(this.HUAVOptions.$elementShown,arguments)}},b={initialize:function(t){this.draggable=t.draggable||!1},$dragHandle:function(){return this.$(".title-bar")},toggleDraggable:function(){this.draggable?this.draggableOff():this.draggableOn()},draggableOn:function(){this.draggable=!0,this.dragStartHandler=c.bind(this._dragStartHandler,this),this.dragEndHandler=c.bind(this._dragEndHandler,this);var t=this.$dragHandle().attr("draggable",!0).get(0);t.addEventListener("dragstart",this.dragStartHandler,!1),t.addEventListener("dragend",this.dragEndHandler,!1)},draggableOff:function(){this.draggable=!1;var t=this.$dragHandle().attr("draggable",!1).get(0);t.removeEventListener("dragstart",this.dragStartHandler,!1),t.removeEventListener("dragend",this.dragEndHandler,!1)},_dragStartHandler:function(t){return t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",JSON.stringify(this.model.toJSON())),this.trigger("draggable:dragstart",t,this),!1},_dragEndHandler:function(t){return this.trigger("draggable:dragend",t,this),!1}},w={initialize:function(t){this.selectable=t.selectable||!1,this.selected=t.selected||!1},$selector:function(){return this.$(".selector")},_renderSelected:function(){this.$selector().find("span").toggleClass("fa-check-square-o",this.selected).toggleClass("fa-square-o",!this.selected)},toggleSelector:function(){this.$selector().is(":visible")?this.hideSelector():this.showSelector()},showSelector:function(t){t=void 0!==t?t:this.fxSpeed,this.selectable=!0,this.trigger("selectable",!0,this),this._renderSelected(),t?this.$selector().show(t):this.$selector().show()},hideSelector:function(t){t=void 0!==t?t:this.fxSpeed,this.selectable=!1,this.trigger("selectable",!1,this),t?this.$selector().hide(t):this.$selector().hide()},toggleSelect:function(t){this.selected?this.deselect(t):this.select(t)},select:function(t){return this.selected||(this.trigger("selected",this,t),this.selected=!0,this._renderSelected()),!1},deselect:function(t){return this.selected&&(this.trigger("de-selected",this,t),this.selected=!1,this._renderSelected()),!1}};e.default={LoggableMixin:g,SessionStorageModel:v,mixin:a,SearchableModelMixin:_,HiddenUntilActivatedViewMixin:y,DraggableViewMixin:b,SelectableViewMixin:w,wrapTemplate:o,buildComparator:s}}).call(e,i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=(a(o),i(71)),l=a(s),c=i(136),u=a(c),h=i(72),d=a(h),f=i(137),p=a(f),m=i(33),g=a(m),v=i(8),_=a(v),y=t.View.extend({tagName:"label",initialize:function(e){this.model=e&&e.model||new t.Model(e),this.tagName=e.tagName||this.tagName,this.setElement(n("<"+this.tagName+"/>")),this.listenTo(this.model,"change",this.render,this),this.render()},title:function(t){this.model.set("title",t)},value:function(){return this.model.get("title")},render:function(){return this.$el.removeClass().addClass("ui-label").addClass(this.model.get("cls")).html(this.model.get("title")),this}}),b=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model({message:null,status:"info",cls:"",persistent:!1,fade:!0}).set(e),this.listenTo(this.model,"change",this.render,this),this.render()},update:function(t){this.model.set(t)},render:function(){this.$el.removeClass().addClass("ui-message").addClass(this.model.get("cls"));var t=this.model.get("status");if(this.model.get("large")?this.$el.addClass(("success"==t&&"done"||"danger"==t&&"error"||t)+"messagelarge"):this.$el.addClass("alert").addClass("alert-"+t),this.model.get("message")){if(this.$el.html(this.messageForDisplay()),this.$el[this.model.get("fade")?"fadeIn":"show"](),this.timeout&&window.clearTimeout(this.timeout),!this.model.get("persistent")){var e=this;this.timeout=window.setTimeout(function(){e.model.set("message","")},3e3)}}else this.$el.fadeOut();return this},messageForDisplay:function(){return r.escape(this.model.get("message"))}}),w=b.extend({messageForDisplay:function(){return this.model.get("message")}}),x=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model({type:"text",placeholder:"",disabled:!1,readonly:!1,visible:!0,cls:"",area:!1,color:null,style:null}).set(e),this.tagName=this.model.get("area")?"textarea":"input",this.setElement(n("<"+this.tagName+"/>")),this.listenTo(this.model,"change",this.render,this),this.render()},events:{input:"_onchange"},value:function(t){return void 0!==t&&this.model.set("value","string"==typeof t?t:""),this.model.get("value")},render:function(){var t=this;this.$el.removeClass().addClass("ui-"+this.tagName).addClass(this.model.get("cls")).addClass(this.model.get("style")).attr("id",this.model.id).attr("type",this.model.get("type")).attr("placeholder",this.model.get("placeholder")).css("color",this.model.get("color")||"").css("border-color",this.model.get("color")||"");var e=this.model.get("datalist");return n.isArray(e)&&e.length>0&&this.$el.autocomplete({source:function(e,i){i(t.model.get("datalist"))},change:function(){t._onchange()}}),this.model.get("value")!==this.$el.val()&&this.$el.val(this.model.get("value")),r.each(["readonly","disabled"],function(e){t.model.get(e)?t.$el.attr(e,!0):t.$el.removeAttr(e)}),this.$el[this.model.get("visible")?"show":"hide"](),this},_onchange:function(){this.value(this.$el.val()),this.model.get("onchange")&&this.model.get("onchange")(this.model.get("value"))}}),k=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model(e),this.setElement(n("<div/>").append(this.$info=n("<div/>")).append(this.$hidden=n("<div/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},value:function(t){return void 0!==t&&this.model.set("value",t),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.$hidden.val(this.model.get("value")),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this}}),C=t.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new t.Model(e),this.setElement(n("<div/>").append(this.$info=n("<div/>")).append(this.$file=n("<input/>").attr("type","file").addClass("ui-margin-bottom")).append(this.$text=n("<textarea/>").addClass("ui-textarea").attr("disabled",!0)).append(this.$wait=n("<i/>").addClass("fa fa-spinner fa-spin"))),this.listenTo(this.model,"change",this.render,this),this.$file.on("change",function(t){i._readFile(t)}),this.render()},value:function(t){return void 0!==t&&this.model.set("value",t),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this.model.get("value")?this.$text.text(this.model.get("value")).show():this.$text.hide(),this.model.get("wait")?this.$wait.show():this.$wait.hide(),this},_readFile:function(t){var e=this,i=t.target.files&&t.target.files[0];if(i){var n=new FileReader;n.onload=function(){e.model.set({wait:!1,value:this.result})},this.model.set({wait:!0,value:null}),n.readAsText(i)}}});e.default={Button:g.default.ButtonDefault,ButtonIcon:g.default.ButtonIcon,ButtonCheck:g.default.ButtonCheck,ButtonMenu:g.default.ButtonMenu,ButtonLink:g.default.ButtonLink,Input:x,Label:y,Message:b,UnescapedMessage:w,Upload:C,Modal:_.default,RadioButton:d.default.RadioButton,Checkbox:d.default.Checkbox,Radio:d.default.Radio,Select:l.default,Hidden:k,Slider:u.default,Drilldown:p.default}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";function n(t){return"[object Array]"===C.call(t)}function r(t){return"[object ArrayBuffer]"===C.call(t)}function a(t){return"undefined"!=typeof FormData&&t instanceof FormData}function o(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function s(t){return"string"==typeof t}function l(t){return"number"==typeof t}function c(t){return void 0===t}function u(t){return null!==t&&"object"==typeof t}function h(t){return"[object Date]"===C.call(t)}function d(t){return"[object File]"===C.call(t)}function f(t){return"[object Blob]"===C.call(t)}function p(t){return"[object Function]"===C.call(t)}function m(t){return u(t)&&p(t.pipe)}function g(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function v(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function _(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function y(t,e){if(null!==t&&void 0!==t)if("object"==typeof t||n(t)||(t=[t]),n(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function b(){function t(t,i){"object"==typeof e[i]&&"object"==typeof t?e[i]=b(e[i],t):e[i]=t}for(var e={},i=0,n=arguments.length;i<n;i++)y(arguments[i],t);return e}function w(t,e,i){return y(e,function(e,n){t[n]=i&&"function"==typeof e?x(e,i):e}),t}var x=i(85),k=i(159),C=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:r,isBuffer:k,isFormData:a,isArrayBufferView:o,isString:s,isNumber:l,isObject:u,isUndefined:c,isDate:h,isFile:d,isBlob:f,isFunction:p,isStream:m,isURLSearchParams:g,isStandardBrowserEnv:_,forEach:y,merge:b,extend:w,trim:v}},function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0});var r=t.View.extend({className:"ui-modal",optionsDefault:{container:"body",title:"ui-modal",cls:"ui-modal",body:"",backdrop:!0,height:null,width:null,closing_events:!1,closing_callback:null,title_separator:!0},buttonList:{},initialize:function(t){this.options=i.defaults(t||{},this.optionsDefault),n(this.options.container).prepend(this.el),t&&this.render()},show:function(t){if(t&&(this.options=i.defaults(t,this.optionsDefault),this.render()),!this.visible&&(this.visible=!0,this.$el.fadeIn("fast"),this.options.closing_events)){var e=this;n(document).on("keyup.ui-modal",function(t){27==t.keyCode&&e.hide(!0)}),this.$backdrop.on("click",function(){e.hide(!0)})}},hide:function(t){this.visible=!1,this.$el.fadeOut("fast"),this.options.closing_callback&&this.options.closing_callback(t),n(document).off("keyup.ui-modal"),this.$backdrop.off("click")},render:function(){var t=this;if(this.$el.html(this._template()),this.$header=this.$(".modal-header"),this.$dialog=this.$(".modal-dialog"),this.$body=this.$(".modal-body"),this.$footer=this.$(".modal-footer"),this.$backdrop=this.$(".modal-backdrop"),this.$buttons=this.$(".buttons"),"progress"==this.options.body&&(this.options.body=n('<div class="progress progress-striped active"><div class="progress-bar progress-bar-info" style="width:100%"/></div>')),this.$el.removeClass().addClass("modal").addClass(this.options.cls),this.$header.find(".title").html(this.options.title),this.$body.html(this.options.body),this.$buttons.empty(),this.buttonList={},this.options.buttons){var e=0;n.each(this.options.buttons,function(i,r){var a=n("<button/>").attr("id","button-"+e++).text(i).click(r);t.$buttons.append(a).append("&nbsp;"),t.buttonList[i]=a})}else this.$footer.hide();this.$backdrop[this.options.backdrop&&"addClass"||"removeClass"]("in"),this.$header[!this.options.title_separator&&"addClass"||"removeClass"]("no-separator"),this.$body.removeAttr("style"),this.options.height?(this.$body.css("height",this.options.height),this.$body.css("overflow","hidden")):this.$body.css("max-height",n(window).height()/2),this.options.width&&this.$dialog.css("width",this.options.width)},getButton:function(t){return this.buttonList[t]},enableButton:function(t){this.getButton(t).prop("disabled",!1)},disableButton:function(t){this.getButton(t).prop("disabled",!0)},showButton:function(t){this.getButton(t).show()},hideButton:function(t){this.getButton(t).hide()},scrollTop:function(){return this.$body.scrollTop()},_template:function(){return'<div class="modal-backdrop fade"/><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="title"/></div><div class="modal-body"/><div class="modal-footer"><div class="buttons"/></div></div></div>'}});e.default={View:r}}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";function n(t,e){return function(i){if(t.hasOwnProperty(i))return t[i];if(!e)throw new Error("I do not know how to modify the following string: "+i+". Change your TeX file or submit a feature request at https://github.com/digitalheir/tex-to-unicode/issues.");return i+e}}Object.defineProperty(e,"__esModule",{value:!0}),e.lookupOrAppend=n},function(t,e,i){"use strict";(function(t){function i(e,i){i=i||window.location.search.substr(1);var n=new RegExp(e+"=([^&#$]+)","g"),r=i.match(n);if(r&&r.length)return r=t.map(r,function(t){return decodeURIComponent(t.substr(e.length+1).replace(/\+/g," "))}),1===r.length?r[0]:r}function n(t){if(!t)return{};var e={};return t.split("&").forEach(function(t){var i=t.split("=");e[i[0]]=decodeURI(i[1])}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:i,parse:n}}).call(e,i(1))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=(a(o),i(25)),l=a(s),c=i(6),u=a(c),h=i(144),d=a(h),f=i(79),p=a(f);e.default=t.View.extend({initialize:function(e){this.model=new t.Model({initial_errors:!1,cls:"ui-portlet-limited",icon:null,always_refresh:!0,status:"warning",hide_operations:!1,onchange:function(){}}).set(e),this.setElement("<div/>"),this.render()},update:function(t){var e=this;this.data.matchModel(t,function(t,i){var r=e.input_list[i];if(r&&r.options&&!n.isEqual(r.options,t.options)){r.options=t.options;var a=e.field_list[i];if(a.update){var o=[];if(-1!=["data","data_collection","drill_down"].indexOf(r.type))o=r.options;else for(var s in t.options){var l=t.options[s];l.length>2&&o.push({label:l[0],value:l[1]})}a.update(o),a.trigger("change"),Galaxy.emit.debug("form-view::update()","Updating options for "+i)}}})},wait:function(t){for(var e in this.input_list){var i=this.field_list[e];this.input_list[e].is_dynamic&&i.wait&&i.unwait&&i[t?"wait":"unwait"]()}},highlight:function(t,e,i){var n=this.element_list[t];if(n&&(n.error(e||"Please verify this parameter."),this.portlet.expand(),this.trigger("expand",t),!i)){var a=this.$el.parents().filter(function(){return-1!=["auto","scroll"].indexOf(r(this).css("overflow"))}).first();a.animate({scrollTop:a.scrollTop()+n.$el.offset().top-120},500)}},errors:function(t){if(this.trigger("reset"),t&&t.errors){var e=this.data.matchResponse(t.errors);for(var i in this.element_list){this.element_list[i];e[i]&&this.highlight(i,e[i],!0)}}},render:function(){var t=this;this.off("change"),this.off("reset"),this.field_list={},this.input_list={},this.element_list={},this.data=new p.default.Manager(this),this._renderForm(),this.data.create(),this.model.get("initial_errors")&&this.errors(this.model.attributes);var e=this.data.checksum();return this.on("change",function(i){var n=t.input_list[i];if(!n||n.refresh_on_change||t.model.get("always_refresh")){var r=t.data.checksum();r!=e&&(e=r,t.model.get("onchange")())}}),this.on("reset",function(){n.each(t.element_list,function(t){t.reset()})}),this},_renderForm:function(){r(".tooltip").remove();var t=this.model.attributes;this.message=new u.default.UnescapedMessage,this.section=new d.default.View(this,{inputs:t.inputs}),this.portlet=new l.default.View({icon:t.icon,title:t.title,cls:t.cls,operations:!t.hide_operations&&t.operations,buttons:t.buttons,collapsible:t.collapsible,collapsed:t.collapsed,onchange_title:t.onchange_title}),this.portlet.append(this.message.$el),this.portlet.append(this.section.$el),this.$el.empty(),t.inputs&&this.$el.append(this.portlet.$el),t.message&&this.message.update({persistent:!0,status:t.status,message:t.message}),Galaxy.emit.debug("form-view::initialize()","Completed")}})}).call(e,i(2),i(1),i(0))},,,function(t,e,i){"use strict";(function(t,n,r,a){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),l=o(s),c=i(134),u=o(c),h=i(135),d=o(h),f=i(31),p=o(f);t.ajaxSettings.traditional=!0,e.default=n.View.extend({grid:null,initialize:function(t){this.grid=new u.default,this.dict_format=t.dict_format,this.title=t.title;var e=this;if(window.add_tag_to_grid_filter=function(t,i){var n=t+(void 0!==i&&""!==i?":"+i:"");r("#advanced-search").is(":visible")||(r("#standard-search").slideToggle("fast"),r("#advanced-search").slideToggle("fast")),e.add_filter_condition("tags",n)},this.dict_format)if(this.setElement("<div/>"),t.url_base&&!t.items){var i=t.url_data||{};a.each(t.filters,function(t,e){i["f-"+e]=t}),r.ajax({url:t.url_base+"?"+r.param(i),success:function(i){i.embedded=t.embedded,i.filters=t.filters||{},e.init_grid(i)}})}else this.init_grid(t);else this.setElement("#grid-container"),this.init_grid(t);t.use_panels&&r("#center").css({padding:"10px",overflow:"auto"})},handle_refresh:function(t){t&&r.inArray("history",t)>-1&&window.top.Galaxy&&window.top.Galaxy.currHistoryPanel&&window.top.Galaxy.currHistoryPanel.loadCurrentHistory()},init_grid:function(t){this.grid.set(t);var e=this.grid.attributes;this.allow_title_display&&e.title&&l.default.setWindowTitle(e.title),this.handle_refresh(e.refresh_frames);var i=this.grid.get("url_base");if(i=i.replace(/^.*\/\/[^\/]+/,""),this.grid.set("url_base",i),this.$el.html(d.default.grid(e)),this.$el.find("#grid-table-header").html(d.default.header(e)),this.$el.find("#grid-table-body").html(d.default.body(e)),this.$el.find("#grid-table-footer").html(d.default.footer(e)),e.message){this.$el.find("#grid-message").html(d.default.message(e));var n=this;e.use_hide_message&&setTimeout(function(){n.$el.find("#grid-message").html("")},5e3)}this.init_grid_elements(),this.init_grid_controls(),init_refresh_on_change()},init_grid_controls:function(){var t=this;this.$el.find(".operation-button").each(function(){r(this).off(),r(this).click(function(){return t.submit_operation(this),!1})}),this.$el.find("input[type=text]").each(function(){r(this).off(),r(this).click(function(){r(this).select()}).keyup(function(){r(this).css("font-style","normal")})}),this.$el.find(".sort-link").each(function(){r(this).off(),r(this).click(function(){return t.set_sort_condition(r(this).attr("sort_key")),!1})}),this.$el.find(".text-filter-form").each(function(){r(this).off(),r(this).submit(function(){var e=r(this).attr("column_key"),i=r("#input-"+e+"-filter"),n=i.val();return i.val(""),t.add_filter_condition(e,n),!1})}),this.$el.find(".text-filter-val > a").each(function(){r(this).off(),r(this).click(function(){return r(this).parent().remove(),t.remove_filter_condition(r(this).attr("filter_key"),r(this).attr("filter_val")),!1})}),this.$el.find(".categorical-filter > a").each(function(){r(this).off(),r(this).click(function(){return t.set_categorical_filter(r(this).attr("filter_key"),r(this).attr("filter_val")),!1})}),this.$el.find(".advanced-search-toggle").each(function(){r(this).off(),r(this).click(function(){return t.$el.find("#standard-search").slideToggle("fast"),t.$el.find("#advanced-search").slideToggle("fast"),!1})}),this.$el.find("#check_all").off(),this.$el.find("#check_all").on("click",function(){t.check_all_items()})},init_grid_elements:function(){this.$el.find(".grid").each(function(){var t=r(this).find("input.grid-row-select-checkbox"),e=r(this).find("span.grid-selected-count"),i=function(){e.text(r(t).filter(":checked").length)};r(t).each(function(){r(this).change(i)}),i()}),0!==this.$el.find(".community_rating_star").length&&this.$el.find(".community_rating_star").rating({});var t=this.grid.attributes,e=this;this.$el.find(".page-link > a").each(function(){r(this).click(function(){return e.set_page(r(this).attr("page_num")),!1})}),this.$el.find(".use-target").each(function(){r(this).click(function(t){return e.execute({href:r(this).attr("href"),target:r(this).attr("target")}),!1})}),0!=t.items.length&&a.each(t.items,function(i,n){var r=e.$("#grid-"+n+"-popup").off(),o=new p.default(r);a.each(t.operations,function(t){e._add_operation(o,t,i)})})},_add_operation:function(t,e,i){var n=this,a=i.operation_config[e.label];a.allowed&&e.allow_popup&&t.addItem({html:e.label,href:a.url_args,target:a.target,confirmation_text:e.confirm,func:function(t){t.preventDefault();var a=r(t.target).html();e.onclick?e.onclick(i.encode_id):n.execute(this.findItemByHtml(a))}})},add_filter_condition:function(t,e){if(""===e)return!1;this.grid.add_filter(t,e,!0);var i=r(d.default.filter_element(t,e)),n=this;i.click(function(){r(this).remove(),n.remove_filter_condition(t,e)}),this.$el.find("#"+t+"-filtering-criteria").append(i),this.go_page_one(),this.execute()},remove_filter_condition:function(t,e){this.grid.remove_filter(t,e),this.go_page_one(),this.execute()},set_sort_condition:function(t){var e=this.grid.get("sort_key"),i=t;-1!==e.indexOf(t)&&"-"!==e.substring(0,1)&&(i="-"+t),this.$el.find(".sort-arrow").remove();var n="-"==i.substring(0,1)?"&uarr;":"&darr;",a=r("<span>"+n+"</span>").addClass("sort-arrow");this.$el.find("#"+t+"-header").append(a),this.grid.set("sort_key",i),this.go_page_one(),this.execute()},set_categorical_filter:function(t,e){var i=this.grid.get("categorical_filters")[t],n=this.grid.get("filters")[t],a=this;this.$el.find("."+t+"-filter").each(function(){var o=r.trim(r(this).text()),s=i[o],l=s[t];if(l==e)r(this).empty(),r(this).addClass("current-filter"),r(this).append(o);else if(l==n){r(this).empty();var c=r('<a href="#">'+o+"</a>");c.click(function(){a.set_categorical_filter(t,l)}),r(this).removeClass("current-filter"),r(this).append(c)}}),this.grid.add_filter(t,e),this.go_page_one(),this.execute()},set_page:function(t){var e=this;this.$el.find(".page-link").each(function(){var i,n=r(this).attr("id"),a=parseInt(n.split("-")[2],10),o=e.grid.get("cur_page");if(a===t)i=r(this).children().text(),r(this).empty(),r(this).addClass("inactive-link"),r(this).text(i);else if(a===o){i=r(this).text(),r(this).empty(),r(this).removeClass("inactive-link");var s=r('<a href="#">'+i+"</a>");s.click(function(){e.set_page(a)}),r(this).append(s)}}),"all"===t?this.grid.set("cur_page",t):this.grid.set("cur_page",parseInt(t,10)),this.execute()},submit_operation:function(t,e){var i=r(t).val();if(!this.$el.find('input[name="id"]:checked').length>0)return!1;var n=a.findWhere(this.grid.attributes.operations,{label:i});n&&!e&&(e=n.confirm||"");var o=[];this.$el.find("input[name=id]:checked").each(function(){o.push(r(this).val())});var s={operation:i,id:o,confirmation_text:e};return"top"!=n.target&&"center"!=n.target||(s=a.extend(s,{href:n.href,target:n.target})),this.execute(s),!0},check_all_items:function(){var t=this.$(".grid-row-select-checkbox"),e=this.$("#check_all").prop("checked");a.each(t,function(t){r(t).prop("checked",e)}),this.init_grid_elements()},go_page_one:function(){var t=this.grid.get("cur_page");null!==t&&void 0!==t&&"all"!==t&&this.grid.set("cur_page",1)},execute:function(t){var e=null,i=null,n=null,a=null,o=null;if(t&&(i=t.href,n=t.operation,e=t.id,a=t.confirmation_text,o=t.target,void 0!==i&&-1!=i.indexOf("operation="))){var s=i.split("?");if(s.length>1)for(var l=s[1],c=l.split("&"),u=0;u<c.length;u++)-1!=c[u].indexOf("operation")?(n=c[u].split("=")[1],n=n.replace(/\+/g," ")):-1!=c[u].indexOf("id")&&(e=c[u].split("=")[1])}return n&&e?!(a&&""!=a&&"None"!=a&&"null"!=a&&!confirm(a))&&(n=n.toLowerCase(),this.grid.set({operation:n,item_ids:e}),"top"==o?window.top.location=i+"?"+r.param(this.grid.get_url_data()):"center"==o?r("#galaxy_main").attr("src",i+"?"+r.param(this.grid.get_url_data())):this.grid.can_async_op(n)||this.dict_format?this.update_grid():this.go_to(o,i),!1):i?(this.go_to(o,i),!1):(this.grid.get("async")||this.dict_format?this.update_grid():this.go_to(o,i),!1)},go_to:function(t,e){var i=this.grid.get("async");this.grid.set("async",!1);var n=this.$el.find("#advanced-search").is(":visible");switch(this.grid.set("advanced_search",n),e||(e=this.grid.get("url_base")+"?"+r.param(this.grid.get_url_data())),this.grid.set({operation:void 0,item_ids:void 0,async:i}),t){case"center":r("#galaxy_main").attr("src",e);break;case"top":window.top.location=e;break;default:window.location=e}},update_grid:function(){var t=this.grid.get("operation")?"POST":"GET";this.$el.find(".loading-elt-overlay").show();var e=this;r.ajax({type:t,url:e.grid.get("url_base"),data:e.grid.get_url_data(),error:function(t){alert("Grid refresh failed")},success:function(t){var i=e.grid.get("embedded"),n=e.grid.get("insert"),a=e.$el.find("#advanced-search").is(":visible"),o=e.dict_format?t:r.parseJSON(t);o.embedded=i,o.insert=n,o.advanced_search=a,e.init_grid(o),e.$el.find(".loading-elt-overlay").hide()},complete:function(){e.grid.set({operation:void 0,item_ids:void 0})}})}})}).call(e,i(0),i(2),i(0),i(1))},,,function(t,e,i){"use strict";function n(t){return"("+t+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.simpleSuffix=function(t){return function(e){return e+t}},e.isSingleTerm=/^.$|^[0-9]+$/,e.addParenthesis=n},function(t,e,i){"use strict";var n=i(0),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=r.default;a.fn.make_text_editable=function(t){var e="num_cols"in t?t.num_cols:30,i="num_rows"in t?t.num_rows:4,n="use_textarea"in t&&t.use_textarea,r="on_finish"in t?t.on_finish:null,o="help_text"in t?t.help_text:null,s=a(this);return s.addClass("editable-text").click(function(o){if(!(a(this).children(":input").length>0)){s.removeClass("editable-text");var l,c,u=function(t){s.find(":input").remove(),""!==t?s.text(t):s.html("<br>"),s.addClass("editable-text"),r&&r(t)},h="cur_text"in t?t.cur_text:s.text();n?(l=a("<textarea/>").attr({rows:i,cols:e}).text(a.trim(h)).keyup(function(t){27===t.keyCode&&u(h)}),c=a("<button/>").text("Done").click(function(){return u(l.val()),!1})):l=a("<input type='text'/>").attr({value:a.trim(h),size:e}).blur(function(){u(h)}).keyup(function(t){27===t.keyCode?a(this).trigger("blur"):13===t.keyCode&&u(a(this).val()),t.stopPropagation()}),s.text(""),s.append(l),c&&s.append(c),l.focus(),l.select(),o.stopPropagation()}}),o&&s.attr("title",o).tooltip(),s}},,function(t,e,i){(function(e){/*!
 * Vue.js v2.5.3
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
!function(e,i){t.exports=i()}(0,function(){"use strict";function t(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function n(t){return!0===t}function r(t){return!1===t}function a(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}function o(t){return null!==t&&"object"==typeof t}function s(t){return ha.call(t).slice(8,-1)}function l(t){return"[object Object]"===ha.call(t)}function c(t){return"[object RegExp]"===ha.call(t)}function u(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function h(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function f(t,e){for(var i=Object.create(null),n=t.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}function p(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}function m(t,e){return pa.call(t,e)}function g(t){var e=Object.create(null);return function(i){return e[i]||(e[i]=t(i))}}function v(t,e){function i(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function _(t,e){e=e||0;for(var i=t.length-e,n=new Array(i);i--;)n[i]=t[i+e];return n}function y(t,e){for(var i in e)t[i]=e[i];return t}function b(t){for(var e={},i=0;i<t.length;i++)t[i]&&y(e,t[i]);return e}function w(t,e,i){}function x(t,e){if(t===e)return!0;var i=o(t),n=o(e);if(!i||!n)return!i&&!n&&String(t)===String(e);try{var r=Array.isArray(t),a=Array.isArray(e);if(r&&a)return t.length===e.length&&t.every(function(t,i){return x(t,e[i])});if(r||a)return!1;var s=Object.keys(t),l=Object.keys(e);return s.length===l.length&&s.every(function(i){return x(t[i],e[i])})}catch(t){return!1}}function k(t,e){for(var i=0;i<t.length;i++)if(x(t[i],e))return i;return-1}function C(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function S(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function T(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function A(t){if(!Aa.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}function M(t){return"function"==typeof t&&/native code/.test(t.toString())}function O(t){to.target&&eo.push(to.target),to.target=t}function E(){to.target=eo.pop()}function $(t){return new io(void 0,void 0,void 0,String(t))}function j(t,e){var i=t.componentOptions,n=new io(t.tag,t.data,t.children,t.text,t.elm,t.context,i,t.asyncFactory);return n.ns=t.ns,n.isStatic=t.isStatic,n.key=t.key,n.isComment=t.isComment,n.isCloned=!0,e&&(t.children&&(n.children=D(t.children,!0)),i&&i.children&&(i.children=D(i.children,!0))),n}function D(t,e){for(var i=t.length,n=new Array(i),r=0;r<i;r++)n[r]=j(t[r],e);return n}function P(t,e,i){t.__proto__=e}function R(t,e,i){for(var n=0,r=i.length;n<r;n++){var a=i[n];T(t,a,e[a])}}function N(t,e){if(o(t)&&!(t instanceof io)){var i;return m(t,"__ob__")&&t.__ob__ instanceof co?i=t.__ob__:lo.shouldConvert&&!Fa()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new co(t)),e&&i&&i.vmCount++,i}}function I(t,e,i,n,r){var a=new to,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set,c=!r&&N(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):i;return to.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(e)&&H(e))),e},set:function(e){var o=s?s.call(t):i;e===o||e!==e&&o!==o||(n&&n(),l?l.call(t,e):i=e,c=!r&&N(e),a.notify())}})}}function L(t,e,i){if(Array.isArray(t)&&u(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var n=t.__ob__;return t._isVue||n&&n.vmCount?(Ua("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),i):n?(I(n.value,e,i),n.dep.notify(),i):(t[e]=i,i)}function z(t,e){if(Array.isArray(t)&&u(e))return void t.splice(e,1);var i=t.__ob__;if(t._isVue||i&&i.vmCount)return void Ua("Avoid deleting properties on a Vue instance or its root $data - just set it to null.");m(t,e)&&(delete t[e],i&&i.dep.notify())}function H(t){for(var e=void 0,i=0,n=t.length;i<n;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&H(e)}function q(t,e){if(!e)return t;for(var i,n,r,a=Object.keys(e),o=0;o<a.length;o++)i=a[o],n=t[i],r=e[i],m(t,i)?l(n)&&l(r)&&q(n,r):L(t,i,r);return t}function F(t,e,i){return i?function(){var n="function"==typeof e?e.call(i):e,r="function"==typeof t?t.call(i):t;return n?q(n,r):r}:e?t?function(){return q("function"==typeof e?e.call(this):e,"function"==typeof t?t.call(this):t)}:e:t}function B(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function V(t,e,i,n){var r=Object.create(t||null);return e?(Y(n,e,i),y(r,e)):r}function U(t){for(var e in t.components){var i=e.toLowerCase();(da(i)||Sa.isReservedTag(i))&&Ua("Do not use built-in or reserved HTML elements as component id: "+e)}}function W(t,e){var i=t.props;if(i){var n,r,a,o={};if(Array.isArray(i))for(n=i.length;n--;)r=i[n],"string"==typeof r?(a=ga(r),o[a]={type:null}):Ua("props must be strings when using array syntax.");else if(l(i))for(var c in i)r=i[c],a=ga(c),o[a]=l(r)?r:{type:r};else Ua('Invalid value for option "props": expected an Array or an Object, but got '+s(i)+".",e);t.props=o}}function G(t,e){var i=t.inject,n=t.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(l(i))for(var a in i){var o=i[a];n[a]=l(o)?y({from:a},o):{from:o}}else i&&Ua('Invalid value for option "inject": expected an Array or an Object, but got '+s(i)+".",e)}function X(t){var e=t.directives;if(e)for(var i in e){var n=e[i];"function"==typeof n&&(e[i]={bind:n,update:n})}}function Y(t,e,i){l(e)||Ua('Invalid value for option "'+t+'": expected an Object, but got '+s(e)+".",i)}function J(t,e,i){function n(n){var r=uo[n]||po;l[n]=r(t[n],e[n],i,n)}U(e),"function"==typeof e&&(e=e.options),W(e,i),G(e,i),X(e);var r=e.extends;if(r&&(t=J(t,r,i)),e.mixins)for(var a=0,o=e.mixins.length;a<o;a++)t=J(t,e.mixins[a],i);var s,l={};for(s in t)n(s);for(s in e)m(t,s)||n(s);return l}function K(t,e,i,n){if("string"==typeof i){var r=t[e];if(m(r,i))return r[i];var a=ga(i);if(m(r,a))return r[a];var o=va(a);if(m(r,o))return r[o];var s=r[i]||r[a]||r[o];return n&&!s&&Ua("Failed to resolve "+e.slice(0,-1)+": "+i,t),s}}function Q(t,e,i,n){var r=e[t],a=!m(i,t),o=i[t];if(nt(Boolean,r.type)&&(a&&!m(r,"default")?o=!1:nt(String,r.type)||""!==o&&o!==ya(t)||(o=!0)),void 0===o){o=Z(n,r,t);var s=lo.shouldConvert;lo.shouldConvert=!0,N(o),lo.shouldConvert=s}return tt(r,t,o,n,a),o}function Z(t,e,i){if(m(e,"default")){var n=e.default;return o(n)&&Ua('Invalid default value for prop "'+i+'": Props with type Object/Array must use a factory function to return the default value.',t),t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i]?t._props[i]:"function"==typeof n&&"Function"!==it(e.type)?n.call(t):n}}function tt(t,e,i,n,r){if(t.required&&r)return void Ua('Missing required prop: "'+e+'"',n);if(null!=i||t.required){var a=t.type,o=!a||!0===a,l=[];if(a){Array.isArray(a)||(a=[a]);for(var c=0;c<a.length&&!o;c++){var u=et(i,a[c]);l.push(u.expectedType||""),o=u.valid}}if(!o)return void Ua('Invalid prop: type check failed for prop "'+e+'". Expected '+l.map(va).join(", ")+", got "+s(i)+".",n);var h=t.validator;h&&(h(i)||Ua('Invalid prop: custom validator check failed for prop "'+e+'".',n))}}function et(t,e){var i,n=it(e);if(mo.test(n)){var r=typeof t;i=r===n.toLowerCase(),i||"object"!==r||(i=t instanceof e)}else i="Object"===n?l(t):"Array"===n?Array.isArray(t):t instanceof e;return{valid:i,expectedType:n}}function it(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function nt(t,e){if(!Array.isArray(e))return it(e)===it(t);for(var i=0,n=e.length;i<n;i++)if(it(e[i])===it(t))return!0;return!1}function rt(t,e,i){if(e)for(var n=e;n=n.$parent;){var r=n.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{var o=!1===r[a].call(n,t,e,i);if(o)return}catch(t){at(t,n,"errorCaptured hook")}}at(t,e,i)}function at(t,e,i){if(Sa.errorHandler)try{return Sa.errorHandler.call(null,t,e,i)}catch(t){ot(t,null,"config.errorHandler")}ot(t,e,i)}function ot(t,e,i){if(Ua("Error in "+i+': "'+t.toString()+'"',e),!Oa||"undefined"==typeof console)throw t;console.error(t)}function st(){vo=!1;var t=go.slice(0);go.length=0;for(var e=0;e<t.length;e++)t[e]()}function lt(t){return t._withTask||(t._withTask=function(){_o=!0;var e=t.apply(null,arguments);return _o=!1,e})}function ct(t,e){var i;if(go.push(function(){if(t)try{t.call(e)}catch(t){rt(t,e,"nextTick")}else i&&i(e)}),vo||(vo=!0,_o?fo():ho()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){i=t})}function ut(t){function e(){var t=arguments,i=e.fns;if(!Array.isArray(i))return i.apply(null,arguments);for(var n=i.slice(),r=0;r<n.length;r++)n[r].apply(null,t)}return e.fns=t,e}function ht(e,i,n,r,a){var o,s,l,c;for(o in e)s=e[o],l=i[o],c=Do(o),t(s)?Ua('Invalid handler for event "'+c.name+'": got '+String(s),a):t(l)?(t(s.fns)&&(s=e[o]=ut(s)),n(c.name,s,c.once,c.capture,c.passive)):s!==l&&(l.fns=s,e[o]=l);for(o in i)t(e[o])&&(c=Do(o),r(c.name,i[o],c.capture))}function dt(e,r,a){function o(){a.apply(this,arguments),p(s.fns,o)}e instanceof io&&(e=e.data.hook||(e.data.hook={}));var s,l=e[r];t(l)?s=ut([o]):i(l.fns)&&n(l.merged)?(s=l,s.fns.push(o)):s=ut([l,o]),s.merged=!0,e[r]=s}function ft(e,n,r){var a=n.options.props;if(!t(a)){var o={},s=e.attrs,l=e.props;if(i(s)||i(l))for(var c in a){var u=ya(c),h=c.toLowerCase();c!==h&&s&&m(s,h)&&Wa('Prop "'+h+'" is passed to component '+Xa(r||n)+', but the declared prop name is "'+c+'". Note that HTML attributes are case-insensitive and camelCased props need to use their kebab-case equivalents when using in-DOM templates. You should probably use "'+u+'" instead of "'+c+'".'),pt(o,l,c,u,!0)||pt(o,s,c,u,!1)}return o}}function pt(t,e,n,r,a){if(i(e)){if(m(e,n))return t[n]=e[n],a||delete e[n],!0;if(m(e,r))return t[n]=e[r],a||delete e[r],!0}return!1}function mt(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function gt(t){return a(t)?[$(t)]:Array.isArray(t)?_t(t):void 0}function vt(t){return i(t)&&i(t.text)&&r(t.isComment)}function _t(e,r){var o,s,l,c,u=[];for(o=0;o<e.length;o++)s=e[o],t(s)||"boolean"==typeof s||(l=u.length-1,c=u[l],Array.isArray(s)?s.length>0&&(s=_t(s,(r||"")+"_"+o),vt(s[0])&&vt(c)&&(u[l]=$(c.text+s[0].text),s.shift()),u.push.apply(u,s)):a(s)?vt(c)?u[l]=$(c.text+s):""!==s&&u.push($(s)):vt(s)&&vt(c)?u[l]=$(c.text+s.text):(n(e._isVList)&&i(s.tag)&&t(s.key)&&i(r)&&(s.key="__vlist"+r+"_"+o+"__"),u.push(s)));return u}function yt(t,e){return(t.__esModule||Va&&"Module"===t[Symbol.toStringTag])&&(t=t.default),o(t)?e.extend(t):t}function bt(t,e,i,n,r){var a=ro();return a.asyncFactory=t,a.asyncMeta={data:e,context:i,children:n,tag:r},a}function wt(e,r,a){if(n(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;if(n(e.loading)&&i(e.loadingComp))return e.loadingComp;if(!i(e.contexts)){var s=e.contexts=[a],l=!0,c=function(){for(var t=0,e=s.length;t<e;t++)s[t].$forceUpdate()},u=C(function(t){e.resolved=yt(t,r),l||c()}),h=C(function(t){Ua("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),i(e.errorComp)&&(e.error=!0,c())}),d=e(u,h);return o(d)&&("function"==typeof d.then?t(e.resolved)&&d.then(u,h):i(d.component)&&"function"==typeof d.component.then&&(d.component.then(u,h),i(d.error)&&(e.errorComp=yt(d.error,r)),i(d.loading)&&(e.loadingComp=yt(d.loading,r),0===d.delay?e.loading=!0:setTimeout(function(){t(e.resolved)&&t(e.error)&&(e.loading=!0,c())},d.delay||200)),i(d.timeout)&&setTimeout(function(){t(e.resolved)&&h("timeout ("+d.timeout+"ms)")},d.timeout))),l=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(a)}function xt(t){return t.isComment&&t.asyncFactory}function kt(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||xt(n)))return n}}function Ct(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&At(t,e)}function St(t,e,i){i?jo.$once(t,e):jo.$on(t,e)}function Tt(t,e){jo.$off(t,e)}function At(t,e,i){jo=t,ht(e,i||{},St,Tt,t),jo=void 0}function Mt(t,e){var i={};if(!t)return i;for(var n=0,r=t.length;n<r;n++){var a=t[n],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.functionalContext!==e||!o||null==o.slot)(i.default||(i.default=[])).push(a);else{var s=a.data.slot,l=i[s]||(i[s]=[]);"template"===a.tag?l.push.apply(l,a.children):l.push(a)}}for(var c in i)i[c].every(Ot)&&delete i[c];return i}function Ot(t){return t.isComment||" "===t.text}function Et(t,e){e=e||{};for(var i=0;i<t.length;i++)Array.isArray(t[i])?Et(t[i],e):e[t[i].key]=t[i].fn;return e}function $t(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function jt(t,e,i){t.$el=e,t.$options.render||(t.$options.render=ro,t.$options.template&&"#"!==t.$options.template.charAt(0)||t.$options.el||e?Ua("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",t):Ua("Failed to mount component: template or render function not defined.",t)),It(t,"beforeMount");var n;return n=Sa.performance&&xo?function(){var e=t._name,n=t._uid,r="vue-perf-start:"+n,a="vue-perf-end:"+n;xo(r);var o=t._render();xo(a),ko("vue "+e+" render",r,a),xo(r),t._update(o,i),xo(a),ko("vue "+e+" patch",r,a)}:function(){t._update(t._render(),i)},t._watcher=new Uo(t,n,w),i=!1,null==t.$vnode&&(t._isMounted=!0,It(t,"mounted")),t}function Dt(t,e,i,n,r){Ro=!0;var a=!!(r||t.$options._renderChildren||n.data.scopedSlots||t.$scopedSlots!==Ta);if(t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=r,t.$attrs=n.data&&n.data.attrs||Ta,t.$listeners=i||Ta,e&&t.$options.props){lo.shouldConvert=!1;for(var o=t._props,s=t.$options._propKeys||[],l=0;l<s.length;l++){var c=s[l];o[c]=Q(c,t.$options.props,e,t)}lo.shouldConvert=!0,t.$options.propsData=e}if(i){var u=t.$options._parentListeners;t.$options._parentListeners=i,At(t,i,u)}a&&(t.$slots=Mt(r,n.context),t.$forceUpdate()),Ro=!1}function Pt(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Rt(t,e){if(e){if(t._directInactive=!1,Pt(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)Rt(t.$children[i]);It(t,"activated")}}function Nt(t,e){if(!(e&&(t._directInactive=!0,Pt(t))||t._inactive)){t._inactive=!0;for(var i=0;i<t.$children.length;i++)Nt(t.$children[i]);It(t,"deactivated")}}function It(t,e){var i=t.$options[e];if(i)for(var n=0,r=i.length;n<r;n++)try{i[n].call(t)}catch(i){rt(i,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function Lt(){Bo=Io.length=Lo.length=0,zo={},Ho={},qo=Fo=!1}function zt(){Fo=!0;var t,e;for(Io.sort(function(t,e){return t.id-e.id}),Bo=0;Bo<Io.length;Bo++)if(t=Io[Bo],e=t.id,zo[e]=null,t.run(),null!=zo[e]&&(Ho[e]=(Ho[e]||0)+1,Ho[e]>No)){Ua("You may have an infinite update loop "+(t.user?'in watcher with expression "'+t.expression+'"':"in a component render function."),t.vm);break}var i=Lo.slice(),n=Io.slice();Lt(),Ft(i),Ht(n),Ba&&Sa.devtools&&Ba.emit("flush")}function Ht(t){for(var e=t.length;e--;){var i=t[e],n=i.vm;n._watcher===i&&n._isMounted&&It(n,"updated")}}function qt(t){t._inactive=!1,Lo.push(t)}function Ft(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Rt(t[e],!0)}function Bt(t){var e=t.id;if(null==zo[e]){if(zo[e]=!0,Fo){for(var i=Io.length-1;i>Bo&&Io[i].id>t.id;)i--;Io.splice(i+1,0,t)}else Io.push(t);qo||(qo=!0,ct(zt))}}function Vt(t){Wo.clear(),Ut(t,Wo)}function Ut(t,e){var i,n,r=Array.isArray(t);if((r||o(t))&&Object.isExtensible(t)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(r)for(i=t.length;i--;)Ut(t[i],e);else for(n=Object.keys(t),i=n.length;i--;)Ut(t[n[i]],e)}}function Wt(t,e,i){Go.get=function(){return this[e][i]},Go.set=function(t){this[e][i]=t},Object.defineProperty(t,i,Go)}function Gt(t){t._watchers=[];var e=t.$options;e.props&&Xt(t,e.props),e.methods&&te(t,e.methods),e.data?Yt(t):N(t._data={},!0),e.computed&&Kt(t,e.computed),e.watch&&e.watch!==Ia&&ee(t,e.watch)}function Xt(t,e){var i=t.$options.propsData||{},n=t._props={},r=t.$options._propKeys=[],a=!t.$parent;lo.shouldConvert=a;for(var o in e)!function(a){r.push(a);var o=Q(a,e,i,t),s=ya(a);(fa(s)||Sa.isReservedAttr(s))&&Ua('"'+s+'" is a reserved attribute and cannot be used as component prop.',t),I(n,a,o,function(){t.$parent&&!Ro&&Ua("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+a+'"',t)}),a in t||Wt(t,"_props",a)}(o);lo.shouldConvert=!0}function Yt(t){var e=t.$options.data;e=t._data="function"==typeof e?Jt(e,t):e||{},l(e)||(e={},Ua("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",t));for(var i=Object.keys(e),n=t.$options.props,r=t.$options.methods,a=i.length;a--;){var o=i[a];r&&m(r,o)&&Ua('Method "'+o+'" has already been defined as a data property.',t),n&&m(n,o)?Ua('The data property "'+o+'" is already declared as a prop. Use prop default value instead.',t):S(o)||Wt(t,"_data",o)}N(e,!0)}function Jt(t,e){try{return t.call(e,e)}catch(t){return rt(t,e,"data()"),{}}}function Kt(t,e){var i=t._computedWatchers=Object.create(null),n=Fa();for(var r in e){var a=e[r],o="function"==typeof a?a:a.get;null==o&&Ua('Getter is missing for computed property "'+r+'".',t),n||(i[r]=new Uo(t,o||w,w,Xo)),r in t?r in t.$data?Ua('The computed property "'+r+'" is already defined in data.',t):t.$options.props&&r in t.$options.props&&Ua('The computed property "'+r+'" is already defined as a prop.',t):Qt(t,r,a)}}function Qt(t,e,i){var n=!Fa();"function"==typeof i?(Go.get=n?Zt(e):i,Go.set=w):(Go.get=i.get?n&&!1!==i.cache?Zt(e):i.get:w,Go.set=i.set?i.set:w),Go.set===w&&(Go.set=function(){Ua('Computed property "'+e+'" was assigned to but it has no setter.',this)}),Object.defineProperty(t,e,Go)}function Zt(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),to.target&&e.depend(),e.value}}function te(t,e){var i=t.$options.props;for(var n in e)null==e[n]&&Ua('Method "'+n+'" has an undefined value in the component definition. Did you reference the function correctly?',t),i&&m(i,n)&&Ua('Method "'+n+'" has already been defined as a prop.',t),n in t&&S(n)&&Ua('Method "'+n+'" conflicts with an existing Vue instance method. Avoid defining component methods that start with _ or $.'),t[n]=null==e[n]?w:v(e[n],t)}function ee(t,e){for(var i in e){var n=e[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)ie(t,i,n[r]);else ie(t,i,n)}}function ie(t,e,i,n){return l(i)&&(n=i,i=i.handler),"string"==typeof i&&(i=t[i]),t.$watch(e,i,n)}function ne(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function re(t){var e=ae(t.$options.inject,t);e&&(lo.shouldConvert=!1,Object.keys(e).forEach(function(i){I(t,i,e[i],function(){Ua('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+i+'"',t)})}),lo.shouldConvert=!0)}function ae(t,e){if(t){for(var i=Object.create(null),n=Va?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),r=0;r<n.length;r++){for(var a=n[r],o=t[a].from,s=e;s;){if(s._provided&&o in s._provided){i[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in t[a]){var l=t[a].default;i[a]="function"==typeof l?l.call(e):l}else Ua('Injection "'+a+'" not found',e)}return i}}function oe(t,e){var n,r,a,s,l;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,a=t.length;r<a;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(o(t))for(s=Object.keys(t),n=new Array(s.length),r=0,a=s.length;r<a;r++)l=s[r],n[r]=e(t[l],l,r);return i(n)&&(n._isVList=!0),n}function se(t,e,i,n){var r,a=this.$scopedSlots[t];if(a)i=i||{},n&&(o(n)||Ua("slot v-bind without argument expects an Object",this),i=y(y({},n),i)),r=a(i)||e;else{var s=this.$slots[t];s&&(s._rendered&&Ua('Duplicate presence of slot "'+t+'" found in the same render tree - this will likely cause render errors.',this),s._rendered=!0),r=s||e}var l=i&&i.slot;return l?this.$createElement("template",{slot:l},r):r}function le(t){return K(this.$options,"filters",t,!0)||wa}function ce(t,e,i,n){var r=Sa.keyCodes[e]||i;return r?Array.isArray(r)?-1===r.indexOf(t):r!==t:n?ya(n)!==e:void 0}function ue(t,e,i,n,r){if(i)if(o(i)){Array.isArray(i)&&(i=b(i));var a;for(var s in i)!function(o){if("class"===o||"style"===o||fa(o))a=t;else{var s=t.attrs&&t.attrs.type;a=n||Sa.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(o in a)&&(a[o]=i[o],r)){(t.on||(t.on={}))["update:"+o]=function(t){i[o]=t}}}(s)}else Ua("v-bind without argument expects an Object or Array value",this);return t}function he(t,e){var i=this.$options,n=i.cached||(i.cached=[]),r=n[t];return r&&!e?Array.isArray(r)?D(r):j(r):(r=n[t]=i.staticRenderFns[t].call(this._renderProxy,null,this),fe(r,"__static__"+t,!1),r)}function de(t,e,i){return fe(t,"__once__"+e+(i?"_"+i:""),!0),t}function fe(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!=typeof t[n]&&pe(t[n],e+"_"+n,i);else pe(t,e,i)}function pe(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function me(t,e){if(e)if(l(e)){var i=t.on=t.on?y({},t.on):{};for(var n in e){var r=i[n],a=e[n];i[n]=r?[].concat(r,a):a}}else Ua("v-on without argument expects an Object value",this);return t}function ge(t){t._o=de,t._n=d,t._s=h,t._l=oe,t._t=se,t._q=x,t._i=k,t._m=he,t._f=le,t._k=ce,t._b=ue,t._v=$,t._e=ro,t._u=Et,t._g=me}function ve(t,e,i,r,a){var o=a.options;this.data=t,this.props=e,this.children=i,this.parent=r,this.listeners=t.on||Ta,this.injections=ae(o.inject,r),this.slots=function(){return Mt(i,r)};var s=Object.create(r),l=n(o._compiled),c=!l;l&&(this.$options=o,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||Ta),o._scopeId?this._c=function(t,e,i,n){var a=Se(s,t,e,i,n,c);return a&&(a.functionalScopeId=o._scopeId,a.functionalContext=r),a}:this._c=function(t,e,i,n){return Se(s,t,e,i,n,c)}}function _e(t,e,n,r,a){var o=t.options,s={},l=o.props;if(i(l))for(var c in l)s[c]=Q(c,l,e||Ta);else i(n.attrs)&&ye(s,n.attrs),i(n.props)&&ye(s,n.props);var u=new ve(n,s,a,r,t),h=o.render.call(null,u._c,u);return h instanceof io&&(h.functionalContext=r,h.functionalOptions=o,n.slot&&((h.data||(h.data={})).slot=n.slot)),h}function ye(t,e){for(var i in e)t[ga(i)]=e[i]}function be(e,r,a,s,l){if(!t(e)){var c=a.$options._base;if(o(e)&&(e=c.extend(e)),"function"!=typeof e)return void Ua("Invalid Component definition: "+String(e),a);var u;if(t(e.cid)&&(u=e,void 0===(e=wt(u,c,a))))return bt(u,r,a,s,l);r=r||{},Ee(e),i(r.model)&&Ce(e.options,r);var h=ft(r,e,l);if(n(e.options.functional))return _e(e,h,r,a,s);var d=r.on;if(r.on=r.nativeOn,n(e.options.abstract)){var f=r.slot;r={},f&&(r.slot=f)}xe(r);var p=e.options.name||l;return new io("vue-component-"+e.cid+(p?"-"+p:""),r,void 0,void 0,void 0,a,{Ctor:e,propsData:h,listeners:d,tag:l,children:s},u)}}function we(t,e,n,r){var a=t.componentOptions,o={_isComponent:!0,parent:e,propsData:a.propsData,_componentTag:a.tag,_parentVnode:t,_parentListeners:a.listeners,_renderChildren:a.children,_parentElm:n||null,_refElm:r||null},s=t.data.inlineTemplate;return i(s)&&(o.render=s.render,o.staticRenderFns=s.staticRenderFns),new a.Ctor(o)}function xe(t){t.hook||(t.hook={});for(var e=0;e<Jo.length;e++){var i=Jo[e],n=t.hook[i],r=Yo[i];t.hook[i]=n?ke(r,n):r}}function ke(t,e){return function(i,n,r,a){t(i,n,r,a),e(i,n,r,a)}}function Ce(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var a=e.on||(e.on={});i(a[r])?a[r]=[e.model.callback].concat(a[r]):a[r]=e.model.callback}function Se(t,e,i,r,o,s){return(Array.isArray(i)||a(i))&&(o=r,r=i,i=void 0),n(s)&&(o=Qo),Te(t,e,i,r,o)}function Te(t,e,n,r,o){if(i(n)&&i(n.__ob__))return Ua("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",t),ro();if(i(n)&&i(n.is)&&(e=n.is),!e)return ro();i(n)&&i(n.key)&&!a(n.key)&&Ua("Avoid using non-primitive value as key, use string/number value instead.",t),Array.isArray(r)&&"function"==typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===Qo?r=gt(r):o===Ko&&(r=mt(r));var s,l;if("string"==typeof e){var c;l=t.$vnode&&t.$vnode.ns||Sa.getTagNamespace(e),s=Sa.isReservedTag(e)?new io(Sa.parsePlatformTagName(e),n,r,void 0,void 0,t):i(c=K(t.$options,"components",e))?be(c,n,t,r,e):new io(e,n,r,void 0,void 0,t)}else s=be(e,n,t,r);return i(s)?(l&&Ae(s,l),s):ro()}function Ae(e,r,a){if(e.ns=r,"foreignObject"===e.tag&&(r=void 0,a=!0),i(e.children))for(var o=0,s=e.children.length;o<s;o++){var l=e.children[o];i(l.tag)&&(t(l.ns)||n(a))&&Ae(l,r,a)}}function Me(t){t._vnode=null;var e=t.$options,i=t.$vnode=e._parentVnode,n=i&&i.context;t.$slots=Mt(e._renderChildren,n),t.$scopedSlots=Ta,t._c=function(e,i,n,r){return Se(t,e,i,n,r,!1)},t.$createElement=function(e,i,n,r){return Se(t,e,i,n,r,!0)};var r=i&&i.data;I(t,"$attrs",r&&r.attrs||Ta,function(){!Ro&&Ua("$attrs is readonly.",t)},!0),I(t,"$listeners",e._parentListeners||Ta,function(){!Ro&&Ua("$listeners is readonly.",t)},!0)}function Oe(t,e){var i=t.$options=Object.create(t.constructor.options);i.parent=e.parent,i.propsData=e.propsData,i._parentVnode=e._parentVnode,i._parentListeners=e._parentListeners,i._renderChildren=e._renderChildren,i._componentTag=e._componentTag,i._parentElm=e._parentElm,i._refElm=e._refElm,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function Ee(t){var e=t.options;if(t.super){var i=Ee(t.super);if(i!==t.superOptions){t.superOptions=i;var n=$e(t);n&&y(t.extendOptions,n),e=t.options=J(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function $e(t){var e,i=t.options,n=t.extendOptions,r=t.sealedOptions;for(var a in i)i[a]!==r[a]&&(e||(e={}),e[a]=je(i[a],n[a],r[a]));return e}function je(t,e,i){if(Array.isArray(t)){var n=[];i=Array.isArray(i)?i:[i],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(e.indexOf(t[r])>=0||i.indexOf(t[r])<0)&&n.push(t[r]);return n}return t}function De(t){this instanceof De||Ua("Vue is a constructor and should be called with the `new` keyword"),this._init(t)}function Pe(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=_(arguments,1);return i.unshift(this),"function"==typeof t.install?t.install.apply(t,i):"function"==typeof t&&t.apply(null,i),e.push(t),this}}function Re(t){t.mixin=function(t){return this.options=J(this.options,t),this}}function Ne(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,n=i.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var a=t.name||i.options.name;/^[a-zA-Z][\w-]*$/.test(a)||Ua('Invalid component name: "'+a+'". Component names can only contain alphanumeric characters and the hyphen, and must start with a letter.');var o=function(t){this._init(t)};return o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.cid=e++,o.options=J(i.options,t),o.super=i,o.options.props&&Ie(o),o.options.computed&&Le(o),o.extend=i.extend,o.mixin=i.mixin,o.use=i.use,ka.forEach(function(t){o[t]=i[t]}),a&&(o.options.components[a]=o),o.superOptions=i.options,o.extendOptions=t,o.sealedOptions=y({},o.options),r[n]=o,o}}function Ie(t){var e=t.options.props;for(var i in e)Wt(t.prototype,"_props",i)}function Le(t){var e=t.options.computed;for(var i in e)Qt(t.prototype,i,e[i])}function ze(t){ka.forEach(function(e){t[e]=function(t,i){return i?("component"===e&&Sa.isReservedTag(t)&&Ua("Do not use built-in or reserved HTML elements as component id: "+t),"component"===e&&l(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"==typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}})}function He(t){return t&&(t.Ctor.options.name||t.tag)}function qe(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!c(t)&&t.test(e)}function Fe(t,e){var i=t.cache,n=t.keys,r=t._vnode;for(var a in i){var o=i[a];if(o){var s=He(o.componentOptions);s&&!e(s)&&Be(i,a,n,r)}}}function Be(t,e,i,n){var r=t[e];r&&r!==n&&r.componentInstance.$destroy(),t[e]=null,p(i,e)}function Ve(t){for(var e=t.data,n=t,r=t;i(r.componentInstance);)r=r.componentInstance._vnode,r.data&&(e=Ue(r.data,e));for(;i(n=n.parent);)n.data&&(e=Ue(e,n.data));return We(e.staticClass,e.class)}function Ue(t,e){return{staticClass:Ge(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function We(t,e){return i(t)||i(e)?Ge(t,Xe(e)):""}function Ge(t,e){return t?e?t+" "+e:t:e||""}function Xe(t){return Array.isArray(t)?Ye(t):o(t)?Je(t):"string"==typeof t?t:""}function Ye(t){for(var e,n="",r=0,a=t.length;r<a;r++)i(e=Xe(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Je(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}function Ke(t){return ks(t)?"svg":"math"===t?"math":void 0}function Qe(t){if(!Oa)return!0;if(Ss(t))return!1;if(t=t.toLowerCase(),null!=Ts[t])return Ts[t];var e=document.createElement(t);return t.indexOf("-")>-1?Ts[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Ts[t]=/HTMLUnknownElement/.test(e.toString())}function Ze(t){if("string"==typeof t){var e=document.querySelector(t);return e||(Ua("Cannot find element: "+t),document.createElement("div"))}return t}function ti(t,e){var i=document.createElement(t);return"select"!==t?i:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)}function ei(t,e){return document.createElementNS(ws[t],e)}function ii(t){return document.createTextNode(t)}function ni(t){return document.createComment(t)}function ri(t,e,i){t.insertBefore(e,i)}function ai(t,e){t.removeChild(e)}function oi(t,e){t.appendChild(e)}function si(t){return t.parentNode}function li(t){return t.nextSibling}function ci(t){return t.tagName}function ui(t,e){t.textContent=e}function hi(t,e,i){t.setAttribute(e,i)}function di(t,e){var i=t.data.ref;if(i){var n=t.context,r=t.componentInstance||t.elm,a=n.$refs;e?Array.isArray(a[i])?p(a[i],r):a[i]===r&&(a[i]=void 0):t.data.refInFor?Array.isArray(a[i])?a[i].indexOf(r)<0&&a[i].push(r):a[i]=[r]:a[i]=r}}function fi(e,r){return e.key===r.key&&(e.tag===r.tag&&e.isComment===r.isComment&&i(e.data)===i(r.data)&&pi(e,r)||n(e.isAsyncPlaceholder)&&e.asyncFactory===r.asyncFactory&&t(r.asyncFactory.error))}function pi(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,a=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===a||As(r)&&As(a)}function mi(t,e,n){var r,a,o={};for(r=e;r<=n;++r)a=t[r].key,i(a)&&(o[a]=r);return o}function gi(t,e){(t.data.directives||e.data.directives)&&vi(t,e)}function vi(t,e){var i,n,r,a=t===Es,o=e===Es,s=_i(t.data.directives,t.context),l=_i(e.data.directives,e.context),c=[],u=[];for(i in l)n=s[i],r=l[i],n?(r.oldValue=n.value,bi(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(bi(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var i=0;i<c.length;i++)bi(c[i],"inserted",e,t)};a?dt(e,"insert",h):h()}if(u.length&&dt(e,"postpatch",function(){for(var i=0;i<u.length;i++)bi(u[i],"componentUpdated",e,t)}),!a)for(i in s)l[i]||bi(s[i],"unbind",t,t,o)}function _i(t,e){var i=Object.create(null);if(!t)return i;var n,r;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=Ds),i[yi(r)]=r,r.def=K(e.$options,"directives",r.name,!0);return i}function yi(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function bi(t,e,i,n,r){var a=t.def&&t.def[e];if(a)try{a(i.elm,t,i,n,r)}catch(n){rt(n,i.context,"directive "+t.name+" "+e+" hook")}}function wi(e,n){var r=n.componentOptions;if(!(i(r)&&!1===r.Ctor.options.inheritAttrs||t(e.data.attrs)&&t(n.data.attrs))){var a,o,s=n.elm,l=e.data.attrs||{},c=n.data.attrs||{};i(c.__ob__)&&(c=n.data.attrs=y({},c));for(a in c)o=c[a],l[a]!==o&&xi(s,a,o);(ja||Da)&&c.value!==l.value&&xi(s,"value",c.value);for(a in l)t(c[a])&&(_s(a)?s.removeAttributeNS(vs,ys(a)):ms(a)||s.removeAttribute(a))}}function xi(t,e,i){gs(e)?bs(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):ms(e)?t.setAttribute(e,bs(i)||"false"===i?"false":"true"):_s(e)?bs(i)?t.removeAttributeNS(vs,ys(e)):t.setAttributeNS(vs,e,i):bs(i)?t.removeAttribute(e):t.setAttribute(e,i)}function ki(e,n){var r=n.elm,a=n.data,o=e.data;if(!(t(a.staticClass)&&t(a.class)&&(t(o)||t(o.staticClass)&&t(o.class)))){var s=Ve(n),l=r._transitionClasses;i(l)&&(s=Ge(s,Xe(l))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}function Ci(t){function e(){(o||(o=[])).push(t.slice(p,r).trim()),p=r+1}var i,n,r,a,o,s=!1,l=!1,c=!1,u=!1,h=0,d=0,f=0,p=0;for(r=0;r<t.length;r++)if(n=i,i=t.charCodeAt(r),s)39===i&&92!==n&&(s=!1);else if(l)34===i&&92!==n&&(l=!1);else if(c)96===i&&92!==n&&(c=!1);else if(u)47===i&&92!==n&&(u=!1);else if(124!==i||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||h||d||f){switch(i){case 34:l=!0;break;case 39:s=!0;break;case 96:c=!0;break;case 40:f++;break;case 41:f--;break;case 91:d++;break;case 93:d--;break;case 123:h++;break;case 125:h--}if(47===i){for(var m=r-1,g=void 0;m>=0&&" "===(g=t.charAt(m));m--);g&&Is.test(g)||(u=!0)}}else void 0===a?(p=r+1,a=t.slice(0,r).trim()):e();if(void 0===a?a=t.slice(0,r).trim():0!==p&&e(),o)for(r=0;r<o.length;r++)a=Si(a,o[r]);return a}function Si(t,e){var i=e.indexOf("(");return i<0?'_f("'+e+'")('+t+")":'_f("'+e.slice(0,i)+'")('+t+","+e.slice(i+1)}function Ti(t){console.error("[Vue compiler]: "+t)}function Ai(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Mi(t,e,i){(t.props||(t.props=[])).push({name:e,value:i})}function Oi(t,e,i){(t.attrs||(t.attrs=[])).push({name:e,value:i})}function Ei(t,e,i,n,r,a){(t.directives||(t.directives=[])).push({name:e,rawName:i,value:n,arg:r,modifiers:a})}function $i(t,e,i,n,r,a){a&&n&&n.prevent&&n.passive&&a("passive and prevent can't be used together. Passive handler can't prevent default event."),n&&n.capture&&(delete n.capture,e="!"+e),n&&n.once&&(delete n.once,e="~"+e),n&&n.passive&&(delete n.passive,e="&"+e);var o;n&&n.native?(delete n.native,o=t.nativeEvents||(t.nativeEvents={})):o=t.events||(t.events={});var s={value:i,modifiers:n},l=o[e];Array.isArray(l)?r?l.unshift(s):l.push(s):o[e]=l?r?[s,l]:[l,s]:s}function ji(t,e,i){var n=Di(t,":"+e)||Di(t,"v-bind:"+e);if(null!=n)return Ci(n);if(!1!==i){var r=Di(t,e);if(null!=r)return JSON.stringify(r)}}function Di(t,e,i){var n;if(null!=(n=t.attrsMap[e]))for(var r=t.attrsList,a=0,o=r.length;a<o;a++)if(r[a].name===e){r.splice(a,1);break}return i&&delete t.attrsMap[e],n}function Pi(t,e,i){var n=i||{},r=n.number,a=n.trim,o="$$v";a&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(o="_n("+o+")");var s=Ri(e,o);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+s+"}"}}function Ri(t,e){var i=Ni(t);return null===i.key?t+"="+e:"$set("+i.exp+", "+i.key+", "+e+")"}function Ni(t){if(ns=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<ns-1)return os=t.lastIndexOf("."),os>-1?{exp:t.slice(0,os),key:'"'+t.slice(os+1)+'"'}:{exp:t,key:null};for(rs=t,os=ss=ls=0;!Li();)as=Ii(),zi(as)?qi(as):91===as&&Hi(as);return{exp:t.slice(0,ss),key:t.slice(ss+1,ls)}}function Ii(){return rs.charCodeAt(++os)}function Li(){return os>=ns}function zi(t){return 34===t||39===t}function Hi(t){var e=1;for(ss=os;!Li();)if(t=Ii(),zi(t))qi(t);else if(91===t&&e++,93===t&&e--,0===e){ls=os;break}}function qi(t){for(var e=t;!Li()&&(t=Ii())!==e;);}function Fi(t,e,i){cs=i;var n=e.value,r=e.modifiers,a=t.tag,o=t.attrsMap.type;if("input"===a&&"file"===o&&cs("<"+t.tag+' v-model="'+n+'" type="file">:\nFile inputs are read only. Use a v-on:change listener instead.'),t.component)return Pi(t,n,r),!1;if("select"===a)Ui(t,n,r);else if("input"===a&&"checkbox"===o)Bi(t,n,r);else if("input"===a&&"radio"===o)Vi(t,n,r);else if("input"===a||"textarea"===a)Wi(t,n,r);else{if(!Sa.isReservedTag(a))return Pi(t,n,r),!1;cs("<"+t.tag+' v-model="'+n+"\">: v-model is not supported on this element type. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.")}return!0}function Bi(t,e,i){var n=i&&i.number,r=ji(t,"value")||"null",a=ji(t,"true-value")||"true",o=ji(t,"false-value")||"false";Mi(t,"checked","Array.isArray("+e+")?_i("+e+","+r+")>-1"+("true"===a?":("+e+")":":_q("+e+","+a+")")),$i(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+a+"):("+o+");if(Array.isArray($$a)){var $$v="+(n?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+e+"=$$a.concat([$$v]))}else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+Ri(e,"$$c")+"}",null,!0)}function Vi(t,e,i){var n=i&&i.number,r=ji(t,"value")||"null";r=n?"_n("+r+")":r,Mi(t,"checked","_q("+e+","+r+")"),$i(t,"change",Ri(e,r),null,!0)}function Ui(t,e,i){var n=i&&i.number,r='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n?"_n(val)":"val")+"})",a="var $$selectedVal = "+r+";";a=a+" "+Ri(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),$i(t,"change",a,null,!0)}function Wi(t,e,i){var n=t.attrsMap.type,r=i||{},a=r.lazy,o=r.number,s=r.trim,l=!a&&"range"!==n,c=a?"change":"range"===n?Ls:"input",u="$event.target.value";s&&(u="$event.target.value.trim()"),o&&(u="_n("+u+")");var h=Ri(e,u);l&&(h="if($event.target.composing)return;"+h),Mi(t,"value","("+e+")"),$i(t,c,h,null,!0),(s||o)&&$i(t,"blur","$forceUpdate()")}function Gi(t){if(i(t[Ls])){var e=$a?"change":"input";t[e]=[].concat(t[Ls],t[e]||[]),delete t[Ls]}i(t[zs])&&(t.change=[].concat(t[zs],t.change||[]),delete t[zs])}function Xi(t,e,i){var n=us;return function r(){null!==t.apply(null,arguments)&&Ji(e,r,i,n)}}function Yi(t,e,i,n,r){e=lt(e),i&&(e=Xi(e,t,n)),us.addEventListener(t,e,La?{capture:n,passive:r}:n)}function Ji(t,e,i,n){(n||us).removeEventListener(t,e._withTask||e,i)}function Ki(e,i){if(!t(e.data.on)||!t(i.data.on)){var n=i.data.on||{},r=e.data.on||{};us=i.elm,Gi(n),ht(n,r,Yi,Ji,i.context),us=void 0}}function Qi(e,n){if(!t(e.data.domProps)||!t(n.data.domProps)){var r,a,o=n.elm,s=e.data.domProps||{},l=n.data.domProps||{};i(l.__ob__)&&(l=n.data.domProps=y({},l));for(r in s)t(l[r])&&(o[r]="");for(r in l){if(a=l[r],"textContent"===r||"innerHTML"===r){if(n.children&&(n.children.length=0),a===s[r])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===r){o._value=a;var c=t(a)?"":String(a);Zi(o,c)&&(o.value=c)}else o[r]=a}}}function Zi(t,e){return!t.composing&&("OPTION"===t.tagName||tn(t,e)||en(t,e))}function tn(t,e){var i=!0;try{i=document.activeElement!==t}catch(t){}return i&&t.value!==e}function en(t,e){var n=t.value,r=t._vModifiers;return i(r)&&r.number?d(n)!==d(e):i(r)&&r.trim?n.trim()!==e.trim():n!==e}function nn(t){var e=rn(t.style);return t.staticStyle?y(t.staticStyle,e):e}function rn(t){return Array.isArray(t)?b(t):"string"==typeof t?Fs(t):t}function an(t,e){var i,n={};if(e)for(var r=t;r.componentInstance;)r=r.componentInstance._vnode,r.data&&(i=nn(r.data))&&y(n,i);(i=nn(t.data))&&y(n,i);for(var a=t;a=a.parent;)a.data&&(i=nn(a.data))&&y(n,i);return n}function on(e,n){var r=n.data,a=e.data;if(!(t(r.staticStyle)&&t(r.style)&&t(a.staticStyle)&&t(a.style))){var o,s,l=n.elm,c=a.staticStyle,u=a.normalizedStyle||a.style||{},h=c||u,d=rn(n.data.style)||{};n.data.normalizedStyle=i(d.__ob__)?y({},d):d;var f=an(n,!0);for(s in h)t(f[s])&&Us(l,s,"");for(s in f)(o=f[s])!==h[s]&&Us(l,s,null==o?"":o)}}function sn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function ln(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";i.indexOf(n)>=0;)i=i.replace(n," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function cn(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&y(e,Ys(t.name||"v")),y(e,t),e}return"string"==typeof t?Ys(t):void 0}}function un(t){nl(function(){nl(t)})}function hn(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),sn(t,e))}function dn(t,e){t._transitionClasses&&p(t._transitionClasses,e),ln(t,e)}function fn(t,e,i){var n=pn(t,e),r=n.type,a=n.timeout,o=n.propCount;if(!r)return i();var s=r===Ks?tl:il,l=0,c=function(){t.removeEventListener(s,u),i()},u=function(e){e.target===t&&++l>=o&&c()};setTimeout(function(){l<o&&c()},a+1),t.addEventListener(s,u)}function pn(t,e){var i,n=window.getComputedStyle(t),r=n[Zs+"Delay"].split(", "),a=n[Zs+"Duration"].split(", "),o=mn(r,a),s=n[el+"Delay"].split(", "),l=n[el+"Duration"].split(", "),c=mn(s,l),u=0,h=0;return e===Ks?o>0&&(i=Ks,u=o,h=a.length):e===Qs?c>0&&(i=Qs,u=c,h=l.length):(u=Math.max(o,c),i=u>0?o>c?Ks:Qs:null,h=i?i===Ks?a.length:l.length:0),{type:i,timeout:u,propCount:h,hasTransform:i===Ks&&rl.test(n[Zs+"Property"])}}function mn(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,i){return gn(e)+gn(t[i])}))}function gn(t){return 1e3*Number(t.slice(0,-1))}function vn(e,n){var r=e.elm;i(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var a=cn(e.data.transition);if(!t(a)&&!i(r._enterCb)&&1===r.nodeType){for(var s=a.css,l=a.type,c=a.enterClass,u=a.enterToClass,h=a.enterActiveClass,f=a.appearClass,p=a.appearToClass,m=a.appearActiveClass,g=a.beforeEnter,v=a.enter,_=a.afterEnter,y=a.enterCancelled,b=a.beforeAppear,w=a.appear,x=a.afterAppear,k=a.appearCancelled,S=a.duration,T=Po,A=Po.$vnode;A&&A.parent;)A=A.parent,T=A.context;var M=!T._isMounted||!e.isRootInsert;if(!M||w||""===w){var O=M&&f?f:c,E=M&&m?m:h,$=M&&p?p:u,j=M?b||g:g,D=M&&"function"==typeof w?w:v,P=M?x||_:_,R=M?k||y:y,N=d(o(S)?S.enter:S);null!=N&&yn(N,"enter",e);var I=!1!==s&&!ja,L=wn(D),z=r._enterCb=C(function(){I&&(dn(r,$),dn(r,E)),z.cancelled?(I&&dn(r,O),R&&R(r)):P&&P(r),r._enterCb=null});e.data.show||dt(e,"insert",function(){var t=r.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),D&&D(r,z)}),j&&j(r),I&&(hn(r,O),hn(r,E),un(function(){hn(r,$),dn(r,O),z.cancelled||L||(bn(N)?setTimeout(z,N):fn(r,l,z))})),e.data.show&&(n&&n(),D&&D(r,z)),I||L||z()}}}function _n(e,n){function r(){k.cancelled||(e.data.show||((a.parentNode._pending||(a.parentNode._pending={}))[e.key]=e),p&&p(a),b&&(hn(a,u),hn(a,f),un(function(){hn(a,h),dn(a,u),k.cancelled||w||(bn(x)?setTimeout(k,x):fn(a,c,k))})),m&&m(a,k),b||w||k())}var a=e.elm;i(a._enterCb)&&(a._enterCb.cancelled=!0,a._enterCb());var s=cn(e.data.transition);if(t(s))return n();if(!i(a._leaveCb)&&1===a.nodeType){var l=s.css,c=s.type,u=s.leaveClass,h=s.leaveToClass,f=s.leaveActiveClass,p=s.beforeLeave,m=s.leave,g=s.afterLeave,v=s.leaveCancelled,_=s.delayLeave,y=s.duration,b=!1!==l&&!ja,w=wn(m),x=d(o(y)?y.leave:y);i(x)&&yn(x,"leave",e);var k=a._leaveCb=C(function(){a.parentNode&&a.parentNode._pending&&(a.parentNode._pending[e.key]=null),b&&(dn(a,h),dn(a,f)),k.cancelled?(b&&dn(a,u),v&&v(a)):(n(),g&&g(a)),a._leaveCb=null});_?_(r):r()}}function yn(t,e,i){"number"!=typeof t?Ua("<transition> explicit "+e+" duration is not a valid number - got "+JSON.stringify(t)+".",i.context):isNaN(t)&&Ua("<transition> explicit "+e+" duration is NaN - the duration expression might be incorrect.",i.context)}function bn(t){return"number"==typeof t&&!isNaN(t)}function wn(e){if(t(e))return!1;var n=e.fns;return i(n)?wn(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function xn(t,e){!0!==e.data.show&&vn(e)}function kn(t,e,i){Cn(t,e,i),($a||Da)&&setTimeout(function(){Cn(t,e,i)},0)}function Cn(t,e,i){var n=e.value,r=t.multiple;if(r&&!Array.isArray(n))return void Ua('<select multiple v-model="'+e.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(n).slice(8,-1),i);for(var a,o,s=0,l=t.options.length;s<l;s++)if(o=t.options[s],r)a=k(n,Tn(o))>-1,o.selected!==a&&(o.selected=a);else if(x(Tn(o),n))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}function Sn(t,e){return e.every(function(e){return!x(e,t)})}function Tn(t){return"_value"in t?t._value:t.value}function An(t){t.target.composing=!0}function Mn(t){t.target.composing&&(t.target.composing=!1,On(t.target,"input"))}function On(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function En(t){return!t.componentInstance||t.data&&t.data.transition?t:En(t.componentInstance._vnode)}function $n(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?$n(kt(e.children)):t}function jn(t){var e={},i=t.$options;for(var n in i.propsData)e[n]=t[n];var r=i._parentListeners;for(var a in r)e[ga(a)]=r[a];return e}function Dn(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Pn(t){for(;t=t.parent;)if(t.data.transition)return!0}function Rn(t,e){return e.key===t.key&&e.tag===t.tag}function Nn(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function In(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ln(t){var e=t.data.pos,i=t.data.newPos,n=e.left-i.left,r=e.top-i.top;if(n||r){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+n+"px,"+r+"px)",a.transitionDuration="0s"}}function zn(t,e){var i=e?bl(e):_l;if(i.test(t)){for(var n,r,a=[],o=i.lastIndex=0;n=i.exec(t);){r=n.index,r>o&&a.push(JSON.stringify(t.slice(o,r)));var s=Ci(n[1].trim());a.push("_s("+s+")"),o=r+n[0].length}return o<t.length&&a.push(JSON.stringify(t.slice(o))),a.join("+")}}function Hn(t,e){var i=e.warn||Ti,n=Di(t,"class");if(n){zn(n,e.delimiters)&&i('class="'+n+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div class="{{ val }}">, use <div :class="val">.')}n&&(t.staticClass=JSON.stringify(n));var r=ji(t,"class",!1);r&&(t.classBinding=r)}function qn(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}function Fn(t,e){var i=e.warn||Ti,n=Di(t,"style");if(n){zn(n,e.delimiters)&&i('style="'+n+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div style="{{ val }}">, use <div :style="val">.'),t.staticStyle=JSON.stringify(Fs(n))}var r=ji(t,"style",!1);r&&(t.styleBinding=r)}function Bn(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}function Vn(t,e){var i=e?Ql:Kl;return t.replace(i,function(t){return Jl[t]})}function Un(t,e){function i(e){u+=e,t=t.substring(e)}function n(t,i,n){var r,s;if(null==i&&(i=u),null==n&&(n=u),t&&(s=t.toLowerCase()),t)for(r=o.length-1;r>=0&&o[r].lowerCasedTag!==s;r--);else r=0;if(r>=0){for(var l=o.length-1;l>=r;l--)(l>r||!t)&&e.warn&&e.warn("tag <"+o[l].tag+"> has no matching end tag."),e.end&&e.end(o[l].tag,i,n);o.length=r,a=r&&o[r-1].tag}else"br"===s?e.start&&e.start(t,[],!0,i,n):"p"===s&&(e.start&&e.start(t,[],!1,i,n),e.end&&e.end(t,i,n))}for(var r,a,o=[],s=e.expectHTML,l=e.isUnaryTag||ba,c=e.canBeLeftOpenTag||ba,u=0;t;){if(r=t,a&&Xl(a)){var h=0,d=a.toLowerCase(),f=Yl[d]||(Yl[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),p=t.replace(f,function(t,i,n){return h=n.length,Xl(d)||"noscript"===d||(i=i.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),tc(d,i)&&(i=i.slice(1)),e.chars&&e.chars(i),""});u+=t.length-p.length,t=p,n(d,u-h,u)}else{var m=t.indexOf("<");if(0===m){if(Pl.test(t)){var g=t.indexOf("--\x3e");if(g>=0){e.shouldKeepComment&&e.comment(t.substring(4,g)),i(g+3);continue}}if(Rl.test(t)){var v=t.indexOf("]>");if(v>=0){i(v+2);continue}}var _=t.match(Dl);if(_){i(_[0].length);continue}var y=t.match(jl);if(y){var b=u;i(y[0].length),n(y[1],b,u);continue}var w=function(){var e=t.match(El);if(e){var n={tagName:e[1],attrs:[],start:u};i(e[0].length);for(var r,a;!(r=t.match($l))&&(a=t.match(Al));)i(a[0].length),n.attrs.push(a);if(r)return n.unarySlash=r[1],i(r[0].length),n.end=u,n}}();if(w){!function(t){var i=t.tagName,r=t.unarySlash;s&&("p"===a&&Tl(i)&&n(a),c(i)&&a===i&&n(i));for(var u=l(i)||!!r,h=t.attrs.length,d=new Array(h),f=0;f<h;f++){var p=t.attrs[f];Nl&&-1===p[0].indexOf('""')&&(""===p[3]&&delete p[3],""===p[4]&&delete p[4],""===p[5]&&delete p[5]);var m=p[3]||p[4]||p[5]||"",g="a"===i&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;d[f]={name:p[1],value:Vn(m,g)}}u||(o.push({tag:i,lowerCasedTag:i.toLowerCase(),attrs:d}),a=i),e.start&&e.start(i,d,u,t.start,t.end)}(w),tc(a,t)&&i(1);continue}}var x=void 0,k=void 0,C=void 0;if(m>=0){for(k=t.slice(m);!(jl.test(k)||El.test(k)||Pl.test(k)||Rl.test(k)||(C=k.indexOf("<",1))<0);)m+=C,k=t.slice(m);x=t.substring(0,m),i(m)}m<0&&(x=t,t=""),e.chars&&x&&e.chars(x)}if(t===r){e.chars&&e.chars(t),!o.length&&e.warn&&e.warn('Mal-formatted tag at end of template: "'+t+'"');break}}n()}function Wn(t,e,i){return{type:1,tag:t,attrsList:e,attrsMap:ur(e),parent:i,children:[]}}function Gn(t,e){function i(t){u||(u=!0,Il(t))}function n(t){t.pre&&(l=!1),Fl(t.tag)&&(c=!1)}Il=e.warn||Ti,Fl=e.isPreTag||ba,Bl=e.mustUseProp||ba,Vl=e.getTagNamespace||ba,zl=Ai(e.modules,"transformNode"),Hl=Ai(e.modules,"preTransformNode"),ql=Ai(e.modules,"postTransformNode"),Ll=e.delimiters;var r,a,o=[],s=!1!==e.preserveWhitespace,l=!1,c=!1,u=!1;return Un(t,{warn:Il,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,s,u){function h(t){"slot"!==t.tag&&"template"!==t.tag||i("Cannot use <"+t.tag+"> as component root element because it may contain multiple nodes."),t.attrsMap.hasOwnProperty("v-for")&&i("Cannot use v-for on stateful component root element because it renders multiple elements.")}var d=a&&a.ns||Vl(t);$a&&"svg"===d&&(s=fr(s));var f=Wn(t,s,a);d&&(f.ns=d),dr(f)&&!Fa()&&(f.forbidden=!0,Il("Templates should only be responsible for mapping the state to the UI. Avoid placing tags with side-effects in your templates, such as <"+t+">, as they will not be parsed."));for(var p=0;p<Hl.length;p++)f=Hl[p](f,e)||f;if(l||(Xn(f),f.pre&&(l=!0)),Fl(f.tag)&&(c=!0),l?Yn(f):f.processed||(Zn(f),tr(f),rr(f),Jn(f,e)),r?o.length||(r.if&&(f.elseif||f.else)?(h(f),nr(r,{exp:f.elseif,block:f})):i("Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead.")):(r=f,h(r)),a&&!f.forbidden)if(f.elseif||f.else)er(f,a);else if(f.slotScope){a.plain=!1;var m=f.slotTarget||'"default"';(a.scopedSlots||(a.scopedSlots={}))[m]=f}else a.children.push(f),f.parent=a;u?n(f):(a=f,o.push(f));for(var g=0;g<ql.length;g++)ql[g](f,e)},end:function(){var t=o[o.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!c&&t.children.pop(),o.length-=1,a=o[o.length-1],n(t)},chars:function(e){if(!a)return void(e===t?i("Component template requires a root element, rather than just text."):(e=e.trim())&&i('text "'+e+'" outside root element will be ignored.'));if(!$a||"textarea"!==a.tag||a.attrsMap.placeholder!==e){var n=a.children;if(e=c||e.trim()?hr(a)?e:lc(e):s&&n.length?" ":""){var r;!l&&" "!==e&&(r=zn(e,Ll))?n.push({type:2,expression:r,text:e}):" "===e&&n.length&&" "===n[n.length-1].text||n.push({type:3,text:e})}}},comment:function(t){a.children.push({type:3,text:t,isComment:!0})}}),r}function Xn(t){null!=Di(t,"v-pre")&&(t.pre=!0)}function Yn(t){var e=t.attrsList.length;if(e)for(var i=t.attrs=new Array(e),n=0;n<e;n++)i[n]={name:t.attrsList[n].name,value:JSON.stringify(t.attrsList[n].value)};else t.pre||(t.plain=!0)}function Jn(t,e){Kn(t),t.plain=!t.key&&!t.attrsList.length,Qn(t),ar(t),or(t);for(var i=0;i<zl.length;i++)t=zl[i](t,e)||t;sr(t)}function Kn(t){var e=ji(t,"key");e&&("template"===t.tag&&Il("<template> cannot be keyed. Place the key on real elements instead."),t.key=e)}function Qn(t){var e=ji(t,"ref");e&&(t.ref=e,t.refInFor=lr(t))}function Zn(t){var e;if(e=Di(t,"v-for")){var i=e.match(nc);if(!i)return void Il("Invalid v-for expression: "+e);t.for=i[2].trim();var n=i[1].trim(),r=n.match(rc);r?(t.alias=r[1].trim(),t.iterator1=r[2].trim(),r[3]&&(t.iterator2=r[3].trim())):t.alias=n}}function tr(t){var e=Di(t,"v-if");if(e)t.if=e,nr(t,{exp:e,block:t});else{null!=Di(t,"v-else")&&(t.else=!0);var i=Di(t,"v-else-if");i&&(t.elseif=i)}}function er(t,e){var i=ir(e.children);i&&i.if?nr(i,{exp:t.elseif,block:t}):Il("v-"+(t.elseif?'else-if="'+t.elseif+'"':"else")+" used on element <"+t.tag+"> without corresponding v-if.")}function ir(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];" "!==t[e].text&&Il('text "'+t[e].text.trim()+'" between v-if and v-else(-if) will be ignored.'),t.pop()}}function nr(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function rr(t){null!=Di(t,"v-once")&&(t.once=!0)}function ar(t){if("slot"===t.tag)t.slotName=ji(t,"name"),t.key&&Il("`key` does not work on <slot> because slots are abstract outlets and can possibly expand into multiple elements. Use the key on a wrapping element instead.");else{var e;"template"===t.tag?(e=Di(t,"scope"),e&&Il('the "scope" attribute for scoped slots have been deprecated and replaced by "slot-scope" since 2.5. The new "slot-scope" attribute can also be used on plain elements in addition to <template> to denote scoped slots.',!0),t.slotScope=e||Di(t,"slot-scope")):(e=Di(t,"slot-scope"))&&(t.slotScope=e);var i=ji(t,"slot");i&&(t.slotTarget='""'===i?'"default"':i,"template"===t.tag||t.slotScope||Oi(t,"slot",i))}}function or(t){var e;(e=ji(t,"is"))&&(t.component=e),null!=Di(t,"inline-template")&&(t.inlineTemplate=!0)}function sr(t){var e,i,n,r,a,o,s,l=t.attrsList;for(e=0,i=l.length;e<i;e++)if(n=r=l[e].name,a=l[e].value,ic.test(n))if(t.hasBindings=!0,o=cr(n),o&&(n=n.replace(sc,"")),oc.test(n))n=n.replace(oc,""),a=Ci(a),s=!1,o&&(o.prop&&(s=!0,"innerHtml"===(n=ga(n))&&(n="innerHTML")),o.camel&&(n=ga(n)),o.sync&&$i(t,"update:"+ga(n),Ri(a,"$event"))),s||!t.component&&Bl(t.tag,t.attrsMap.type,n)?Mi(t,n,a):Oi(t,n,a);else if(ec.test(n))n=n.replace(ec,""),$i(t,n,a,o,!1,Il);else{n=n.replace(ic,"");var c=n.match(ac),u=c&&c[1];u&&(n=n.slice(0,-(u.length+1))),Ei(t,n,r,a,u,o),"model"===n&&pr(t,a)}else{var h=zn(a,Ll);h&&Il(n+'="'+a+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div id="{{ val }}">, use <div :id="val">.'),Oi(t,n,JSON.stringify(a)),!t.component&&"muted"===n&&Bl(t.tag,t.attrsMap.type,n)&&Mi(t,n,"true")}}function lr(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function cr(t){var e=t.match(sc);if(e){var i={};return e.forEach(function(t){i[t.slice(1)]=!0}),i}}function ur(t){for(var e={},i=0,n=t.length;i<n;i++)!e[t[i].name]||$a||Da||Il("duplicate attribute: "+t[i].name),e[t[i].name]=t[i].value;return e}function hr(t){return"script"===t.tag||"style"===t.tag}function dr(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}function fr(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];cc.test(n.name)||(n.name=n.name.replace(uc,""),e.push(n))}return e}function pr(t,e){for(var i=t;i;)i.for&&i.alias===e&&Il("<"+t.tag+' v-model="'+e+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.'),i=i.parent}function mr(t,e){if("input"===t.tag){var i=t.attrsMap;if(i["v-model"]&&(i["v-bind:type"]||i[":type"])){var n=ji(t,"type"),r=Di(t,"v-if",!0),a=r?"&&("+r+")":"",o=null!=Di(t,"v-else",!0),s=Di(t,"v-else-if",!0),l=gr(t);Zn(l),vr(l,"type","checkbox"),Jn(l,e),l.processed=!0,l.if="("+n+")==='checkbox'"+a,nr(l,{exp:l.if,block:l});var c=gr(t);Di(c,"v-for",!0),vr(c,"type","radio"),Jn(c,e),nr(l,{exp:"("+n+")==='radio'"+a,block:c});var u=gr(t);return Di(u,"v-for",!0),vr(u,":type",n),Jn(u,e),nr(l,{exp:r,block:u}),o?l.else=!0:s&&(l.elseif=s),l}}}function gr(t){return Wn(t.tag,t.attrsList.slice(),t.parent)}function vr(t,e,i){t.attrsMap[e]=i,t.attrsList.push({name:e,value:i})}function _r(t,e){e.value&&Mi(t,"textContent","_s("+e.value+")")}function yr(t,e){e.value&&Mi(t,"innerHTML","_s("+e.value+")")}function br(t,e){t&&(Ul=mc(e.staticKeys||""),Wl=e.isReservedTag||ba,xr(t),kr(t,!1))}function wr(t){return f("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function xr(t){if(t.static=Cr(t),1===t.type){if(!Wl(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,i=t.children.length;e<i;e++){var n=t.children[e];xr(n),n.static||(t.static=!1)}if(t.ifConditions)for(var r=1,a=t.ifConditions.length;r<a;r++){var o=t.ifConditions[r].block;xr(o),o.static||(t.static=!1)}}}function kr(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var i=0,n=t.children.length;i<n;i++)kr(t.children[i],e||!!t.for);if(t.ifConditions)for(var r=1,a=t.ifConditions.length;r<a;r++)kr(t.ifConditions[r].block,e)}}function Cr(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||da(t.tag)||!Wl(t.tag)||Sr(t)||!Object.keys(t).every(Ul))))}function Sr(t){for(;t.parent;){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}function Tr(t,e,i){var n=e?"nativeOn:{":"on:{";for(var r in t){var a=t[r];"click"===r&&a&&a.modifiers&&a.modifiers.right&&i('Use "contextmenu" instead of "click.right" since right clicks do not actually fire "click" events.'),n+='"'+r+'":'+Ar(r,a)+","}return n.slice(0,-1)+"}"}function Ar(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return Ar(t,e)}).join(",")+"]";var i=vc.test(e.value),n=gc.test(e.value);if(e.modifiers){var r="",a="",o=[];for(var s in e.modifiers)if(bc[s])a+=bc[s],_c[s]&&o.push(s);else if("exact"===s){var l=e.modifiers;a+=yc(["ctrl","shift","alt","meta"].filter(function(t){return!l[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else o.push(s);o.length&&(r+=Mr(o)),a&&(r+=a);return"function($event){"+r+(i?e.value+"($event)":n?"("+e.value+")($event)":e.value)+"}"}return i||n?e.value:"function($event){"+e.value+"}"}function Mr(t){return"if(!('button' in $event)&&"+t.map(Or).join("&&")+")return null;"}function Or(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var i=_c[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(i)+",$event.key)"}function Er(t,e){e.modifiers&&Ua("v-on without argument does not support modifiers."),t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function $r(t,e){t.wrapData=function(i){return"_b("+i+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}function jr(t,e){var i=new xc(e);return{render:"with(this){return "+(t?Dr(t,i):'_c("div")')+"}",staticRenderFns:i.staticRenderFns}}function Dr(t,e){if(t.staticRoot&&!t.staticProcessed)return Pr(t,e);if(t.once&&!t.onceProcessed)return Rr(t,e);if(t.for&&!t.forProcessed)return Lr(t,e);if(t.if&&!t.ifProcessed)return Nr(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return Kr(t,e);var i;if(t.component)i=Qr(t.component,t,e);else{var n=t.plain?void 0:zr(t,e),r=t.inlineTemplate?null:Ur(t,e,!0);i="_c('"+t.tag+"'"+(n?","+n:"")+(r?","+r:"")+")"}for(var a=0;a<e.transforms.length;a++)i=e.transforms[a](t,i);return i}return Ur(t,e)||"void 0"}function Pr(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+Dr(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Rr(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Nr(t,e);if(t.staticInFor){for(var i="",n=t.parent;n;){if(n.for){i=n.key;break}n=n.parent}return i?"_o("+Dr(t,e)+","+e.onceId+++","+i+")":(e.warn("v-once can only be used inside v-for that is keyed. "),Dr(t,e))}return Pr(t,e)}function Nr(t,e,i,n){return t.ifProcessed=!0,Ir(t.ifConditions.slice(),e,i,n)}function Ir(t,e,i,n){function r(t){return i?i(t,e):t.once?Rr(t,e):Dr(t,e)}if(!t.length)return n||"_e()";var a=t.shift();return a.exp?"("+a.exp+")?"+r(a.block)+":"+Ir(t,e,i,n):""+r(a.block)}function Lr(t,e,i,n){var r=t.for,a=t.alias,o=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return e.maybeComponent(t)&&"slot"!==t.tag&&"template"!==t.tag&&!t.key&&e.warn("<"+t.tag+' v-for="'+a+" in "+r+'">: component lists rendered with v-for should have explicit keys. See https://vuejs.org/guide/list.html#key for more info.',!0),t.forProcessed=!0,(n||"_l")+"(("+r+"),function("+a+o+s+"){return "+(i||Dr)(t,e)+"})"}function zr(t,e){var i="{",n=Hr(t,e);n&&(i+=n+","),t.key&&(i+="key:"+t.key+","),t.ref&&(i+="ref:"+t.ref+","),t.refInFor&&(i+="refInFor:true,"),t.pre&&(i+="pre:true,"),t.component&&(i+='tag:"'+t.tag+'",');for(var r=0;r<e.dataGenFns.length;r++)i+=e.dataGenFns[r](t);if(t.attrs&&(i+="attrs:{"+Zr(t.attrs)+"},"),t.props&&(i+="domProps:{"+Zr(t.props)+"},"),t.events&&(i+=Tr(t.events,!1,e.warn)+","),t.nativeEvents&&(i+=Tr(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(i+="slot:"+t.slotTarget+","),t.scopedSlots&&(i+=Fr(t.scopedSlots,e)+","),t.model&&(i+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var a=qr(t,e);a&&(i+=a+",")}return i=i.replace(/,$/,"")+"}",t.wrapData&&(i=t.wrapData(i)),t.wrapListeners&&(i=t.wrapListeners(i)),i}function Hr(t,e){var i=t.directives;if(i){var n,r,a,o,s="directives:[",l=!1;for(n=0,r=i.length;n<r;n++){a=i[n],o=!0;var c=e.directives[a.name];c&&(o=!!c(t,a,e.warn)),o&&(l=!0,s+='{name:"'+a.name+'",rawName:"'+a.rawName+'"'+(a.value?",value:("+a.value+"),expression:"+JSON.stringify(a.value):"")+(a.arg?',arg:"'+a.arg+'"':"")+(a.modifiers?",modifiers:"+JSON.stringify(a.modifiers):"")+"},")}return l?s.slice(0,-1)+"]":void 0}}function qr(t,e){var i=t.children[0];if(1===t.children.length&&1===i.type||e.warn("Inline-template components must have exactly one child element."),1===i.type){var n=jr(i,e.options);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function Fr(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(i){return Br(i,t[i],e)}).join(",")+"])"}function Br(t,e,i){return e.for&&!e.forProcessed?Vr(t,e,i):"{key:"+t+",fn:function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(Ur(e,i)||"undefined")+":undefined":Ur(e,i)||"undefined":Dr(e,i))+"}}"}function Vr(t,e,i){var n=e.for,r=e.alias,a=e.iterator1?","+e.iterator1:"",o=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+n+"),function("+r+a+o+"){return "+Br(t,e,i)+"})"}function Ur(t,e,i,n,r){var a=t.children;if(a.length){var o=a[0];if(1===a.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag)return(n||Dr)(o,e);var s=i?Wr(a,e.maybeComponent):0,l=r||Xr;return"["+a.map(function(t){return l(t,e)}).join(",")+"]"+(s?","+s:"")}}function Wr(t,e){for(var i=0,n=0;n<t.length;n++){var r=t[n];if(1===r.type){if(Gr(r)||r.ifConditions&&r.ifConditions.some(function(t){return Gr(t.block)})){i=2;break}(e(r)||r.ifConditions&&r.ifConditions.some(function(t){return e(t.block)}))&&(i=1)}}return i}function Gr(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Xr(t,e){return 1===t.type?Dr(t,e):3===t.type&&t.isComment?Jr(t):Yr(t)}function Yr(t){return"_v("+(2===t.type?t.expression:ta(JSON.stringify(t.text)))+")"}function Jr(t){return"_e("+JSON.stringify(t.text)+")"}function Kr(t,e){var i=t.slotName||'"default"',n=Ur(t,e),r="_t("+i+(n?","+n:""),a=t.attrs&&"{"+t.attrs.map(function(t){return ga(t.name)+":"+t.value}).join(",")+"}",o=t.attrsMap["v-bind"];return!a&&!o||n||(r+=",null"),a&&(r+=","+a),o&&(r+=(a?"":",null")+","+o),r+")"}function Qr(t,e,i){var n=e.inlineTemplate?null:Ur(e,i,!0);return"_c("+t+","+zr(e,i)+(n?","+n:"")+")"}function Zr(t){for(var e="",i=0;i<t.length;i++){var n=t[i];e+='"'+n.name+'":'+ta(n.value)+","}return e.slice(0,-1)}function ta(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function ea(t){var e=[];return t&&ia(t,e),e}function ia(t,e){if(1===t.type){for(var i in t.attrsMap)if(ic.test(i)){var n=t.attrsMap[i];n&&("v-for"===i?ra(t,'v-for="'+n+'"',e):ec.test(i)?na(n,i+'="'+n+'"',e):oa(n,i+'="'+n+'"',e))}if(t.children)for(var r=0;r<t.children.length;r++)ia(t.children[r],e)}else 2===t.type&&oa(t.expression,t.text,e)}function na(t,e,i){var n=t.replace(Tc,""),r=n.match(Cc);r&&"$"!==n.charAt(r.index-1)&&i.push('avoid using JavaScript unary operator as property name: "'+r[0]+'" in expression '+e.trim()),oa(t,e,i)}function ra(t,e,i){oa(t.for||"",e,i),aa(t.alias,"v-for alias",e,i),aa(t.iterator1,"v-for iterator",e,i),aa(t.iterator2,"v-for iterator",e,i)}function aa(t,e,i,n){"string"!=typeof t||Sc.test(t)||n.push("invalid "+e+' "'+t+'" in expression: '+i.trim())}function oa(t,e,i){try{new Function("return "+t)}catch(r){var n=t.replace(Tc,"").match(kc);n?i.push('avoid using JavaScript keyword as property name: "'+n[0]+'"\n  Raw expression: '+e.trim()):i.push("invalid expression: "+r.message+" in\n\n    "+t+"\n\n  Raw expression: "+e.trim()+"\n")}}function sa(t,e){try{return new Function(t)}catch(i){return e.push({err:i,code:t}),w}}function la(t){var e=Object.create(null);return function(i,n,r){n=y({},n);var a=n.warn||Ua;delete n.warn;try{new Function("return 1")}catch(t){t.toString().match(/unsafe-eval|CSP/)&&a("It seems you are using the standalone build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. The template compiler cannot work in this environment. Consider relaxing the policy to allow unsafe-eval or pre-compiling your templates into render functions.")}var o=n.delimiters?String(n.delimiters)+i:i;if(e[o])return e[o];var s=t(i,n);s.errors&&s.errors.length&&a("Error compiling template:\n\n"+i+"\n\n"+s.errors.map(function(t){return"- "+t}).join("\n")+"\n",r),s.tips&&s.tips.length&&s.tips.forEach(function(t){return Wa(t,r)});var l={},c=[];return l.render=sa(s.render,c),l.staticRenderFns=s.staticRenderFns.map(function(t){return sa(t,c)}),s.errors&&s.errors.length||!c.length||a("Failed to generate render function:\n\n"+c.map(function(t){var e=t.err,i=t.code;return e.toString()+" in\n\n"+i+"\n"}).join("\n"),r),e[o]=l}}function ca(t){return Gl=Gl||document.createElement("div"),Gl.innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Gl.innerHTML.indexOf("&#10;")>0}function ua(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}var ha=Object.prototype.toString,da=f("slot,component",!0),fa=f("key,ref,slot,slot-scope,is"),pa=Object.prototype.hasOwnProperty,ma=/-(\w)/g,ga=g(function(t){return t.replace(ma,function(t,e){return e?e.toUpperCase():""})}),va=g(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),_a=/\B([A-Z])/g,ya=g(function(t){return t.replace(_a,"-$1").toLowerCase()}),ba=function(t,e,i){return!1},wa=function(t){return t},xa="data-server-rendered",ka=["component","directive","filter"],Ca=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],Sa={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:ba,isReservedAttr:ba,isUnknownElement:ba,getTagNamespace:w,parsePlatformTagName:wa,mustUseProp:ba,_lifecycleHooks:Ca},Ta=Object.freeze({}),Aa=/[^\w.$]/,Ma="__proto__"in{},Oa="undefined"!=typeof window,Ea=Oa&&window.navigator.userAgent.toLowerCase(),$a=Ea&&/msie|trident/.test(Ea),ja=Ea&&Ea.indexOf("msie 9.0")>0,Da=Ea&&Ea.indexOf("edge/")>0,Pa=Ea&&Ea.indexOf("android")>0,Ra=Ea&&/iphone|ipad|ipod|ios/.test(Ea),Na=Ea&&/chrome\/\d+/.test(Ea)&&!Da,Ia={}.watch,La=!1;if(Oa)try{var za={};Object.defineProperty(za,"passive",{get:function(){La=!0}}),window.addEventListener("test-passive",null,za)}catch(t){}var Ha,qa,Fa=function(){return void 0===Ha&&(Ha=!Oa&&void 0!==e&&"server"===e.process.env.VUE_ENV),Ha},Ba=Oa&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Va="undefined"!=typeof Symbol&&M(Symbol)&&"undefined"!=typeof Reflect&&M(Reflect.ownKeys);qa="undefined"!=typeof Set&&M(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Ua=w,Wa=w,Ga=w,Xa=w,Ya="undefined"!=typeof console,Ja=/(?:^|[-_])(\w)/g,Ka=function(t){return t.replace(Ja,function(t){return t.toUpperCase()}).replace(/[-_]/g,"")};Ua=function(t,e){var i=e?Ga(e):"";Sa.warnHandler?Sa.warnHandler.call(null,t,e,i):Ya&&!Sa.silent&&console.error("[Vue warn]: "+t+i)},Wa=function(t,e){Ya&&!Sa.silent&&console.warn("[Vue tip]: "+t+(e?Ga(e):""))},Xa=function(t,e){if(t.$root===t)return"<Root>";var i="function"==typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{},n=i.name||i._componentTag,r=i.__file;if(!n&&r){var a=r.match(/([^\/\\]+)\.vue$/);n=a&&a[1]}return(n?"<"+Ka(n)+">":"<Anonymous>")+(r&&!1!==e?" at "+r:"")};var Qa=function(t,e){for(var i="";e;)e%2==1&&(i+=t),e>1&&(t+=t),e>>=1;return i};Ga=function(t){if(t._isVue&&t.$parent){for(var e=[],i=0;t;){if(e.length>0){var n=e[e.length-1];if(n.constructor===t.constructor){i++,t=t.$parent;continue}i>0&&(e[e.length-1]=[n,i],i=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map(function(t,e){return""+(0===e?"---\x3e ":Qa(" ",5+2*e))+(Array.isArray(t)?Xa(t[0])+"... ("+t[1]+" recursive calls)":Xa(t))}).join("\n")}return"\n\n(found in "+Xa(t)+")"};var Za=0,to=function(){this.id=Za++,this.subs=[]};to.prototype.addSub=function(t){this.subs.push(t)},to.prototype.removeSub=function(t){p(this.subs,t)},to.prototype.depend=function(){to.target&&to.target.addDep(this)},to.prototype.notify=function(){for(var t=this.subs.slice(),e=0,i=t.length;e<i;e++)t[e].update()},to.target=null;var eo=[],io=function(t,e,i,n,r,a,o,s){this.tag=t,this.data=e,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=a,this.functionalContext=void 0,this.functionalOptions=void 0,this.functionalScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},no={child:{configurable:!0}};no.child.get=function(){return this.componentInstance},Object.defineProperties(io.prototype,no);var ro=function(t){void 0===t&&(t="");var e=new io;return e.text=t,e.isComment=!0,e},ao=Array.prototype,oo=Object.create(ao);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=ao[t];T(oo,t,function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];var r,a=e.apply(this,i),o=this.__ob__;switch(t){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&o.observeArray(r),o.dep.notify(),a})});var so=Object.getOwnPropertyNames(oo),lo={shouldConvert:!0},co=function(t){if(this.value=t,this.dep=new to,this.vmCount=0,T(t,"__ob__",this),Array.isArray(t)){(Ma?P:R)(t,oo,so),this.observeArray(t)}else this.walk(t)};co.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)I(t,e[i],t[e[i]])},co.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)N(t[e])};var uo=Sa.optionMergeStrategies;uo.el=uo.propsData=function(t,e,i,n){return i||Ua('option "'+n+'" can only be used during instance creation with the `new` keyword.'),po(t,e)},uo.data=function(t,e,i){return i?F(t,e,i):e&&"function"!=typeof e?(Ua('The "data" option should be a function that returns a per-instance value in component definitions.',i),t):F(t,e)},Ca.forEach(function(t){uo[t]=B}),ka.forEach(function(t){uo[t+"s"]=V}),uo.watch=function(t,e,i,n){if(t===Ia&&(t=void 0),e===Ia&&(e=void 0),!e)return Object.create(t||null);if(Y(n,e,i),!t)return e;var r={};y(r,t);for(var a in e){var o=r[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},uo.props=uo.methods=uo.inject=uo.computed=function(t,e,i,n){if(e&&Y(n,e,i),!t)return e;var r=Object.create(null);return y(r,t),e&&y(r,e),r},uo.provide=F;var ho,fo,po=function(t,e){return void 0===e?t:e},mo=/^(String|Number|Boolean|Function|Symbol)$/,go=[],vo=!1,_o=!1;if("undefined"!=typeof setImmediate&&M(setImmediate))fo=function(){setImmediate(st)};else if("undefined"==typeof MessageChannel||!M(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())fo=function(){setTimeout(st,0)};else{var yo=new MessageChannel,bo=yo.port2;yo.port1.onmessage=st,fo=function(){bo.postMessage(1)}}if("undefined"!=typeof Promise&&M(Promise)){var wo=Promise.resolve();ho=function(){wo.then(st),Ra&&setTimeout(w)}}else ho=fo;var xo,ko,Co=Oa&&window.performance;Co&&Co.mark&&Co.measure&&Co.clearMarks&&Co.clearMeasures&&(xo=function(t){return Co.mark(t)},ko=function(t,e,i){Co.measure(t,e,i),Co.clearMarks(e),Co.clearMarks(i),Co.clearMeasures(t)});var So,To=f("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),Ao=function(t,e){Ua('Property or method "'+e+'" is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',t)},Mo="undefined"!=typeof Proxy&&Proxy.toString().match(/native code/);if(Mo){var Oo=f("stop,prevent,self,ctrl,shift,alt,meta,exact");Sa.keyCodes=new Proxy(Sa.keyCodes,{set:function(t,e,i){return Oo(e)?(Ua("Avoid overwriting built-in modifier in config.keyCodes: ."+e),!1):(t[e]=i,!0)}})}var Eo={has:function(t,e){var i=e in t,n=To(e)||"_"===e.charAt(0);return i||n||Ao(t,e),i||!n}},$o={get:function(t,e){return"string"!=typeof e||e in t||Ao(t,e),t[e]}};So=function(t){if(Mo){var e=t.$options,i=e.render&&e.render._withStripped?$o:Eo;t._renderProxy=new Proxy(t,i)}else t._renderProxy=t};var jo,Do=g(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var i="~"===t.charAt(0);t=i?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:i,capture:n,passive:e}}),Po=null,Ro=!1,No=100,Io=[],Lo=[],zo={},Ho={},qo=!1,Fo=!1,Bo=0,Vo=0,Uo=function(t,e,i,n){this.vm=t,t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++Vo,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new qa,this.newDepIds=new qa,this.expression=e.toString(),"function"==typeof e?this.getter=e:(this.getter=A(e),this.getter||(this.getter=function(){},Ua('Failed watching path: "'+e+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',t))),this.value=this.lazy?void 0:this.get()};Uo.prototype.get=function(){O(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;rt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Vt(t),E(),this.cleanupDeps()}return t},Uo.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Uo.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var i=t.deps[e];t.newDepIds.has(i.id)||i.removeSub(t)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Uo.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Bt(this)},Uo.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||o(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){rt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Uo.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Uo.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},Uo.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||p(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var Wo=new qa,Go={enumerable:!0,configurable:!0,get:w,set:w},Xo={lazy:!0};ge(ve.prototype);var Yo={init:function(t,e,i,n){if(!t.componentInstance||t.componentInstance._isDestroyed){(t.componentInstance=we(t,Po,i,n)).$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var r=t;Yo.prepatch(r,r)}},prepatch:function(t,e){var i=e.componentOptions;Dt(e.componentInstance=t.componentInstance,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,It(i,"mounted")),t.data.keepAlive&&(e._isMounted?qt(i):Rt(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Nt(e,!0):e.$destroy())}},Jo=Object.keys(Yo),Ko=1,Qo=2,Zo=0;!function(t){t.prototype._init=function(t){var e=this;e._uid=Zo++;var i,n;Sa.performance&&xo&&(i="vue-perf-start:"+e._uid,n="vue-perf-end:"+e._uid,xo(i)),e._isVue=!0,t&&t._isComponent?Oe(e,t):e.$options=J(Ee(e.constructor),t||{},e),So(e),e._self=e,$t(e),Ct(e),Me(e),It(e,"beforeCreate"),re(e),Gt(e),ne(e),It(e,"created"),Sa.performance&&xo&&(e._name=Xa(e,!1),xo(n),ko("vue "+e._name+" init",i,n)),e.$options.el&&e.$mount(e.$options.el)}}(De),function(t){var e={};e.get=function(){return this._data};var i={};i.get=function(){return this._props},e.set=function(t){Ua("Avoid replacing instance root $data. Use nested data properties instead.",this)},i.set=function(){Ua("$props is readonly.",this)},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=L,t.prototype.$delete=z,t.prototype.$watch=function(t,e,i){var n=this;if(l(e))return ie(n,t,e,i);i=i||{},i.user=!0;var r=new Uo(n,t,e,i);return i.immediate&&e.call(n,r.value),function(){r.teardown()}}}(De),function(t){var e=/^hook:/;t.prototype.$on=function(t,i){var n=this,r=this;if(Array.isArray(t))for(var a=0,o=t.length;a<o;a++)n.$on(t[a],i);else(r._events[t]||(r._events[t]=[])).push(i),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){function i(){n.$off(t,i),e.apply(n,arguments)}var n=this;return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var i=this,n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,a=t.length;r<a;r++)i.$off(t[r],e);return n}var o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;if(e)for(var s,l=o.length;l--;)if((s=o[l])===e||s.fn===e){o.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,i=t.toLowerCase();i!==t&&e._events[i]&&Wa('Event "'+i+'" is emitted in component '+Xa(e)+' but the handler is registered for "'+t+'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "'+ya(t)+'" instead of "'+t+'".');var n=e._events[t];if(n){n=n.length>1?_(n):n;for(var r=_(arguments,1),a=0,o=n.length;a<o;a++)try{n[a].apply(e,r)}catch(i){rt(i,e,'event handler for "'+t+'"')}}return e}}(De),function(t){t.prototype._update=function(t,e){var i=this;i._isMounted&&It(i,"beforeUpdate");var n=i.$el,r=i._vnode,a=Po;Po=i,i._vnode=t,r?i.$el=i.__patch__(r,t):(i.$el=i.__patch__(i.$el,t,e,!1,i.$options._parentElm,i.$options._refElm),i.$options._parentElm=i.$options._refElm=null),Po=a,n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){It(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||p(e.$children,t),t._watcher&&t._watcher.teardown();for(var i=t._watchers.length;i--;)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),It(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(De),function(t){ge(t.prototype),t.prototype.$nextTick=function(t){return ct(t,this)},t.prototype._render=function(){var t=this,e=t.$options,i=e.render,n=e._parentVnode;if(t._isMounted)for(var r in t.$slots){var a=t.$slots[r];a._rendered&&(t.$slots[r]=D(a,!0))}t.$scopedSlots=n&&n.data.scopedSlots||Ta,t.$vnode=n;var o;try{o=i.call(t._renderProxy,t.$createElement)}catch(e){if(rt(e,t,"render"),t.$options.renderError)try{o=t.$options.renderError.call(t._renderProxy,t.$createElement,e)}catch(e){rt(e,t,"renderError"),o=t._vnode}else o=t._vnode}return o instanceof io||(Array.isArray(o)&&Ua("Multiple root nodes returned from render function. Render function should return a single root node.",t),o=ro()),o.parent=n,o}}(De);var ts=[String,RegExp,Array],es={name:"keep-alive",abstract:!0,props:{include:ts,exclude:ts,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){var t=this;for(var e in t.cache)Be(t.cache,e,t.keys)},watch:{include:function(t){Fe(this,function(e){return qe(t,e)})},exclude:function(t){Fe(this,function(e){return!qe(t,e)})}},render:function(){var t=kt(this.$slots.default),e=t&&t.componentOptions;if(e){var i=He(e);if(i&&(this.exclude&&qe(this.exclude,i)||this.include&&!qe(this.include,i)))return t;var n=this,r=n.cache,a=n.keys,o=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;r[o]?(t.componentInstance=r[o].componentInstance,p(a,o),a.push(o)):(r[o]=t,a.push(o),this.max&&a.length>parseInt(this.max)&&Be(r,a[0],a,this._vnode)),t.data.keepAlive=!0}return t}},is={KeepAlive:es};!function(t){var e={};e.get=function(){return Sa},e.set=function(){Ua("Do not replace the Vue.config object, set individual fields instead.")},Object.defineProperty(t,"config",e),t.util={warn:Ua,extend:y,mergeOptions:J,defineReactive:I},t.set=L,t.delete=z,t.nextTick=ct,t.options=Object.create(null),ka.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,y(t.options.components,is),Pe(t),Re(t),Ne(t),ze(t)}(De),Object.defineProperty(De.prototype,"$isServer",{get:Fa}),Object.defineProperty(De.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),De.version="2.5.3";var ns,rs,as,os,ss,ls,cs,us,hs,ds=f("style,class"),fs=f("input,textarea,option,select,progress"),ps=function(t,e,i){return"value"===i&&fs(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},ms=f("contenteditable,draggable,spellcheck"),gs=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),vs="http://www.w3.org/1999/xlink",_s=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},ys=function(t){return _s(t)?t.slice(6,t.length):""},bs=function(t){return null==t||!1===t},ws={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},xs=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ks=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Cs=function(t){return"pre"===t},Ss=function(t){return xs(t)||ks(t)},Ts=Object.create(null),As=f("text,number,password,search,email,tel,url"),Ms=Object.freeze({createElement:ti,createElementNS:ei,createTextNode:ii,createComment:ni,insertBefore:ri,removeChild:ai,appendChild:oi,parentNode:si,nextSibling:li,tagName:ci,setTextContent:ui,setAttribute:hi}),Os={create:function(t,e){di(e)},update:function(t,e){t.data.ref!==e.data.ref&&(di(t,!0),di(e))},destroy:function(t){di(t,!0)}},Es=new io("",{},[]),$s=["create","activate","update","remove","destroy"],js={create:gi,update:gi,destroy:function(t){gi(t,Es)}},Ds=Object.create(null),Ps=[Os,js],Rs={create:wi,update:wi},Ns={create:ki,update:ki},Is=/[\w).+\-_$\]]/,Ls="__r",zs="__c",Hs={create:Ki,update:Ki},qs={create:Qi,update:Qi},Fs=g(function(t){var e={},i=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(i).forEach(function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}),Bs=/^--/,Vs=/\s*!important$/,Us=function(t,e,i){if(Bs.test(e))t.style.setProperty(e,i);else if(Vs.test(i))t.style.setProperty(e,i.replace(Vs,""),"important");else{var n=Gs(e);if(Array.isArray(i))for(var r=0,a=i.length;r<a;r++)t.style[n]=i[r];else t.style[n]=i}},Ws=["Webkit","Moz","ms"],Gs=g(function(t){if(hs=hs||document.createElement("div").style,"filter"!==(t=ga(t))&&t in hs)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<Ws.length;i++){var n=Ws[i]+e;if(n in hs)return n}}),Xs={create:on,update:on},Ys=g(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Js=Oa&&!ja,Ks="transition",Qs="animation",Zs="transition",tl="transitionend",el="animation",il="animationend";Js&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Zs="WebkitTransition",tl="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(el="WebkitAnimation",il="webkitAnimationEnd"));var nl=Oa?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},rl=/\b(transform|all)(,|$)/,al=Oa?{create:xn,activate:xn,remove:function(t,e){!0!==t.data.show?_n(t,e):e()}}:{},ol=[Rs,Ns,Hs,qs,Xs,al],sl=ol.concat(Ps),ll=function(e){function r(t){return new io(D.tagName(t).toLowerCase(),{},[],void 0,t)}function o(t,e){function i(){0==--i.listeners&&s(t)}return i.listeners=e,i}function s(t){var e=D.parentNode(t);i(e)&&D.removeChild(e,t)}function l(t,e,r,a,o){if(t.isRootInsert=!o,!u(t,e,r,a)){var s=t.data,l=t.children,h=t.tag;i(h)?(s&&s.pre&&P++,P||t.ns||Sa.ignoredElements.length&&Sa.ignoredElements.some(function(t){return c(t)?t.test(h):t===h})||!Sa.isUnknownElement(h)||Ua("Unknown custom element: <"+h+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',t.context),t.elm=t.ns?D.createElementNS(t.ns,h):D.createElement(h,t),_(t),m(t,l,e),i(s)&&v(t,e),p(r,t.elm,a),s&&s.pre&&P--):n(t.isComment)?(t.elm=D.createComment(t.text),p(r,t.elm,a)):(t.elm=D.createTextNode(t.text),p(r,t.elm,a))}}function u(t,e,r,a){var o=t.data;if(i(o)){var s=i(t.componentInstance)&&o.keepAlive;if(i(o=o.hook)&&i(o=o.init)&&o(t,!1,r,a),i(t.componentInstance))return h(t,e),n(s)&&d(t,e,r,a),!0}}function h(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(v(t,e),_(t)):(di(t),e.push(t))}function d(t,e,n,r){for(var a,o=t;o.componentInstance;)if(o=o.componentInstance._vnode,i(a=o.data)&&i(a=a.transition)){for(a=0;a<$.activate.length;++a)$.activate[a](Es,o);e.push(o);break}p(n,t.elm,r)}function p(t,e,n){i(t)&&(i(n)?n.parentNode===t&&D.insertBefore(t,e,n):D.appendChild(t,e))}function m(t,e,i){if(Array.isArray(e))for(var n=0;n<e.length;++n)l(e[n],i,t.elm,null,!0);else a(t.text)&&D.appendChild(t.elm,D.createTextNode(t.text))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function v(t,e){for(var n=0;n<$.create.length;++n)$.create[n](Es,t);O=t.data.hook,i(O)&&(i(O.create)&&O.create(Es,t),i(O.insert)&&e.push(t))}function _(t){var e;if(i(e=t.functionalScopeId))D.setAttribute(t.elm,e,"");else for(var n=t;n;)i(e=n.context)&&i(e=e.$options._scopeId)&&D.setAttribute(t.elm,e,""),n=n.parent;i(e=Po)&&e!==t.context&&e!==t.functionalContext&&i(e=e.$options._scopeId)&&D.setAttribute(t.elm,e,"")}function y(t,e,i,n,r,a){for(;n<=r;++n)l(i[n],a,t,e)}function b(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<$.destroy.length;++e)$.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function w(t,e,n,r){for(;n<=r;++n){var a=e[n];i(a)&&(i(a.tag)?(x(a),b(a)):s(a.elm))}}function x(t,e){if(i(e)||i(t.data)){var n,r=$.remove.length+1;for(i(e)?e.listeners+=r:e=o(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&x(n,e),n=0;n<$.remove.length;++n)$.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else s(t.elm)}function k(e,n,r,a,o){for(var s,c,u,h,d=0,f=0,p=n.length-1,m=n[0],g=n[p],v=r.length-1,_=r[0],b=r[v],x=!o;d<=p&&f<=v;)t(m)?m=n[++d]:t(g)?g=n[--p]:fi(m,_)?(S(m,_,a),m=n[++d],_=r[++f]):fi(g,b)?(S(g,b,a),g=n[--p],b=r[--v]):fi(m,b)?(S(m,b,a),x&&D.insertBefore(e,m.elm,D.nextSibling(g.elm)),m=n[++d],b=r[--v]):fi(g,_)?(S(g,_,a),x&&D.insertBefore(e,g.elm,m.elm),g=n[--p],_=r[++f]):(t(s)&&(s=mi(n,d,p)),c=i(_.key)?s[_.key]:C(_,n,d,p),t(c)?l(_,a,e,m.elm):(u=n[c],u||Ua("It seems there are duplicate keys that is causing an update error. Make sure each v-for item has a unique key."),fi(u,_)?(S(u,_,a),n[c]=void 0,x&&D.insertBefore(e,u.elm,m.elm)):l(_,a,e,m.elm)),_=r[++f]);d>p?(h=t(r[v+1])?null:r[v+1].elm,y(e,h,r,f,v,a)):f>v&&w(e,n,d,p)}function C(t,e,n,r){for(var a=n;a<r;a++){var o=e[a];if(i(o)&&fi(t,o))return a}}function S(e,r,a,o){if(e!==r){var s=r.elm=e.elm;if(n(e.isAsyncPlaceholder))return void(i(r.asyncFactory.resolved)?A(e.elm,r,a):r.isAsyncPlaceholder=!0);if(n(r.isStatic)&&n(e.isStatic)&&r.key===e.key&&(n(r.isCloned)||n(r.isOnce)))return void(r.componentInstance=e.componentInstance);var l,c=r.data;i(c)&&i(l=c.hook)&&i(l=l.prepatch)&&l(e,r);var u=e.children,h=r.children;if(i(c)&&g(r)){for(l=0;l<$.update.length;++l)$.update[l](e,r);i(l=c.hook)&&i(l=l.update)&&l(e,r)}t(r.text)?i(u)&&i(h)?u!==h&&k(s,u,h,a,o):i(h)?(i(e.text)&&D.setTextContent(s,""),y(s,null,h,0,h.length-1,a)):i(u)?w(s,u,0,u.length-1):i(e.text)&&D.setTextContent(s,""):e.text!==r.text&&D.setTextContent(s,r.text),i(c)&&i(l=c.hook)&&i(l=l.postpatch)&&l(e,r)}}function T(t,e,r){if(n(r)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}function A(t,e,r){if(n(e.isComment)&&i(e.asyncFactory))return e.elm=t,e.isAsyncPlaceholder=!0,!0;if(!M(t,e))return!1;e.elm=t;var a=e.tag,o=e.data,s=e.children;if(i(o)&&(i(O=o.hook)&&i(O=O.init)&&O(e,!0),i(O=e.componentInstance)))return h(e,r),!0;if(i(a)){if(i(s))if(t.hasChildNodes())if(i(O=o)&&i(O=O.domProps)&&i(O=O.innerHTML)){if(O!==t.innerHTML)return"undefined"==typeof console||R||(R=!0,console.warn("Parent: ",t),console.warn("server innerHTML: ",O),console.warn("client innerHTML: ",t.innerHTML)),!1}else{for(var l=!0,c=t.firstChild,u=0;u<s.length;u++){if(!c||!A(c,s[u],r)){l=!1;break}c=c.nextSibling}if(!l||c)return"undefined"==typeof console||R||(R=!0,console.warn("Parent: ",t),console.warn("Mismatching childNodes vs. VNodes: ",t.childNodes,s)),!1}else m(e,s,r);if(i(o))for(var d in o)if(!N(d)){v(e,r);break}}else t.data!==e.text&&(t.data=e.text);return!0}function M(t,e){return i(e.tag)?0===e.tag.indexOf("vue-component")||e.tag.toLowerCase()===(t.tagName&&t.tagName.toLowerCase()):t.nodeType===(e.isComment?8:3)}var O,E,$={},j=e.modules,D=e.nodeOps;for(O=0;O<$s.length;++O)for($[$s[O]]=[],E=0;E<j.length;++E)i(j[E][$s[O]])&&$[$s[O]].push(j[E][$s[O]]);var P=0,R=!1,N=f("attrs,style,class,staticClass,staticStyle,key");return function(e,a,o,s,c,u){if(t(a))return void(i(e)&&b(e));var h=!1,d=[];if(t(e))h=!0,l(a,d,c,u);else{var f=i(e.nodeType);if(!f&&fi(e,a))S(e,a,d,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(xa)&&(e.removeAttribute(xa),o=!0),n(o)){if(A(e,a,d))return T(a,d,!0),e;Ua("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}e=r(e)}var p=e.elm,m=D.parentNode(p);if(l(a,d,p._leaveCb?null:m,D.nextSibling(p)),i(a.parent))for(var v=a.parent,_=g(a);v;){for(var y=0;y<$.destroy.length;++y)$.destroy[y](v);if(v.elm=a.elm,_){for(var x=0;x<$.create.length;++x)$.create[x](Es,v);var k=v.data.hook.insert;if(k.merged)for(var C=1;C<k.fns.length;C++)k.fns[C]()}else di(v);v=v.parent}i(m)?w(m,[e],0,0):i(e.tag)&&b(e)}}return T(a,d,h),a.elm}}({nodeOps:Ms,modules:sl});ja&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&On(t,"input")});var cl={inserted:function(t,e,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?dt(i,"postpatch",function(){cl.componentUpdated(t,e,i)}):kn(t,e,i.context),t._vOptions=[].map.call(t.options,Tn)):("textarea"===i.tag||As(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",Mn),Pa||(t.addEventListener("compositionstart",An),t.addEventListener("compositionend",Mn)),ja&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){kn(t,e,i.context);var n=t._vOptions,r=t._vOptions=[].map.call(t.options,Tn);if(r.some(function(t,e){return!x(t,n[e])})){(t.multiple?e.value.some(function(t){return Sn(t,r)}):e.value!==e.oldValue&&Sn(e.value,r))&&On(t,"change")}}}},ul={bind:function(t,e,i){var n=e.value;i=En(i);var r=i.data&&i.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&r?(i.data.show=!0,vn(i,function(){t.style.display=a})):t.style.display=n?a:"none"},update:function(t,e,i){var n=e.value;n!==e.oldValue&&(i=En(i),i.data&&i.data.transition?(i.data.show=!0,n?vn(i,function(){t.style.display=t.__vOriginalDisplay}):_n(i,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none")},unbind:function(t,e,i,n,r){r||(t.style.display=t.__vOriginalDisplay)}},hl={model:cl,show:ul},dl={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},fl={name:"transition",props:dl,abstract:!0,render:function(t){var e=this,i=this.$options._renderChildren;if(i&&(i=i.filter(function(t){return t.tag||xt(t)}),i.length)){i.length>1&&Ua("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var n=this.mode;n&&"in-out"!==n&&"out-in"!==n&&Ua("invalid <transition> mode: "+n,this.$parent);var r=i[0];if(Pn(this.$vnode))return r;var o=$n(r);if(!o)return r;if(this._leaving)return Dn(t,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var l=(o.data||(o.data={})).transition=jn(this),c=this._vnode,u=$n(c);if(o.data.directives&&o.data.directives.some(function(t){return"show"===t.name})&&(o.data.show=!0),u&&u.data&&!Rn(o,u)&&!xt(u)){var h=u.data.transition=y({},l);if("out-in"===n)return this._leaving=!0,dt(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Dn(t,r);if("in-out"===n){if(xt(o))return c;var d,f=function(){d()};dt(l,"afterEnter",f),dt(l,"enterCancelled",f),dt(h,"delayLeave",function(t){d=t})}}return r}}},pl=y({tag:String,moveClass:String},dl);delete pl.mode;var ml={props:pl,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=jn(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),i[l.key]=l,(l.data||(l.data={})).transition=o;else{var c=l.componentOptions,u=c?c.Ctor.options.name||c.tag||"":l.tag;Ua("<transition-group> children must be keyed: <"+u+">")}}if(n){for(var h=[],d=[],f=0;f<n.length;f++){var p=n[f];p.data.transition=o,p.data.pos=p.elm.getBoundingClientRect(),i[p.key]?h.push(p):d.push(p)}this.kept=t(e,null,h),this.removed=d}return t(e,null,a)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Nn),t.forEach(In),t.forEach(Ln),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var i=t.elm,n=i.style;hn(i,e),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(tl,i._moveCb=function t(n){n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(tl,t),i._moveCb=null,dn(i,e))})}}))},methods:{hasMove:function(t,e){if(!Js)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){ln(i,t)}),sn(i,e),i.style.display="none",this.$el.appendChild(i);var n=pn(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}},gl={Transition:fl,TransitionGroup:ml};De.config.mustUseProp=ps,De.config.isReservedTag=Ss,De.config.isReservedAttr=ds,De.config.getTagNamespace=Ke,De.config.isUnknownElement=Qe,y(De.options.directives,hl),y(De.options.components,gl),De.prototype.__patch__=Oa?ll:w,De.prototype.$mount=function(t,e){return t=t&&Oa?Ze(t):void 0,jt(this,t,e)},De.nextTick(function(){Sa.devtools&&(Ba?Ba.emit("init",De):Na&&console[console.info?"info":"log"]("Download the Vue Devtools extension for a better development experience:\nhttps://github.com/vuejs/vue-devtools")),!1!==Sa.productionTip&&Oa&&"undefined"!=typeof console&&console[console.info?"info":"log"]("You are running Vue in development mode.\nMake sure to turn on production mode when deploying for production.\nSee more tips at https://vuejs.org/guide/deployment.html")},0);var vl,_l=/\{\{((?:.|\n)+?)\}\}/g,yl=/[-.*+?^${}()|[\]\/\\]/g,bl=g(function(t){var e=t[0].replace(yl,"\\$&"),i=t[1].replace(yl,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+i,"g")}),wl={staticKeys:["staticClass"],transformNode:Hn,genData:qn},xl={staticKeys:["staticStyle"],transformNode:Fn,genData:Bn},kl={decode:function(t){return vl=vl||document.createElement("div"),vl.innerHTML=t,vl.textContent}},Cl=f("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Sl=f("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Tl=f("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Al=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ml="[a-zA-Z_][\\w\\-\\.]*",Ol="((?:"+Ml+"\\:)?"+Ml+")",El=new RegExp("^<"+Ol),$l=/^\s*(\/?)>/,jl=new RegExp("^<\\/"+Ol+"[^>]*>"),Dl=/^<!DOCTYPE [^>]+>/i,Pl=/^<!--/,Rl=/^<!\[/,Nl=!1;"x".replace(/x(.)?/g,function(t,e){Nl=""===e});var Il,Ll,zl,Hl,ql,Fl,Bl,Vl,Ul,Wl,Gl,Xl=f("script,style,textarea",!0),Yl={},Jl={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},Kl=/&(?:lt|gt|quot|amp);/g,Ql=/&(?:lt|gt|quot|amp|#10|#9);/g,Zl=f("pre,textarea",!0),tc=function(t,e){return t&&Zl(t)&&"\n"===e[0]},ec=/^@|^v-on:/,ic=/^v-|^@|^:/,nc=/(.*?)\s+(?:in|of)\s+(.*)/,rc=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,ac=/:(.*)$/,oc=/^:|^v-bind:/,sc=/\.[^.]+/g,lc=g(kl.decode),cc=/^xmlns:NS\d+/,uc=/^NS\d+:/,hc={preTransformNode:mr},dc=[wl,xl,hc],fc={model:Fi,text:_r,html:yr},pc={expectHTML:!0,modules:dc,directives:fc,isPreTag:Cs,isUnaryTag:Cl,mustUseProp:ps,canBeLeftOpenTag:Sl,isReservedTag:Ss,getTagNamespace:Ke,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(dc)},mc=g(wr),gc=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,vc=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,_c={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},yc=function(t){return"if("+t+")return null;"},bc={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:yc("$event.target !== $event.currentTarget"),ctrl:yc("!$event.ctrlKey"),shift:yc("!$event.shiftKey"),alt:yc("!$event.altKey"),meta:yc("!$event.metaKey"),left:yc("'button' in $event && $event.button !== 0"),middle:yc("'button' in $event && $event.button !== 1"),right:yc("'button' in $event && $event.button !== 2")},wc={on:Er,bind:$r,cloak:w},xc=function(t){this.options=t,this.warn=t.warn||Ti,this.transforms=Ai(t.modules,"transformCode"),this.dataGenFns=Ai(t.modules,"genData"),this.directives=y(y({},wc),t.directives);var e=t.isReservedTag||ba;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]},kc=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),Cc=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),Sc=/[A-Za-z_$][\w$]*/,Tc=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g,Ac=function(t){return function(e){function i(i,n){var r=Object.create(e),a=[],o=[];if(r.warn=function(t,e){(e?o:a).push(t)},n){n.modules&&(r.modules=(e.modules||[]).concat(n.modules)),n.directives&&(r.directives=y(Object.create(e.directives),n.directives));for(var s in n)"modules"!==s&&"directives"!==s&&(r[s]=n[s])}var l=t(i,r);return a.push.apply(a,ea(l.ast)),l.errors=a,l.tips=o,l}return{compile:i,compileToFunctions:la(i)}}}(function(t,e){var i=Gn(t.trim(),e);br(i,e);var n=jr(i,e);return{ast:i,render:n.render,staticRenderFns:n.staticRenderFns}}),Mc=Ac(pc),Oc=Mc.compileToFunctions,Ec=!!Oa&&ca(!1),$c=!!Oa&&ca(!0),jc=g(function(t){var e=Ze(t);return e&&e.innerHTML}),Dc=De.prototype.$mount;return De.prototype.$mount=function(t,e){if((t=t&&Ze(t))===document.body||t===document.documentElement)return Ua("Do not mount Vue to <html> or <body> - mount to normal elements instead."),this;var i=this.$options;if(!i.render){var n=i.template;if(n)if("string"==typeof n)"#"===n.charAt(0)&&((n=jc(n))||Ua("Template element not found or is empty: "+i.template,this));else{if(!n.nodeType)return Ua("invalid template option:"+n,this),this;n=n.innerHTML}else t&&(n=ua(t));if(n){Sa.performance&&xo&&xo("compile");var r=Oc(n,{shouldDecodeNewlines:Ec,shouldDecodeNewlinesForHref:$c,delimiters:i.delimiters,comments:i.comments},this),a=r.render,o=r.staticRenderFns;i.render=a,i.staticRenderFns=o,Sa.performance&&xo&&(xo("compile end"),ko("vue "+this._name+" compile","compile","compile end"))}}return Dc.call(this,t,e)},De.compile=Oc,De})}).call(e,i(62))},function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0});var n=t.Model.extend({defaults:{activate:!1}}),r=t.Collection.extend({model:n}),a=t.View.extend({el:"#webhook-view",initialize:function(t){var e=this,i=t.toolId||"",r=t.toolVersion||"";this.$el.attr("tool_id",i),this.$el.attr("tool_version",r),this.model=new n,this.model.urlRoot=t.urlRoot,this.model.fetch({success:function(){e.render()}})},render:function(){var t=this.model.toJSON();return this.$el.html('<div id="'+t.name+'"></div>'),t.styles&&i("<style/>",{type:"text/css"}).text(t.styles).appendTo("head"),t.script&&i("<script/>",{type:"text/javascript"}).text(t.script).appendTo("head"),this}}),o=function(t){var e=new r;e.url=Galaxy.root+t.url,e.fetch({async:!t.async||t.async,success:t.callback})};e.default={Webhooks:r,WebhookView:a,add:o}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),s=(a(o),i(69)),l=(a(s),i(70)),c=a(l),u=t.Model.extend({}),h=t.Model.extend({defaults:{id:"",type:"",name:"",hda_ldda:"hda",metadata:null},initialize:function(){this.get("metadata")||this._set_metadata(),this.on("change",this._set_metadata,this)},_set_metadata:function(){var t=new u;n.each(n.keys(this.attributes),function(e){if(0===e.indexOf("metadata_")){var i=e.split("metadata_")[1];t.set(i,this.attributes[e]),delete this.attributes[e]}},this),this.set("metadata",t,{silent:!0})},get_metadata:function(t){return this.attributes.metadata.get(t)},urlRoot:Galaxy.root+"api/datasets"}),d=h.extend({defaults:n.extend({},h.prototype.defaults,{chunk_url:null,first_data_chunk:null,offset:0,at_eof:!1}),initialize:function(t){h.prototype.initialize.call(this),this.attributes.first_data_chunk&&(this.attributes.offset=this.attributes.first_data_chunk.offset),this.attributes.chunk_url=Galaxy.root+"dataset/display?dataset_id="+this.id,this.attributes.url_viz=Galaxy.root+"visualization"},get_next_chunk:function(){if(this.attributes.at_eof)return null;var t=this,e=r.Deferred();return r.getJSON(this.attributes.chunk_url,{offset:t.attributes.offset}).success(function(i){var n;""!==i.ck_data?(n=i,t.attributes.offset=i.offset):(t.attributes.at_eof=!0,n=null),e.resolve(n)}),e}}),f=t.Collection.extend({model:h}),p=t.View.extend({initialize:function(t){this.row_count=0,this.loading_chunk=!1,new v({model:t.model,$el:this.$el})},expand_to_container:function(){this.$el.height()<this.scroll_elt.height()&&this.attempt_to_fetch()},attempt_to_fetch:function(t){var e=this;!this.loading_chunk&&this.scrolled_to_bottom()&&(this.loading_chunk=!0,this.loading_indicator.show(),r.when(e.model.get_next_chunk()).then(function(t){t&&(e._renderChunk(t),e.loading_chunk=!1),e.loading_indicator.hide(),e.expand_to_container()}))},render:function(){this.loading_indicator=r("<div/>").attr("id","loading_indicator"),this.$el.append(this.loading_indicator);var t=r("<table/>").attr({id:"content_table",cellpadding:0});this.$el.append(t);var e=this.model.get_metadata("column_names"),i=r("<thead/>").appendTo(t),n=r("<tr/>").appendTo(i);if(e)n.append("<th>"+e.join("</th><th>")+"</th>");else for(var a=1;a<=this.model.get_metadata("columns");a++)n.append("<th>"+a+"</th>");var o=this,s=this.model.get("first_data_chunk");s?this._renderChunk(s):r.when(o.model.get_next_chunk()).then(function(t){o._renderChunk(t)}),this.scroll_elt.scroll(function(){o.attempt_to_fetch()})},scrolled_to_bottom:function(){return!1},_renderCell:function(t,e,i){var n=r("<td>").text(t),a=this.model.get_metadata("column_types");return void 0!==i?n.attr("colspan",i).addClass("stringalign"):a&&e<a.length&&("str"!==a[e]&&"list"!==a[e]||n.addClass("stringalign")),n},_renderRow:function(t){var e=t.split("\t"),i=r("<tr>"),a=this.model.get_metadata("columns");return this.row_count%2!=0&&i.addClass("dark_row"),e.length===a?n.each(e,function(t,e){i.append(this._renderCell(t,e))},this):e.length>a?(n.each(e.slice(0,a-1),function(t,e){i.append(this._renderCell(t,e))},this),i.append(this._renderCell(e.slice(a-1).join("\t"),a-1))):1===e.length?i.append(this._renderCell(t,0,a)):(n.each(e,function(t,e){i.append(this._renderCell(t,e))},this),n.each(n.range(a-e.length),function(){i.append(r("<td>"))})),this.row_count++,i},_renderChunk:function(t){var e=this.$el.find("table");n.each(t.ck_data.split("\n"),function(t,i){""!==t&&e.append(this._renderRow(t))},this)}}),m=p.extend({initialize:function(t){p.prototype.initialize.call(this,t);var e=n.find(this.$el.parents(),function(t){return"auto"===r(t).css("overflow")});e||(e=window),this.scroll_elt=r(e)},scrolled_to_bottom:function(){return this.$el.height()-this.scroll_elt.scrollTop()-this.scroll_elt.height()<=0}}),g=p.extend({initialize:function(t){p.prototype.initialize.call(this,t),this.scroll_elt=this.$el.css({position:"relative",overflow:"scroll",height:t.height||"500px"})},scrolled_to_bottom:function(){return this.$el.scrollTop()+this.$el.innerHeight()>=this.el.scrollHeight}}),v=t.View.extend({col:{chrom:null,start:null,end:null},url_viz:null,dataset_id:null,genome_build:null,file_ext:null,initialize:function(t){var e=parent.Galaxy;if(e&&e.modal&&(this.modal=e.modal),e&&e.frame&&(this.frame=e.frame),this.modal&&this.frame){var i=t.model,n=i.get("metadata");if(i.get("file_ext")){if(this.file_ext=i.get("file_ext"),"bed"==this.file_ext){if(!(n.get("chromCol")&&n.get("startCol")&&n.get("endCol")))return void console.log("TabularButtonTrackster : Bed-file metadata incomplete.");this.col.chrom=n.get("chromCol")-1,this.col.start=n.get("startCol")-1,this.col.end=n.get("endCol")-1}if("vcf"==this.file_ext){var r=function(t,e){for(var i=0;i<e.length;i++)if(e[i].match(t))return i;return-1};if(this.col.chrom=r("Chrom",n.get("column_names")),this.col.start=r("Pos",n.get("column_names")),this.col.end=null,-1==this.col.chrom||-1==this.col.start)return void console.log("TabularButtonTrackster : VCF-file metadata incomplete.")}if(void 0!==this.col.chrom){if(!i.id)return void console.log("TabularButtonTrackster : Dataset identification is missing.");if(this.dataset_id=i.id,!i.get("url_viz"))return void console.log("TabularButtonTrackster : Url for visualization controller is missing.");this.url_viz=i.get("url_viz"),i.get("genome_build")&&(this.genome_build=i.get("genome_build"));var a=new c.default.IconButtonView({model:new c.default.IconButton({title:"Visualize",icon_class:"chart_curve",id:"btn_viz"})});this.setElement(t.$el),this.$el.append(a.render().$el),this.hide()}}}},events:{"mouseover tr":"show",mouseleave:"hide"},show:function(t){var e=this;if(null!==this.col.chrom){var i=r(t.target).parent(),n=i.children().eq(this.col.chrom).html(),a=i.children().eq(this.col.start).html(),o=this.col.end?i.children().eq(this.col.end).html():a;if(!n.match("^#")&&""!==n&&function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(a)){var s={dataset_id:this.dataset_id,gene_region:n+":"+a+"-"+o},l=i.offset(),c=l.left-10,u=l.top-r(window).scrollTop()+3;r("#btn_viz").css({position:"fixed",top:u+"px",left:c+"px"}),r("#btn_viz").off("click"),r("#btn_viz").click(function(){e.frame.add({title:"Trackster",url:e.url_viz+"/trackster?"+r.param(s)})}),r("#btn_viz").show()}else r("#btn_viz").hide()}},hide:function(){this.$("#btn_viz").hide()}}),_=function(t){t.model||(t.model=new d(t.dataset_config));var e=t.parent_elt,i=t.embedded;delete t.embedded,delete t.parent_elt,delete t.dataset_config;var n=i?new g(t):new m(t);return n.render(),e&&(e.append(n.$el),n.expand_to_container()),n};e.default={Dataset:h,TabularDataset:d,DatasetCollection:f,TabularDatasetChunkedView:p,createTabularDatasetChunkedView:_}}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=i(22),l=r(s),c=i(24),u=r(c),h=i(30),d=r(h),f=i(14),p=r(f),m=i(32),g=r(m),v=i(6),_=(r(v),{toJSON:function(){var t=this,e={};return o.each(t.constructor.to_json_keys,function(i){var n=t.get(i);i in t.constructor.to_json_mappers&&(n=t.constructor.to_json_mappers[i](n,t)),e[i]=n}),e}}),y=function(e,i){var n=new p.default({url_base:Galaxy.root+"visualization/list_history_datasets",filters:e,dict_format:!0,embedded:!0}),r=new p.default({url_base:Galaxy.root+"visualization/list_library_datasets",dict_format:!0,embedded:!0}),a=new g.default.View;a.add({id:"histories",title:"Histories",$el:t("<div/>").append(n.$el)}),a.add({id:"libraries",title:"Libraries",$el:t("<div/>").append(r.$el)}),Galaxy.modal.show({title:"Select datasets for new tracks",body:a.$el,closing_events:!0,buttons:{Cancel:function(){Galaxy.modal.hide()},Add:function(){var e=[];a.$("input.grid-row-select-checkbox[name=id]:checked").each(function(){window.console.log(t(this).val()),e[e.length]=t.ajax({url:Galaxy.root+"api/datasets/"+t(this).val(),dataType:"json",data:{data_type:"track_config",hda_ldda:"histories"==a.current()?"hda":"ldda"}})}),t.when.apply(t,e).then(function(){var e=arguments[0]instanceof Array?t.map(arguments,function(t){return t[0]}):[arguments[0]];i(e)}),Galaxy.modal.hide()}}})},b=function(t){this.default_font=void 0!==t?t:"9px Monaco, Lucida Console, monospace",this.dummy_canvas=this.new_canvas(),this.dummy_context=this.dummy_canvas.getContext("2d"),this.dummy_context.font=this.default_font,this.char_width_px=this.dummy_context.measureText("A").width,this.patterns={},this.load_pattern("right_strand","/visualization/strand_right.png"),this.load_pattern("left_strand","/visualization/strand_left.png"),this.load_pattern("right_strand_inv","/visualization/strand_right_inv.png"),this.load_pattern("left_strand_inv","/visualization/strand_left_inv.png")};o.extend(b.prototype,{load_pattern:function(t,e){var i=this.patterns,n=this.dummy_context,r=new Image;r.src=Galaxy.root+"static/images"+e,r.onload=function(){i[t]=n.createPattern(r,"repeat")}},get_pattern:function(t){return this.patterns[t]},new_canvas:function(){var e=t("<canvas/>")[0];return e.manager=this,e}});var w=n.Model.extend({defaults:{num_elements:20,obj_cache:null,key_ary:null},initialize:function(t){this.clear()},get_elt:function(t){var e=this.attributes.obj_cache,i=this.attributes.key_ary,n=t.toString(),r=o.indexOf(i,function(t){return t.toString()===n});return-1!==r&&(e[n].stale?(i.splice(r,1),delete e[n]):this.move_key_to_end(t,r)),e[n]},set_elt:function(t,e){var i=this.attributes.obj_cache,n=this.attributes.key_ary,r=t.toString(),a=this.attributes.num_elements;if(!i[r]){if(n.length>=a){delete i[n.shift().toString()]}n.push(t)}return i[r]=e,e},move_key_to_end:function(t,e){this.attributes.key_ary.splice(e,1),this.attributes.key_ary.push(t)},clear:function(){this.attributes.obj_cache={},this.attributes.key_ary=[]},size:function(){return this.attributes.key_ary.length},most_recently_added:function(){return 0===this.size()?null:this.attributes.key_ary[this.attributes.key_ary.length-1]}}),x=w.extend({defaults:o.extend({},w.prototype.defaults,{dataset:null,genome:null,init_data:null,min_region_size:200,filters_manager:null,data_type:"data",data_mode_compatible:function(t,e){return!0},can_subset:function(t){return!1}}),initialize:function(t){w.prototype.initialize.call(this);var e=this.get("init_data");e&&this.add_data(e)},add_data:function(t){this.get("num_elements")<t.length&&this.set("num_elements",t.length);var e=this;o.each(t,function(t){e.set_data(t.region,t)})},data_is_ready:function(){var e=this.get("dataset"),i=t.Deferred(),n="raw_data"===this.get("data_type")?"state":"data"===this.get("data_type")?"converted_datasets_state":"error",r=new u.default.ServerStateDeferred({ajax_settings:{url:this.get("dataset").url(),data:{hda_ldda:e.get("hda_ldda"),data_type:n},dataType:"json"},interval:5e3,success_fn:function(t){return"pending"!==t}});return t.when(r.go()).then(function(t){i.resolve("ok"===t||"data"===t)}),i},search_features:function(e){var i=this.get("dataset"),n={query:e,hda_ldda:i.get("hda_ldda"),data_type:"features"};return t.getJSON(i.url(),n)},load_data:function(e,i,n,r){var a=this.get("dataset"),o={data_type:this.get("data_type"),chrom:e.get("chrom"),low:e.get("start"),high:e.get("end"),mode:i,resolution:n,hda_ldda:a.get("hda_ldda")};t.extend(o,r);var s=this.get("filters_manager");if(s){for(var l=[],c=s.filters,u=0;u<c.length;u++)l.push(c[u].name);o.filter_cols=JSON.stringify(l)}var h=this,d=t.getJSON(a.url(),o,function(t){t.region=e,h.set_data(e,t)});return this.set_data(e,d),d},get_data:function(t,e,i,n){var r=this.get_elt(t);if(r&&(u.default.is_deferred(r)||this.get("data_mode_compatible")(r,e)))return r;for(var a,o,s=this.get("key_ary"),l=this.get("obj_cache"),c=0;c<s.length;c++)if(a=s[c],a.contains(t)&&(o=!0,r=l[a.toString()],u.default.is_deferred(r)||this.get("data_mode_compatible")(r,e)&&this.get("can_subset")(r))){if(this.move_key_to_end(a,c),!u.default.is_deferred(r)){var h=this.subset_entry(r,t);this.set_data(t,h),r=h}return r}if(!o&&t.length()<this.attributes.min_region_size){t=t.copy();var d=this.most_recently_added();!d||t.get("start")>d.get("start")?t.set("end",t.get("start")+this.attributes.min_region_size):t.set("start",t.get("end")-this.attributes.min_region_size),t.set("genome",this.attributes.genome),t.trim()}return this.load_data(t,e,i,n)},set_data:function(t,e){this.set_elt(t,e)},DEEP_DATA_REQ:"deep",BROAD_DATA_REQ:"breadth",get_more_data:function(e,i,n,r,a){var o=this._mark_stale(e);if(!o||!this.get("data_mode_compatible")(o,i))return void console.log("ERROR: problem with getting more data: current data is not compatible");var s=e.get("start");a===this.DEEP_DATA_REQ?t.extend(r,{start_val:o.data.length+1}):a===this.BROAD_DATA_REQ&&(s=(o.max_high?o.max_high:o.data[o.data.length-1][2])+1);var l=e.copy().set("start",s),c=this,u=this.load_data(l,i,n,r),h=t.Deferred();return this.set_data(e,h),t.when(u).then(function(t){t.data&&(t.data=o.data.concat(t.data),t.max_low&&(t.max_low=o.max_low),t.message&&(t.message=t.message.replace(/[0-9]+/,t.data.length))),c.set_data(e,t),h.resolve(t)}),h},can_get_more_detailed_data:function(t){var e=this.get_elt(t);return"bigwig"===e.dataset_type&&e.data.length<8e3},get_more_detailed_data:function(t,e,i,n,r){var a=this._mark_stale(t);return a?(r||(r={}),"bigwig"===a.dataset_type&&(r.num_samples=1e3*n),this.load_data(t,e,i,r)):void console.log("ERROR getting more detailed data: no current data")},_mark_stale:function(t){var e=this.get_elt(t);return e||console.log("ERROR: no data to mark as stale: ",this.get("dataset"),t.toString()),e.stale=!0,e},get_genome_wide_data:function(e){var i=this,n=!0,r=o.map(e.get("chroms_info").chrom_info,function(t){var e=i.get_elt(new S({chrom:t.chrom,start:0,end:t.len}));return e||(n=!1),e});if(n)return r;var a=t.Deferred();return t.getJSON(this.get("dataset").url(),{data_type:"genome_data"},function(t){i.add_data(t.data),a.resolve(t.data)}),a},subset_entry:function(t,e){var i={bigwig:function(t,e){return o.filter(t,function(t){return t[0]>=e.get("start")&&t[0]<=e.get("end")})},refseq:function(e,i){var n=i.get("start")-t.region.get("start");return t.data.slice(n,n+i.length())}},n=t.data;return!t.region.same(e)&&t.dataset_type in i&&(n=i[t.dataset_type](t.data,e)),{region:e,data:n,dataset_type:t.dataset_type}}}),k=x.extend({initialize:function(t){var e=new n.Model;e.urlRoot=t.data_url,this.set("dataset",e)},load_data:function(t,e,i,n){return t.length()<=1e5?x.prototype.load_data.call(this,t,e,i,n):{data:null,region:t}}}),C=n.Model.extend({defaults:{name:null,key:null,chroms_info:null},initialize:function(t){this.id=t.dbkey},get_chroms_info:function(){return this.attributes.chroms_info.chrom_info},get_chrom_region:function(t){var e=o.find(this.get_chroms_info(),function(e){return e.chrom===t});return new S({chrom:e.chrom,end:e.len})},get_chrom_len:function(t){return o.find(this.get_chroms_info(),function(e){return e.chrom===t}).len}}),S=n.Model.extend({defaults:{chrom:null,start:0,end:0,str_val:null,genome:null},same:function(t){return this.attributes.chrom===t.get("chrom")&&this.attributes.start===t.get("start")&&this.attributes.end===t.get("end")},initialize:function(t){if(t.from_str){var e=t.from_str.split(":"),i=e[0],n=e[1].split("-");this.set({chrom:i,start:parseInt(n[0],10),end:parseInt(n[1],10)})}this.attributes.str_val=this.get("chrom")+":"+this.get("start")+"-"+this.get("end"),this.on("change",function(){this.attributes.str_val=this.get("chrom")+":"+this.get("start")+"-"+this.get("end")},this)},copy:function(){return new S({chrom:this.get("chrom"),start:this.get("start"),end:this.get("end")})},length:function(){return this.get("end")-this.get("start")},toString:function(){return this.attributes.str_val},toJSON:function(){return{chrom:this.get("chrom"),start:this.get("start"),end:this.get("end")}},compute_overlap:function(t){var e=this.get("chrom"),i=t.get("chrom"),n=this.get("start"),r=t.get("start"),a=this.get("end"),o=t.get("end");return e&&i&&e!==i?S.overlap_results.DIF_CHROMS:n<r?a<r?S.overlap_results.BEFORE:a<o?S.overlap_results.OVERLAP_START:S.overlap_results.CONTAINS:n>r?n>o?S.overlap_results.AFTER:a<=o?S.overlap_results.CONTAINED_BY:S.overlap_results.OVERLAP_END:a>=o?S.overlap_results.CONTAINS:S.overlap_results.CONTAINED_BY},trim:function(t){if(this.attributes.start<0&&(this.attributes.start=0),this.attributes.genome){var e=this.attributes.genome.get_chrom_len(this.attributes.chrom);this.attributes.end>e&&(this.attributes.end=e-1)}return this},contains:function(t){return this.compute_overlap(t)===S.overlap_results.CONTAINS},overlaps:function(t){return 0===o.intersection([this.compute_overlap(t)],[S.overlap_results.DIF_CHROMS,S.overlap_results.BEFORE,S.overlap_results.AFTER]).length}},{overlap_results:{DIF_CHROMS:1e3,BEFORE:1001,CONTAINS:1002,OVERLAP_START:1003,OVERLAP_END:1004,CONTAINED_BY:1005,AFTER:1006}}),T=n.Collection.extend({model:S}),A=n.Model.extend({defaults:{region:null,note:""},initialize:function(t){this.set("region",new S(t.region))}}),M=n.Collection.extend({model:A}),O=n.Model.extend(_).extend({defaults:{mode:"Auto"},initialize:function(t){this.set("dataset",new l.default.Dataset(t.dataset));var e=[{key:"name",default_value:this.get("dataset").get("name")},{key:"color"},{key:"min_value",label:"Min Value",type:"float",default_value:0},{key:"max_value",label:"Max Value",type:"float",default_value:1}];this.set("config",d.default.ConfigSettingCollection.from_models_and_saved_values(e,t.prefs));var i=this.get("preloaded_data");i=i?i.data:[],this.set("data_manager",new x({dataset:this.get("dataset"),init_data:i}))}},{to_json_keys:["track_type","dataset","prefs","mode","filters","tool_state"],to_json_mappers:{prefs:function(t,e){return 0===o.size(t)&&(t={name:e.get("config").get("name").get("value"),color:e.get("config").get("color").get("value")}),t},dataset:function(t){return{id:t.id,hda_ldda:t.get("hda_ldda")}}}}),E=n.Collection.extend({model:O}),$=n.Model.extend({defaults:{title:"",type:""},urlRoot:Galaxy.root+"api/visualizations",save:function(){return t.ajax({url:this.url(),type:"POST",dataType:"json",data:{vis_json:JSON.stringify(this)}})}}),j=$.extend(_).extend({defaults:o.extend({},$.prototype.defaults,{dbkey:"",drawables:null,bookmarks:null,viewport:null}),initialize:function(t){this.set("drawables",new E(t.tracks));var e=[];this.set("config",d.default.ConfigSettingCollection.from_models_and_saved_values(e,t.prefs)),this.unset("tracks"),this.get("drawables").each(function(t){t.unset("preloaded_data")})},add_tracks:function(t){this.get("drawables").add(t)}},{to_json_keys:["view","viewport","bookmarks"],to_json_mappers:{view:function(t,e){return{obj_type:"View",prefs:{name:e.get("title"),content_visible:!0},drawables:e.get("drawables")}}}}),D=n.Router.extend({initialize:function(t){this.view=t.view,this.route(/([\w]+)$/,"change_location"),this.route(/([\w\+]+\:[\d,]+-[\d,]+)$/,"change_location");var e=this;e.view.on("navigate",function(t){e.navigate(t)})},change_location:function(t){this.view.go_to(t)}});e.default={BackboneTrack:O,BrowserBookmark:A,BrowserBookmarkCollection:M,Cache:w,CanvasManager:b,Genome:C,GenomeDataManager:x,GenomeRegion:S,GenomeRegionCollection:T,GenomeVisualization:j,GenomeReferenceDataManager:k,TrackBrowserRouter:D,Visualization:$,select_datasets:y}}).call(e,i(0),i(2))},function(t,e,i){"use strict";(function(t,i){function n(t){t+="";for(var e=/(\d+)(\d{3})/;e.test(t);)t=t.replace(e,"$1,$2");return t}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return"promise"in t},a=t.Model.extend({defaults:{ajax_settings:{},interval:1e3,success_fn:function(t){return!0}},go:function(){var t=i.Deferred(),e=this,n=e.get("ajax_settings"),r=e.get("success_fn"),a=e.get("interval");return function e(){i.ajax(n).success(function(i){r(i)?t.resolve(i):setTimeout(e,a)})}(),t}}),o=function(t){t||(t="#ffffff"),"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)t[e]=parseInt(t[e].slice(1),16);var i,n,r,a,o,s,l,c,u,h,d,f=function(t,e,i){return(299*t+587*e+114*i)/1e3},p=!1,m=0;do{for(i=Math.round(16777215*Math.random()),n=(16711680&i)>>16,r=(65280&i)>>8,a=255&i,u=f(n,r,a),p=!0,e=0;e<t.length;e++)if(o=t[e],s=(16711680&o)>>16,l=(65280&o)>>8,c=255&o,h=f(s,l,c),d=function(t,e,i,n,r,a){return Math.max(t,n)-Math.min(t,n)+(Math.max(e,r)-Math.min(e,r))+(Math.max(i,a)-Math.min(i,a))}(n,r,a,s,l,c),Math.abs(u-h)<40||d<200){p=!1;break}m++}while(!p&&m<=10);return"#"+(16777216+i).toString(16).substr(1,6)};e.default={commatize:n,is_deferred:r,ServerStateDeferred:a,get_random_color:o}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(6),c=a(l),u=t.View.extend({visible:!1,initialize:function(e){var i=this;this.model=e&&e.model||new t.Model({id:s.default.uid(),cls:"ui-portlet",title:"",icon:"",buttons:null,body:null,scrollable:!0,nopadding:!1,operations:null,collapsible:!1,collapsible_button:!1,collapsed:!1,onchange_title:null}).set(e),this.setElement(this._template()),this.$body=this.$(".portlet-body"),this.$title_text=this.$(".portlet-title-text"),this.$title_icon=this.$(".portlet-title-icon"),this.$header=this.$(".portlet-header"),this.$content=this.$(".portlet-content"),this.$backdrop=this.$(".portlet-backdrop"),this.$buttons=this.$(".portlet-buttons"),this.$operations=this.$(".portlet-operations"),this.model.get("body")&&this.append(this.model.get("body")),this.collapsible_button=new c.default.ButtonIcon({icon:"fa-eye",tooltip:"Collapse/Expand",cls:"ui-button-icon-plain",onclick:function(){i[i.collapsed?"expand":"collapse"]()}}),this.render()},render:function(){var t=this,e=this.model.attributes;return this.$el.removeClass().addClass(e.cls).attr("id",e.id),this.$header[e.title?"show":"hide"](),this.$title_text.html(e.title),n.each([this.$content,this.$body],function(t){t[e.nopadding?"addClass":"removeClass"]("no-padding")}),e.icon?this.$title_icon.removeClass().addClass("portlet-title-icon fa").addClass(e.icon).show():this.$title_icon.hide(),this.$title_text[e.collapsible?"addClass":"removeClass"]("no-highlight collapsible").off(),e.collapsible&&(this.$title_text.on("click",function(){t[t.collapsed?"expand":"collapse"]()}),e.collapsed?this.collapse():this.expand()),this.$title_text.prop("disabled",!e.onchange_title),e.onchange_title&&this.$title_text.make_text_editable({on_finish:function(t){e.onchange_title(t)}}),e.buttons?(this.$buttons.empty().show(),r.each(this.model.get("buttons"),function(e,i){i.$el.prop("id",e),t.$buttons.append(i.$el)})):this.$buttons.hide(),this.$operations.empty,e.collapsible_button&&this.$operations.append(this.collapsible_button.$el),e.operations&&r.each(e.operations,function(e,i){i.$el.prop("id",e),t.$operations.append(i.$el)}),this},append:function(t){this.$body.append(t)},empty:function(){this.$body.empty()},header:function(){return this.$header},body:function(){return this.$body},show:function(){this.visible=!0,this.$el.fadeIn("fast")},hide:function(){this.visible=!1,this.$el.hide()},enableButton:function(t){this.$buttons.find("#"+t).prop("disabled",!1)},disableButton:function(t){this.$buttons.find("#"+t).prop("disabled",!0)},hideOperation:function(t){this.$operations.find("#"+t).hide()},showOperation:function(t){this.$operations.find("#"+t).show()},setOperation:function(t,e){this.$operations.find("#"+t).off("click").on("click",e)},title:function(t){return t&&this.$title_text.html(t),this.$title_text.html()},collapse:function(){this.collapsed=!0,this.$content.height("0%"),this.$body.hide(),this.collapsible_button.setIcon("fa-eye-slash")},expand:function(){this.collapsed=!1,this.$content.height("100%"),this.$body.fadeIn("fast"),this.collapsible_button.setIcon("fa-eye")},disable:function(){this.$backdrop.show()},enable:function(){this.$backdrop.hide()},_template:function(){return r("<div/>").append(r("<div/>").addClass("portlet-header").append(r("<div/>").addClass("portlet-operations")).append(r("<div/>").addClass("portlet-title").append(r("<i/>").addClass("portlet-title-icon")).append(r("<span/>").addClass("portlet-title-text")))).append(r("<div/>").addClass("portlet-content").append(r("<div/>").addClass("portlet-body")).append(r("<div/>").addClass("portlet-buttons"))).append(r("<div/>").addClass("portlet-backdrop"))}});e.default={View:u}}).call(e,i(2),i(1),i(0))},,function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(1),s=n(o),l=i(2),c=n(l),u=160,h=800,d=c.View.extend({initialize:function(t){this.view=t.view,this.hidden=!1,this.saved_size=null,this.hiddenByTool=!1},$center:function(){return this.$el.siblings("#center")},$toggleButton:function(){return this.$(".unified-panel-footer > .panel-collapse")},render:function(){var t=this,e=this.view,i=this.view.model.attributes||{};this.$el.html(this._templatePanel(this.id)),s.each(i.buttons,function(e){t.$(".panel-header-buttons").append(e.$el)}),this.$el.addClass(i.cls),this.$(".panel-header-text").html(s.escape(i.title)),this.$(".unified-panel-body").append(e.$el),e.render()},_templatePanel:function(){return[this._templateHeader(),this._templateBody(),this._templateFooter()].join("")},_templateHeader:function(t){return['<div class="unified-panel-header" unselectable="on">','<div class="unified-panel-header-inner">','<div class="panel-header-buttons" style="float: right"/>','<div class="panel-header-text"/>',"</div>","</div>"].join("")},_templateBody:function(t){return'<div class="unified-panel-body"/>'},_templateFooter:function(t){return['<div class="unified-panel-footer">','<div class="panel-collapse ',s.escape(this.id),'"/>','<div class="drag"/>',"</div>"].join("")},events:{"mousedown .unified-panel-footer > .drag":"_mousedownDragHandler","click .unified-panel-footer > .panel-collapse":"toggle"},_mousedownDragHandler:function(t){function e(t){var e=t.pageX-r;r=t.pageX;var a=i.$el.width(),o=n?a+e:a-e;o=Math.min(h,Math.max(u,o)),i.resize(o)}var i=this,n="left"===this.id,r=t.pageX;(0,a.default)("#dd-helper").show().on("mousemove",e).one("mouseup",function(t){(0,a.default)(this).hide().off("mousemove",e)})},resize:function(t){return this.$el.css("width",t),this.$center().css(this.id,t),this},show:function(){if(this.hidden){var t=this,e={},i=this.id;return e[i]=0,t.$el.css(i,-this.saved_size).show().animate(e,"fast",function(){t.resize(t.saved_size)}),t.hidden=!1,t.$toggleButton().removeClass("hidden"),this}},hide:function(){if(!this.hidden){var t={},e=this.id;return this.saved_size=this.$el.width(),t[e]=-this.saved_size,this.$el.animate(t,"fast"),this.$center().css(e,0),this.hidden=!0,this.$toggleButton().addClass("hidden"),this}},toggle:function(t){return this.hidden?this.show():this.hide(),this.hiddenByTool=!1,this},handle_minwidth_hint:function(t){return this.$center().width()-(this.hidden?this.saved_size:0)<t?this.hidden||(this.toggle(),this.hiddenByTool=!0):this.hiddenByTool&&(this.toggle(),this.hiddenByTool=!1),self},force_panel:function(t){return"show"==t?this.show():"hide"==t?this.hide():self},toString:function(){return"SidePanel("+this.id+")"}}),f=d.extend({id:"left"}),p=d.extend({id:"right"}),m=c.View.extend({initialize:function(t){this.setElement((0,a.default)(this.template())),this.$frame=this.$(".center-frame"),this.$panel=this.$(".center-panel"),this.$frame.on("load",s.bind(this._iframeChangeHandler,this))},_iframeChangeHandler:function(t){var e=t.currentTarget,i=e.contentWindow&&e.contentWindow.location;i&&i.host&&((0,a.default)(e).show(),this.$panel.empty().hide(),Galaxy.trigger("center-frame:load",{fullpath:i.pathname+i.search+i.hash,pathname:i.pathname,search:i.search,hash:i.hash}))},display:function(t){var e=this.$frame[0].contentWindow||{},i=e.onbeforeunload&&e.onbeforeunload();i&&!confirm(i)||(e.onbeforeunload=void 0,this.$frame.attr("src","about:blank").hide(),this.$panel.empty().scrollTop(0).append(t.$el||t).show(),Galaxy.trigger("center-panel:load",t))},template:function(){return'<div class="center-container"><iframe id="galaxy_main" name="galaxy_main" frameborder="0" class="center-frame" /><div class="center-panel" /></div>'},toString:function(){return"CenterPanel"}});e.default={SidePanel:d,LeftPanel:f,RightPanel:p,CenterPanel:m}},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function a(t,e){return this._init(t||{},e||{})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),s=r(o),l=i(2),c=r(l),u=i(5),h=n(u),d=i(68),f=n(d),p=i(129),m=n(p),g=i(67),v=n(g),_=i(4),y=n(_);(0,v.default)(a,"GalaxyApp");var b="galaxy:debug:namespaces",w=!1;try{w="true"==localStorage.getItem("galaxy:debug")}catch(t){console.log((0,y.default)("localStorage not available for debug flag retrieval"))}a.prototype._init=function(t,e){var i=this;return s.extend(i,c.Events),w&&(i.logger=console,console.debug("debugging galaxy:","options:",t,"bootstrapped:",e)),i._processOptions(t),i.root=t.root||"/",i.params=t.params||{},i.session_csrf_token=t.session_csrf_token||null,i._initConfig(t.config||{}),i._patchGalaxy(window.Galaxy),i._initLogger(i.options.loggerOptions||{}),i.debug("GalaxyApp.options: ",i.options),i.debug("GalaxyApp.config: ",i.config),i.debug("GalaxyApp.logger: ",i.logger),i._initLocale(),i.debug("GalaxyApp.localize: ",i.localize),i.config=t.config||{},i.debug("GalaxyApp.config: ",i.config),i._initUser(t.user||{}),i.debug("GalaxyApp.user: ",i.user),i._setUpListeners(),i.trigger("ready",i),i},a.prototype.defaultOptions={patchExisting:!0,root:"/",session_csrf_token:null},a.prototype._processOptions=function(t){var e=this,i=e.defaultOptions;e.options={};for(var n in i)i.hasOwnProperty(n)&&(e.options[n]=t.hasOwnProperty(n)?t[n]:i[n]);return e},a.prototype._initConfig=function(t){var e=this;return e.config=t,e.config.debug=w||e.config.debug,e},a.prototype._patchGalaxy=function(t){var e=this;if(e.options.patchExisting&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},a.prototype._initLogger=function(t){var e=this;if(e.config.debug){t.consoleLogger=t.consoleLogger||console,t.consoleLevel=t.consoleLevel||m.default.MetricsLogger.ALL;try{t.consoleNamespaceWhitelist=localStorage.getItem(b).split(",")}catch(t){}try{t.consoleFlattenMessages="true"==localStorage.getItem("galaxy:debug:flatten")}catch(t){}console.log(t.consoleFlattenMessages)}return e.logger=new m.default.MetricsLogger(t),e.emit={},["log","debug","info","warn","error","metric"].map(function(t){e.emit[t]=function(i){e.logger.emit(t,arguments[0],Array.prototype.slice.call(arguments,1))}}),e.config.debug&&(h.default.LoggableMixin.logger=e.logger),e},a.prototype._initLocale=function(t){var e=this;return e.debug("_initLocale:",t),e.localize=y.default,window._l=e.localize,e},a.prototype._initUser=function(t){var e=this;return e.debug("_initUser:",t),e.user=new f.default.User(t),e.user.logger=e.logger,e},a.prototype._setUpListeners=function(){var e=this;return e.lastAjax={},t(document).bind("ajaxSend",function(t,i,n){var r=n.data;try{r=JSON.parse(r)}catch(t){}e.lastAjax={url:location.href.slice(0,-1)+n.url,data:r}}),e},a.prototype.debugging=function(t){var e=this;try{if(void 0===t)return"true"===localStorage.getItem("galaxy:debug");if(t)return localStorage.setItem("galaxy:debug",!0),!0;localStorage.removeItem("galaxy:debug"),e.debuggingNamespaces(null)}catch(t){console.log((0,y.default)("localStorage not available for debug flag retrieval"))}return!1},a.prototype.debuggingNamespaces=function(t){var e=this;try{if(void 0===t){var i=localStorage.getItem(b);return"string"==typeof i?i.split(","):[]}null===t?localStorage.removeItem(b):localStorage.setItem(b,t);var n=e.debuggingNamespaces();return e.logger&&(e.logger.options.consoleNamespaceWhitelist=n),n}catch(t){console.log((0,y.default)("localStorage not available for debug namespace retrieval"))}},a.prototype.toString=function(){return"GalaxyApp("+(this.user?this.user.get("email")||"(anonymous)":"uninitialized")+")"},e.default={GalaxyApp:a}}).call(e,i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(130),s=a(o),l=i(27),c=a(l),u=i(8),h=a(u),d=i(3),f=a(d),p=t.View.extend({el:"body",className:"full-content",_panelids:["left","right"],initialize:function(e){var i=this;this.config=n.defaults(e.config||{},{message_box_visible:!1,message_box_content:"",message_box_class:"info",show_inactivity_warning:!1,inactivity_box_content:""}),Galaxy.modal=this.modal=new h.default.View,Galaxy.display=this.display=function(t){t.title?(f.default.setWindowTitle(t.title),t.allow_title_display=!1):(f.default.setWindowTitle(),t.allow_title_display=!0),i.center.display(t)},Galaxy.router=this.router=e.Router&&new e.Router(i,e),this.masthead=new s.default.View(this.config),this.center=new c.default.CenterPanel,this.$el.attr("scroll","no"),this.$el.html(this._template()),this.$("#masthead").replaceWith(this.masthead.$el),this.$("#center").append(this.center.$el),this.$el.append(this.masthead.frame.$el),this.$el.append(this.modal.$el),this.$messagebox=this.$("#messagebox"),this.$inactivebox=this.$("#inactivebox"),this.panels={},n.each(this._panelids,function(t){var n=t.charAt(0).toUpperCase()+t.slice(1),r=e[n];if(r){var a=new r(i,e);i[a.toString()]=a,i.panels[t]=new c.default.SidePanel({id:t,el:i.$("#"+t),view:a})}}),this.render(),this.router&&t.history.start({root:Galaxy.root,pushState:!0})},render:function(){return r(".select2-hidden-accessible").remove(),this.masthead.render(),this.renderMessageBox(),this.renderInactivityBox(),this.renderPanels(),this._checkCommunicationServerOnline(),this},renderMessageBox:function(){if(this.config.message_box_visible){var t=this.config.message_box_content||"",e=this.config.message_box_class||"info";this.$el.addClass("has-message-box"),this.$messagebox.attr("class","panel-"+e+"-message").html(t).toggle(!!t).show()}else this.$el.removeClass("has-message-box"),this.$messagebox.hide();return this},renderInactivityBox:function(){if(this.config.show_inactivity_warning){var t=this.config.inactivity_box_content||"",e=r("<a/>").attr("href",Galaxy.root+"user/resend_verification").text("Resend verification");this.$el.addClass("has-inactivity-box"),this.$inactivebox.html(t+" ").append(e).toggle(!!t).show()}else this.$el.removeClass("has-inactivity-box"),this.$inactivebox.hide();return this},renderPanels:function(){var t=this;return n.each(this._panelids,function(e){var i=t.panels[e];i?i.render():(t.$("#center").css(e,0),t.$("#"+e).hide())}),this},_template:function(){return['<div id="everything">','<div id="background"/>','<div id="masthead"/>','<div id="messagebox"/>','<div id="inactivebox" class="panel-warning-message" />','<div id="left" />','<div id="center" />','<div id="right" />',"</div>",'<div id="dd-helper" />'].join("")},toString:function(){return"PageLayoutView"},_checkCommunicationServerOnline:function(){var t=window.Galaxy.config.communication_server_host,e=window.Galaxy.config.communication_server_port,i=window.Galaxy.user.attributes.preferences,n=r("#show-chat-online");i&&-1!=["1","true"].indexOf(i.communication_server)?r.ajax({url:t+":"+e}).success(function(t){null!==window.Galaxy.user.id&&"hidden"===n.css("visibility")&&n.css("visibility","visible")}).error(function(t){n.css("visibility","hidden")}):n.css("visibility","hidden")}});e.default={View:p}}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=i(24),l=r(s),c=i(30),u=(r(c),t.Model.extend({initialize:function(t){var e=this.get("key");this.set("id",e);var i=o.find([{key:"name",label:"Name",type:"text",default_value:""},{key:"color",label:"Color",type:"color",default_value:null},{key:"min_value",label:"Min Value",type:"float",default_value:null},{key:"max_value",label:"Max Value",type:"float",default_value:null},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:32,hidden:!0},{key:"pos_color",label:"Positive Color",type:"color",default_value:"#FF8C00"},{key:"neg_color",label:"Negative Color",type:"color",default_value:"#4169E1"},{key:"block_color",label:"Block color",type:"color",default_value:null},{key:"label_color",label:"Label color",type:"color",default_value:"black"},{key:"show_insertions",label:"Show insertions",type:"bool",default_value:!1},{key:"show_counts",label:"Show summary counts",type:"bool",default_value:!0},{key:"reverse_strand_color",label:"Antisense strand color",type:"color",default_value:null},{key:"show_differences",label:"Show differences only",type:"bool",default_value:!0}],function(t){return t.key===e});i&&this.set(o.extend({},i,t)),void 0===this.get("value")&&void 0!==this.get("default_value")&&(this.set_value(this.get("default_value")),this.get("value")||"color"!==this.get("type")||this.set("value",l.default.get_random_color()))},set_value:function(t,e){var i=this.get("type");"float"===i?t=parseFloat(t):"int"===i&&(t=parseInt(t,10)),this.set({value:t},e)}})),h=t.Collection.extend({model:u,to_key_value_dict:function(){var t={};return this.each(function(e){t[e.get("key")]=e.get("value")}),t},get_value:function(t){var e=this.get(t);if(e)return e.get("value")},set_value:function(t,e,i){var n=this.get(t);if(n)return n.set_value(e,i)},set_default_value:function(t,e){var i=this.get(t);if(i)return i.set("default_value",e)}},{from_models_and_saved_values:function(t,e){return e&&(t=o.map(t,function(t){return o.extend({},t,{value:e[t.key]})})),new h(t)}}),d=t.View.extend({className:"config-settings-view",render:function(){var t=this.$el;return this.collection.each(function(e,i){if(!e.get("hidden")){var r="param_"+i,a=e.get("type"),s=e.get("value"),c=n("<div class='form-row' />").appendTo(t);if(c.append(n("<label />").attr("for",r).text(e.get("label")+":")),"bool"===a)c.append(n('<input type="checkbox" />').attr("id",r).attr("name",r).attr("checked",s));else if("text"===a)c.append(n('<input type="text"/>').attr("id",r).val(s).click(function(){n(this).select()}));else if("select"===a){var u=n("<select />").attr("id",r);o.each(e.get("options"),function(t){n("<option/>").text(t.label).attr("value",t.value).appendTo(u)}),u.val(s),c.append(u)}else if("color"===a){var h=n("<div/>").appendTo(c),d=n("<input />").attr("id",r).attr("name",r).val(s).css("float","left").appendTo(h).click(function(t){n(".tooltip").removeClass("in");var e=n(this).siblings(".tooltip").addClass("in");e.css({left:n(this).position().left+n(this).width()+5,top:n(this).position().top-n(e).height()/2+n(this).height()/2}).show(),e.click(function(t){t.stopPropagation()}),n(document).bind("click.color-picker",function(){e.hide(),n(document).unbind("click.color-picker")}),t.stopPropagation()}),f=n("<a href='javascript:void(0)'/>").addClass("icon-button arrow-circle").appendTo(h).attr("title","Set new random color").tooltip(),p=n("<div class='tooltip right' style='position: absolute;' />").appendTo(h).hide(),m=n("<div class='tooltip-inner' style='text-align: inherit'></div>").appendTo(p),g=(n("<div class='tooltip-arrow'></div>").appendTo(p),n.farbtastic(m,{width:100,height:100,callback:d,color:s}));h.append(n("<div/>").css("clear","both")),function(t){f.click(function(){t.setColor(l.default.get_random_color())})}(g)}else c.append(n("<input />").attr("id",r).attr("name",r).val(s));e.help&&c.append(n("<div class='help'/>").text(e.help))}}),this},render_in_modal:function(t){var e=this,i=function(){Galaxy.modal.hide(),n(window).unbind("keypress.check_enter_esc")},r=function(){Galaxy.modal.hide(),n(window).unbind("keypress.check_enter_esc"),e.update_from_form()},a=function(t){27===(t.keyCode||t.which)?i():13===(t.keyCode||t.which)&&r()};n(window).bind("keypress.check_enter_esc",a),0===this.$el.children().length&&this.render(),Galaxy.modal.show({title:t||"Configure",body:this.$el,buttons:{Cancel:i,OK:r}})},update_from_form:function(){var t=this;this.collection.each(function(e,i){if(!e.get("hidden")){var n="param_"+i,r=t.$el.find("#"+n).val();"bool"===e.get("type")&&(r=t.$el.find("#"+n).is(":checked")),e.set_value(r)}})}});e.default={ConfigSetting:u,ConfigSettingCollection:h,ConfigSettingCollectionView:d}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,i,n,r){Object.defineProperty(e,"__esModule",{value:!0});var a=t.View.extend({initialize:function(t,e){this.$button=t,this.$button.length||(this.$button=i("<div/>")),this.options=e||[],this.$button.data("popupmenu",this);var n=this;this.$button.click(function(t){return i(".popmenu-wrapper").remove(),n._renderAndShow(t),!1})},_renderAndShow:function(t){this.render(),this.$el.appendTo("body").css(this._getShownPosition(t)).show(),this._setUpCloseBehavior()},render:function(){if(this.$el.addClass("popmenu-wrapper").hide().css({position:"absolute"}).html(this.template(this.$button.attr("id"),this.options)),this.options.length){var t=this;this.$el.find("li").each(function(e,n){var r=t.options[e];r.func&&i(this).children("a.popupmenu-option").click(function(e){r.func.call(t,e,r),e.preventDefault()})})}return this},template:function(t,e){return['<ul id="',t,'-menu" class="dropdown-menu">',this._templateOptions(e),"</ul>"].join("")},_templateOptions:function(t){return t.length?n.map(t,function(t){return t.divider?'<li class="divider"></li>':t.header?['<li class="head"><a href="javascript:void(0);">',t.html,"</a></li>"].join(""):['<li><a class="popupmenu-option" href="',t.href||"javascript:void(0);",'"',t.target?' target="'+t.target+'"':"",">",t.checked?'<span class="fa fa-check"></span>':"",t.html,"</a></li>"].join("")}).join(""):"<li>(no options)</li>"},_getShownPosition:function(t){var e=this.$el.width(),n=t.pageX-e/2;return n=Math.min(n,i(document).scrollLeft()+i(window).width()-e-5),n=Math.max(n,i(document).scrollLeft()+5),{top:t.pageY,left:n}},_setUpCloseBehavior:function(){function t(t){if(i(document).off("click.close_popup"),window&&window.parent!==window)try{i(window.parent.document).off("click.close_popup")}catch(t){}else try{i("iframe#galaxy_main").contents().off("click.close_popup")}catch(t){}e.remove()}var e=this;if(i("html").one("click.close_popup",t),window&&window.parent!==window)try{i(window.parent.document).find("html").one("click.close_popup",t)}catch(t){}else try{i("iframe#galaxy_main").contents().one("click.close_popup",t)}catch(t){}},addItem:function(t,e){return e=e>=0?e:this.options.length,this.options.splice(e,0,t),this},removeItem:function(t){return t>=0&&this.options.splice(t,1),this},findIndexByHtml:function(t){for(var e=0;e<this.options.length;e++)if(n.has(this.options[e],"html")&&this.options[e].html===t)return e;return null},findItemByHtml:function(t){return this.options[this.findIndexByHtml(t)]},toString:function(){return"PopupMenu"}});a.create=function(t,e){return new a(t,e)},a.make_popupmenu=function(t,e){var o=[];return n.each(e,function(t,e){var i={html:e};null===t?i.header=!0:"function"===r.type(t)&&(i.func=t),o.push(i)}),new a(i(t),o)},a.convertLinksToOptions=function(t,e){t=i(t),e=e||"a";var n=[];return t.find(e).each(function(t,e){var r={},a=i(t);if(r.html=a.text(),a.attr("href")){var o=a.attr("href"),s=a.attr("target"),l=a.attr("confirm");r.func=function(){if(!l||confirm(l))switch(s){case"_parent":window.parent.location=o;break;case"_top":window.top.location=o;break;default:window.location=o}}}n.push(r)}),n},a.fromExistingDom=function(t,e,n){t=i(t),e=i(e);var r=a.convertLinksToOptions(e,n);return e.remove(),new a(t,r)},a.make_popup_menus=function(t,e,n){t=t||document,e=e||"div[popupmenu]",n=n||function(t,e){return"#"+t.attr("popupmenu")};var r=[];return i(t).find(e).each(function(){var e=i(this),o=i(t).find(n(e,t));r.push(a.fromDom(o,e)),o.addClass("popup")}),r},e.default=a}).call(e,i(2),i(0),i(1),i(0))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=(function(t){t&&t.__esModule}(r),t.View.extend({initialize:function(e){this.collection=new t.Collection,this.model=e&&e.model||new t.Model({onchange:null,visible:!0}).set(e),this.setElement(n(this._template())),this.$nav=this.$(".tab-navigation"),this.$content=this.$(".tab-content"),this.$el.on("click",function(){n(".tooltip").hide()}),this.render(),this.listenTo(this.model,"change",this.render,this),this.listenTo(this.collection,"add",this._add,this),this.listenTo(this.collection,"remove",this._remove,this),this.listenTo(this.collection,"change",this._change,this),this.listenTo(this.collection,"reset",this._reset,this),this.listenTo(this.collection,"add remove reset",this.render,this)},render:function(){var t=this.model.get("current");t=this.$("#"+t).length>0?t:this.first(),t&&(this.$nav.children().removeClass("active"),this.$content.children().removeClass("active"),this.$("#tab-"+t).addClass("active"),this.$("#"+t).addClass("active")),this.$el[this.model.get("visible")?"fadeIn":"fadeOut"]("fast"),this.$nav[this.size()>1?"show":"hide"]()},current:function(){return this.model.get("current")},show:function(t){t&&(this.model.set({current:t,visible:!0}),this.model.get("onchange")&&this.model.get("onchange")(t))},hide:function(){this.model.set("visible",!1)},first:function(){var t=this.collection.first();return t&&t.id},size:function(){return this.collection.length},add:function(t){this.collection.add(t)},del:function(t){this.collection.remove(t)},delAll:function(){this.collection.reset()},showTab:function(t){this.collection.get(t).set("hidden",!1)},hideTab:function(t){this.collection.get(t).set("hidden",!0)},_add:function(t){var e=this,i=t.attributes;this.$content.append(n("<div/>").attr("id",i.id).addClass("tab-pane").append(i.$el)),this.$nav.append(n(this._template_tab(i)).show().tooltip({title:i.tooltip,placement:"bottom",container:e.$el}).on("click",function(t){t.preventDefault(),e.show(i.id)})),1==this.size()&&this.show(i.id)},_remove:function(t){this.$("#tab-"+t.id).remove(),this.$("#"+t.id).remove()},_reset:function(){this.$nav.empty(),this.$content.empty()},_change:function(t){this.$("#tab-"+t.id)[t.get("hidden")?"hide":"show"]()},_template:function(){return n("<div/>").addClass("ui-tabs tabbable tabs-left").append(n("<ul/>").addClass("tab-navigation nav nav-tabs")).append(n("<div/>").addClass("tab-content"))},_template_tab:function(t){var e=n("<li/>").addClass("tab-element").attr("id","tab-"+t.id).append(n("<a/>").attr("id","tab-title-link-"+t.id)),i=e.find("a");return t.icon&&i.append(n("<i/>").addClass("tab-icon fa").addClass(t.icon)),i.append(n("<span/>").attr("id","tab-title-text-"+t.id).addClass("tab-title-text").append(t.title)),e}}));e.default={View:a}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model({id:a.default.uid(),title:"",icon:"",cls:"btn btn-default",wait:!1,wait_text:"Sending...",wait_cls:"btn btn-info",disabled:!1,percentage:-1}).set(e),this.setElement(n("<button/>").attr("type","button").append(this.$icon=n("<i/>")).append(this.$title=n("<span/>")).append(this.$progress=n("<div/>").append(this.$progress_bar=n("<div/>")))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this,e=this.model.attributes;this.$el.removeClass().addClass("ui-button-default").addClass(e.disabled&&"disabled").attr("id",e.id).attr("disabled",e.disabled).off("click").on("click",function(){n(".tooltip").hide(),e.onclick&&!t.disabled&&e.onclick()}).tooltip({title:e.tooltip,placement:"bottom"}),this.$progress.addClass("progress").css("display",-1!==e.percentage?"block":"none"),this.$progress_bar.addClass("progress-bar").css({width:e.percentage+"%"}),this.$icon.removeClass().addClass("icon fa"),this.$title.removeClass().addClass("title"),e.wait?(this.$el.addClass(e.wait_cls).prop("disabled",!0),this.$icon.addClass("fa-spinner fa-spin ui-margin-right"),this.$title.html(e.wait_text)):(this.$el.addClass(e.cls),this.$icon.addClass(e.icon),this.$title.html(e.title),e.icon&&e.title&&this.$icon.addClass("ui-margin-right"))},show:function(){this.$el.show()},hide:function(){this.$el.hide()},disable:function(){this.model.set("disabled",!0)},enable:function(){this.model.set("disabled",!1)},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},setIcon:function(t){this.model.set("icon",t)}}),s=o.extend({initialize:function(e){this.model=e&&e.model||new t.Model({id:a.default.uid(),title:"",icon:"",cls:""}).set(e),this.setElement(n("<a/>").append(this.$icon=n("<span/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this.model.attributes;this.$el.removeClass().addClass(t.cls).attr({id:t.id,href:t.href||"javascript:void(0)",title:t.title,target:t.target||"_top",disabled:t.disabled}).tooltip({placement:"bottom"}).off("click").on("click",function(){t.onclick&&!t.disabled&&t.onclick()}),this.$icon.removeClass().addClass(t.icon)}}),l=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model({id:a.default.uid(),title:"Select/Unselect all",icons:["fa-square-o","fa-minus-square-o","fa-check-square-o"],value:0,onchange:function(){}}).set(e),this.setElement(n("<div/>").append(this.$icon=n("<span/>")).append(this.$title=n("<span/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(t){var e=this,t=this.model.attributes;this.$el.addClass("ui-button-check").off("click").on("click",function(){e.model.set("value",0===e.model.get("value")&&2||0),t.onclick&&t.onclick()}),this.$title.html(t.title),this.$icon.removeClass().addClass("icon fa ui-margin-right").addClass(t.icons[t.value])},value:function(t,e){return void 0!==t&&(e&&0!==t&&(t=t!==e&&1||2),this.model.set("value",t),this.model.get("onchange")(this.model.get("value"))),this.model.get("value")}}),c=o.extend({initialize:function(e){this.model=e&&e.model||new t.Model({id:a.default.uid(),title:"",icon:"",cls:"ui-button-icon",disabled:!1}).set(e),this.setElement(n("<div/>").append(this.$button=n("<div/>").append(this.$icon=n("<i/>")).append(this.$title=n("<span/>")))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(t){var t=this.model.attributes;this.$el.removeClass().addClass(t.cls).addClass(t.disabled&&"disabled").attr("disabled",t.disabled).attr("id",t.id).off("click").on("click",function(){n(".tooltip").hide(),!t.disabled&&t.onclick&&t.onclick()}),this.$button.addClass("button").tooltip({title:t.tooltip,placement:"bottom"}),this.$icon.removeClass().addClass("icon fa").addClass(t.icon),this.$title.addClass("title").html(t.title),t.icon&&t.title&&this.$icon.addClass("ui-margin-right")}}),u=o.extend({$menu:null,initialize:function(e){this.model=e&&e.model||new t.Model({id:"",title:"",pull:"right",icon:null,onclick:null,cls:"ui-button-icon ui-button-menu",tooltip:"",target:"",href:"",onunload:null,visible:!0,tag:""}).set(e),this.collection=new t.Collection,this.setElement(n("<div/>").append(this.$root=n("<div/>").append(this.$icon=n("<i/>")).append(this.$title=n("<span/>")))),this.listenTo(this.model,"change",this.render,this),this.listenTo(this.collection,"change add remove reset",this.render,this),this.render()},render:function(){var t=this,e=this.model.attributes;this.$el.removeClass().addClass("dropdown").addClass(e.cls).attr("id",e.id).css({display:e.visible&&this.collection.where({visible:!0}).length>0?"block":"none"}),this.$root.addClass("root button dropdown-toggle").attr("data-toggle","dropdown").tooltip({title:e.tooltip,placement:"bottom"}).off("click").on("click",function(t){n(".tooltip").hide(),t.preventDefault(),e.onclick&&e.onclick()}),this.$icon.removeClass().addClass("icon fa").addClass(e.icon),this.$title.removeClass().addClass("title").html(e.title),e.icon&&e.title&&this.$icon.addClass("ui-margin-right"),this.$menu&&this.$menu.remove(),this.collection.length>0&&(this.$menu=n("<ul/>").addClass("menu dropdown-menu").addClass("pull-"+t.model.get("pull")).attr("role","menu"),this.$el.append(this.$menu)),this.collection.each(function(e){var i=e.attributes;if(i.visible){var r=n("<a/>").addClass("dropdown-item").attr({href:i.href,target:i.target}).append(n("<i/>").addClass("fa").addClass(i.icon).css("display",i.icon?"inline-block":"none")).append(i.title).on("click",function(t){i.onclick&&(t.preventDefault(),i.onclick())});t.$menu.append(n("<li/>").append(r)),i.divider&&t.$menu.append(n("<li/>").addClass("divider"))}})},addMenu:function(t){this.collection.add(a.default.merge(t,{title:"",target:"",href:"",onclick:null,divider:!1,visible:!0,icon:null,cls:"button-menu btn-group"}))}});e.default={ButtonDefault:o,ButtonLink:s,ButtonIcon:c,ButtonCheck:l,ButtonMenu:u}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(e){function n(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=i(7),a=i(162),o={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=i(86):void 0!==e&&(t=i(86)),t}(),transformRequest:[function(t,e){return a(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(o)}),t.exports=s}).call(e,i(161))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(36)),n(i(37)),n(i(181))},function(t,e,i){"use strict";function n(t,e,i,n){if(void 0===n&&(n={writable:!0,enumerable:!0,configurable:!0}),!(t instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0!==e){if(!(e instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===n)n={writable:!0,enumerable:!0,configurable:!0};else if(!(n instanceof Object))throw new TypeError('"attributes" isn\'t an Object instance');if(void 0===i)for(var r in e)void 0!==e[r]&&Object.defineProperty(t,r,Object.create(n,{value:{value:e[r]}}));else if(i instanceof Array)i.forEach(function(i){void 0!==e[i]&&Object.defineProperty(t,i,Object.create(n,{value:{value:e[i]}}))});else{if(!(i instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var a in i){var r=i[a];void 0!==e[r]&&Object.defineProperty(t,a,Object.create(n,{value:{value:e[r]}}))}}}}function r(t,e,i,n){if(void 0===n&&(n=!0),!(t instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0===e)return!0;if(!(e instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===n&&(n=!0),void 0===i){for(var r in e)if(t[r]!==e[r]&&(void 0!==e[r]||!n))return!1}else{if(i instanceof Array)return i.every(function(i){return t[i]===e[i]||void 0===e[i]&&n});if(!(i instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var a in i){var r=i[a];if(t[a]!==e[r]&&(void 0!==e[r]||!n))return!1}}return!0}function a(t){return"number"==typeof t}function o(t){return"string"==typeof t}function s(t,e){if(!t)throw new Error(e);return t}function l(t,e){if(!(t instanceof Object))throw new TypeError(e||"Expected Object");return t}function c(t,e){if("string"!=typeof t)throw new TypeError(e||"Expected string");return t}function u(t,e){if(!h(t))throw new TypeError(e||"Expected Array");return t}function h(t){return!!t&&t.constructor===Array}function d(t,e){return[].concat.apply([],t.map(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.updateProperties=n,e.testProperties=r,e.mustBeNumber=function(t,e){if(!a(t))throw new TypeError(e||"Expected number");return t},e.isNumber=a,e.isString=o,e.mustNotBeUndefined=s,e.mustBeObject=l,e.mustBeString=c,e.mustBeArray=u,e.isArray=h,e.mconcat=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduceRight(t)},e.snd=function(t){return t[1]},e.concatMap=d},function(t,e,i){"use strict";function n(t){return a(t)||o(t)}function r(t){return e.measureTypes.hasOwnProperty(t)}function a(t){return r(t.type)&&X.isNumber(t.value)}function o(t){return m(t.expression)}function s(t){if(void 0===t)return!1;switch(t){case"Parentheses":case"Square":case"Dollar":return!0;default:return!1}}function l(t,e){return void 0!==t&&(void 0===e?"string"==typeof t.name:e===t.name)}function c(t){return void 0!==t&&"string"==typeof t.text}function u(t){return void 0!==t&&X.isArray(t.latex)}function h(t){return t.arguments instanceof Array}function d(t){return t===J.SUP||t===J.SUB}function f(t){switch(t){case"#":return"\\#";case"$":return"\\$";case"%":return"\\%";case"^":return"\\^{}";case"&":return"\\&";case"{":return"\\{";case"}":return"\\}";case"~":return"\\~{}";case"\\":return"\\textbackslash{}";case"_":return"\\_{}";default:return t}}function p(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return 0===e.length?"string"==typeof t.type:e.some(function(e){return t.type===e})}function m(t){return v(t)||g(t)}function g(t){return E(t)||y(t)||b(t)||x(t)||k(t)||C(t)||T(t)||O(t)}function v(t){return E(t)||_(t)||b(t)||x(t)||k(t)||C(t)||T(t)||O(t)}function _(t){return void 0!==t&&void 0!==t.type&&c(t)&&p(t,e.typeTeXRaw)}function y(t){return void 0!==t&&"string"==typeof t.string&&"number"==typeof t.category}function b(t){return l(t)&&h(t)&&p(t,e.typeTeXComm,e.typeTeXCommS)}function w(t){return b(t)&&0===t.arguments.length}function x(t,i){return p(t,e.typeTeXEnv)}function k(t){return u(t)&&p(t)&&s(t.type)}function C(t){return void 0!==t&&"boolean"==typeof t.noNewPage&&(void 0===t.measure||n(t.measure))}function S(t){return d(t.type)}function T(t){return u(t)&&p(t,e.typeTeXBraces)}function A(t){return p(t,"FixArg")}function M(t){return p(t,"OptArg")}function O(t){return c(t)&&p(t,e.typeTeXComment)}function E(t){return void 0!==t&&0===Object.keys(t).length}function $(t){return{type:"FixArg",latex:t}}function j(t){return 1===t.length?{type:"OptArg",latex:t}:{type:"MOptArg",latex:t}}function D(t){return{type:"SymArg",latex:[t]}}function P(t){return{type:"ParArg",latex:[t]}}function R(t){return{type:"MOptArg",latex:t}}function N(t){return{type:"MSymArg",latex:t}}function I(t){return{type:"MParArg",latex:t}}function L(t){return{name:t,arguments:[],type:e.typeTeXCommS}}function z(t){return{text:t,type:e.typeTeXRaw,characterCategories:Y.convertToTeXCharsDefault(t)}}function H(t,e,i,n){return{latex:n,type:t,startSymbol:e,endSymbol:i}}function q(t){return{latex:[t],type:e.typeTeXBraces}}function F(t){return{text:t,type:e.typeTeXComment}}function B(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return{name:t,arguments:i,type:e.typeTeXComm}}function V(t,e,i){return{type:t,symbol:e,arguments:i}}function U(t,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return{name:t,latex:i,arguments:n,type:e.typeTeXEnv}}function W(t){var e=[];return G(t,e),e.join("")}function G(t,e){if(b(t))e.push("\\",t.name),t.arguments.forEach(function(t){return G(t,e)});else{if(x(t))throw new Error("not supported yet");if(k(t))e.push(t.startSymbol),t.latex.forEach(function(t){return G(t,e)}),e.push(t.endSymbol);else if(C(t))e.push("\n");else if(S(t))e.push(t.symbol),t.arguments&&t.arguments.forEach(function(t){return G(t,e)});else if(T(t))e.push("{"),t.latex.forEach(function(t){return G(t,e)}),e.push("}");else if(O(t))e.push("%"+t.text+"\n");else if(_(t))e.push(t.text);else{if(y(t))throw new Error("not supported yet");if(A(t))e.push("{"),t.latex.forEach(function(t){return G(t,e)}),e.push("}");else{if(!M(t))throw new Error("Did not recognize "+JSON.stringify(t));e.push("["),t.latex.forEach(function(t){return G(t,e)}),e.push("]")}}}}Object.defineProperty(e,"__esModule",{value:!0});var X=i(36),Y=i(91);e.isMeasure=n,e.measureTypes={pt:!0,mm:!0,cm:!0,in:!0,ex:!0,em:!0},e.isMeasureType=r,e.isBuiltInMeasure=a,e.isCustomMeasure=o,e.mathTypes={Parentheses:"Parentheses",Square:"Square",Dollar:"Dollar"},e.isMathType=s,e.isNameHaving=l,e.isTextHaving=c,e.isLaTeXHaving=u,e.isArgumentHaving=h,e.typeTeXSeq="TeXSeq",e.typeTeXEnv="TeXEnv",e.typeTeXBraces="TeXBraces",e.typeTeXComment="TeXComment",e.typeTeXRaw="TeXRaw",e.typeTeXComm="TeXComm",e.typeTeXCommS="TeXCommS";var J;!function(t){t[t.SUP=0]="SUP",t[t.SUB=1]="SUB"}(J=e.SubOrSuperSymbol||(e.SubOrSuperSymbol={})),e.isSubOrSuperSymbol=d,e.fromStringLaTeX=function(t){return z(e.protectString(t))},e.protectString=function(t){for(var e=[],i=0;i<t.length;i++)e.push(f(t.charAt(i)));return e.join()},e.protectChar=f,e.isTypeHaving=p,e.isLaTeXBlock=m,e.isLaTeXNoRaw=g,e.isLaTeXRaw=v,e.isTeXRaw=_,e.isTeXChar=y,e.isTeXComm=b,e.isTeXCommS=w,e.isTeXEnv=x,e.isTeXMath=k,e.isTeXLineBreak=C,e.isSubOrSuperScript=S,e.isTeXBraces=T,e.isFixArg=A,e.isOptArg=M,e.isTeXComment=O,e.isTeXEmpty=E,e.newFixArg=$,e.newOptArg=j,e.newSymArg=D,e.newParArg=P,e.newMOptArg=R,e.newMSymArg=N,e.newMParArg=I,e.newCommandS=L,e.newTeXRaw=z,e.newTeXMath=H,e.newTeXBraces=q,e.newTeXMathDol=function(t){return H("Dollar","$","$",t)},e.newTeXComment=F,e.newTeXComm=B,e.newSubOrSuperScript=V,e.newTeXEnv=U,e.stringifyLaTeX=W},,,,,,,,,,,,,,,,function(t,e,i){(function(t){!function(t){function e(i){function n(){e(r)}var r=i.data||i;switch(i.type){case"mouseenter":r.dist2=0,r.event=i,i.type="hoverstart",!1!==t.event.dispatch.call(this,i)&&(r.elem=this,t.event.add(this,"mousemove",e,r),r.timer=setTimeout(n,r.delay));break;case"mousemove":r.dist2+=Math.pow(i.pageX-r.event.pageX,2)+Math.pow(i.pageY-r.event.pageY,2),r.event=i;break;case"mouseleave":clearTimeout(r.timer),r.hovered?(i.type="hoverend",t.event.dispatch.call(this,i),r.hovered--):t.event.remove(r.elem,"mousemove",e);break;default:r.dist2<=Math.pow(r.speed*(r.delay/1e3),2)?(t.event.remove(r.elem,"mousemove",e),r.event.type="hover",!1!==t.event.dispatch.call(r.elem,r.event)&&r.hovered++):r.timer=setTimeout(n,r.delay),r.dist2=0}}t.fn._hover=t.fn.hover,t.fn.hover=function(t,e,i){return i&&this.bind("hoverstart",t),e&&this.bind("hoverend",i||e),t?this.bind("hover",i?e:t):this.trigger("hover")};var i=t.event.special.hover={delay:100,speed:100,setup:function(n){n=t.extend({speed:i.speed,delay:i.delay,hovered:0},n||{}),t.event.add(this,"mouseenter mouseleave",e,n)},teardown:function(){t.event.remove(this,"mouseenter mouseleave",e)}}}(t)}).call(e,i(0))},function(t,e,i){(function(t){!function(t){t.fn.drag=function(e,i,n){var r="string"==typeof e?e:"",a=t.isFunction(e)?e:t.isFunction(i)?i:null;return 0!==r.indexOf("drag")&&(r="drag"+r),n=(e==a?i:n)||{},a?this.bind(r,n,a):this.trigger(r)};var e=t.event,i=e.special,n=i.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var i=t.data(this,n.datakey),r=e.data||{};i.related+=1,t.each(n.defaults,function(t,e){void 0!==r[t]&&(i[t]=r[t])})},remove:function(){t.data(this,n.datakey).related-=1},setup:function(){if(!t.data(this,n.datakey)){var i=t.extend({related:0},n.defaults);t.data(this,n.datakey,i),e.add(this,"touchstart mousedown",n.init,i),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){(t.data(this,n.datakey)||{}).related||(t.removeData(this,n.datakey),e.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(r){if(!n.touched){var a,o=r.data;if(!(0!=r.which&&o.which>0&&r.which!=o.which)&&!t(r.target).is(o.not)&&(!o.handle||t(r.target).closest(o.handle,r.currentTarget).length)&&(n.touched="touchstart"==r.type?this:null,o.propagates=1,o.mousedown=this,o.interactions=[n.interaction(this,o)],o.target=r.target,o.pageX=r.pageX,o.pageY=r.pageY,o.dragging=null,a=n.hijack(r,"draginit",o),o.propagates))return a=n.flatten(a),a&&a.length&&(o.interactions=[],t.each(a,function(){o.interactions.push(n.interaction(this,o))})),o.propagates=o.interactions.length,!1!==o.drop&&i.drop&&i.drop.handler(r,o),n.textselect(!1),n.touched?e.add(n.touched,"touchmove touchend",n.handler,o):e.add(document,"mousemove mouseup",n.handler,o),!(!n.touched||o.live)&&void 0}},interaction:function(e,i){var r=t(e)[i.relative?"position":"offset"]()||{top:0,left:0};return{drag:e,callback:new n.callback,droppable:[],offset:r}},handler:function(r){var a=r.data;switch(r.type){case!a.dragging&&"touchmove":r.preventDefault();case!a.dragging&&"mousemove":if(Math.pow(r.pageX-a.pageX,2)+Math.pow(r.pageY-a.pageY,2)<Math.pow(a.distance,2))break;r.target=a.target,n.hijack(r,"dragstart",a),a.propagates&&(a.dragging=!0);case"touchmove":r.preventDefault();case"mousemove":if(a.dragging){if(n.hijack(r,"drag",a),a.propagates){!1!==a.drop&&i.drop&&i.drop.handler(r,a);break}r.type="mouseup"}case"touchend":case"mouseup":default:n.touched?e.remove(n.touched,"touchmove touchend",n.handler):e.remove(document,"mousemove mouseup",n.handler),a.dragging?(!1!==a.drop&&i.drop&&i.drop.handler(r,a),n.hijack(r,"dragend",a)):n.hijack(r,"dragclickonly",a),n.textselect(!0),!1===a.click&&a.dragging&&t.data(a.mousedown,"suppress.click",(new Date).getTime()+5),a.dragging=n.touched=!1}},hijack:function(i,r,a,o,s){if(a){var l,c,u,h={event:i.originalEvent,type:i.type},d=r.indexOf("drop")?"drag":"drop",f=o||0,p=isNaN(o)?a.interactions.length:o;i.type=r,i.originalEvent=null,a.results=[];do{if(c=a.interactions[f]){if("dragend"!==r&&c.cancelled)continue;u=n.properties(i,a,c),c.results=[],t(s||c[d]||a.droppable).each(function(o,s){if(u.target=s,i.isPropagationStopped=function(){return!1},l=s?e.dispatch.call(s,i,u):null,!1===l?("drag"==d&&(c.cancelled=!0,a.propagates-=1),"drop"==r&&(c[d][o]=null)):"dropinit"==r&&c.droppable.push(n.element(l)||s),"dragstart"==r&&(c.proxy=t(n.element(l)||c.drag)[0]),c.results.push(l),delete i.result,"dropinit"!==r)return l}),a.results[f]=n.flatten(c.results),"dropinit"==r&&(c.droppable=n.flatten(c.droppable)),"dragstart"!=r||c.cancelled||u.update()}}while(++f<p);return i.type=h.type,i.originalEvent=h.event,n.flatten(a.results)}},properties:function(t,e,i){var r=i.callback;return r.drag=i.drag,r.proxy=i.proxy||i.drag,r.startX=e.pageX,r.startY=e.pageY,r.deltaX=t.pageX-e.pageX,r.deltaY=t.pageY-e.pageY,r.originalX=i.offset.left,r.originalY=i.offset.top,r.offsetX=r.originalX+r.deltaX,r.offsetY=r.originalY+r.deltaY,r.drop=n.flatten((i.drop||[]).slice()),r.available=n.flatten((i.droppable||[]).slice()),r},element:function(t){if(t&&(t.jquery||1==t.nodeType))return t},flatten:function(e){return t.map(e,function(e){return e&&e.jquery?t.makeArray(e):e&&e.length?n.flatten(e):e})},textselect:function(e){t(document)[e?"unbind":"bind"]("selectstart",n.dontstart).css("MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}};n.callback.prototype={update:function(){i.drop&&this.available.length&&t.each(this.available,function(t){i.drop.locate(this,t)})}};var r=e.dispatch;e.dispatch=function(e){return t.data(this,"suppress."+e.type)-(new Date).getTime()>0?void t.removeData(this,"suppress."+e.type):r.apply(this,arguments)};var a=e.fixHooks.touchstart=e.fixHooks.touchmove=e.fixHooks.touchend=e.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(e,i){if(i){var n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0]||null;n&&t.each(a.props,function(t,i){e[i]=n[i]})}return e}};i.draginit=i.dragstart=i.dragend=n}(t)}).call(e,i(0))},function(t,e,i){var n,r,a;/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
!function(o){r=[i(0)],n=o,void 0!==(a="function"==typeof n?n.apply(e,r):n)&&(t.exports=a)}(function(t){function e(e){var o=e||window.event,s=l.call(arguments,1),c=0,h=0,d=0,f=0,p=0,m=0;if(e=t.event.fix(o),e.type="mousewheel","detail"in o&&(d=-1*o.detail),"wheelDelta"in o&&(d=o.wheelDelta),"wheelDeltaY"in o&&(d=o.wheelDeltaY),"wheelDeltaX"in o&&(h=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in o&&(d=-1*o.deltaY,c=d),"deltaX"in o&&(h=o.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===o.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,d*=g,h*=g}else if(2===o.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,d*=v,h*=v}if(f=Math.max(Math.abs(d),Math.abs(h)),(!a||f<a)&&(a=f,n(o,f)&&(a/=40)),n(o,f)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/a),h=Math[h>=1?"floor":"ceil"](h/a),d=Math[d>=1?"floor":"ceil"](d/a),u.settings.normalizeOffset&&this.getBoundingClientRect){var _=this.getBoundingClientRect();p=e.clientX-_.left,m=e.clientY-_.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=a,e.offsetX=p,e.offsetY=m,e.deltaMode=0,s.unshift(e,c,h,d),r&&clearTimeout(r),r=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function i(){a=null}function n(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var r,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=o.length;c;)t.event.fixHooks[o[--c]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},function(t,e,i){(function(t){!function(t){"use strict";function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(i))}function i(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;i=r[0]}var a=this;if(a.clk=i,"image"==i.type)if(void 0!==e.offsetX)a.clk_x=e.offsetX,a.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var o=n.offset();a.clk_x=e.pageX-o.left,a.clk_y=e.pageY-o.top}else a.clk_x=e.pageX-i.offsetLeft,a.clk_y=e.pageY-i.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r={};r.fileapi=void 0!==t("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData;var a=!!t.fn.prop;t.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function i(i){var n,r,a=t.param(i,e.traditional).split("&"),o=a.length,s=[];for(n=0;n<o;n++)a[n]=a[n].replace(/\+/g," "),r=a[n].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}function o(i){function r(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){n("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){n("cannot get iframe.contentDocument: "+i),e=t.document}return e}function o(){function e(){try{var t=r(v).readyState;n("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(t){n("Server abort: ",t," (",t.name,")"),l(T),x&&clearTimeout(x),x=void 0}}var i=u.attr2("target"),a=u.attr2("action");k.setAttribute("target",m),s&&!/post/i.test(s)||k.setAttribute("method","POST"),a!=d.url&&k.setAttribute("action",d.url),d.skipEncodingOverride||s&&!/post/i.test(s)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout(function(){w=!0,l(S)},d.timeout));var o=[];try{if(d.extraData)for(var c in d.extraData)d.extraData.hasOwnProperty(c)&&(t.isPlainObject(d.extraData[c])&&d.extraData[c].hasOwnProperty("name")&&d.extraData[c].hasOwnProperty("value")?o.push(t('<input type="hidden" name="'+d.extraData[c].name+'">').val(d.extraData[c].value).appendTo(k)[0]):o.push(t('<input type="hidden" name="'+c+'">').val(d.extraData[c]).appendTo(k)[0]));d.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",l):v.addEventListener("load",l,!1),setTimeout(e,15);try{k.submit()}catch(t){var h=document.createElement("form").submit;h.apply(k)}}finally{k.setAttribute("action",a),i?k.setAttribute("target",i):u.removeAttr("target"),t(o).remove()}}function l(e){if(!_.aborted&&!$){if(E=r(v),E||(n("cannot access response document"),e=T),e===S&&_)return _.abort("timeout"),void C.reject(_,"timeout");if(e==T&&_)return _.abort("server abort"),void C.reject(_,"error","server abort");if(E&&E.location.href!=d.iframeSrc||w){v.detachEvent?v.detachEvent("onload",l):v.removeEventListener("load",l,!1);var i,a="success";try{if(w)throw"timeout";var o="xml"==d.dataType||E.XMLDocument||t.isXMLDoc(E);if(n("isXml="+o),!o&&window.opera&&(null===E.body||!E.body.innerHTML)&&--j)return n("requeing onLoad callback, DOM not available"),void setTimeout(l,250);var s=E.body?E.body:E.documentElement;_.responseText=s?s.innerHTML:null,_.responseXML=E.XMLDocument?E.XMLDocument:E,o&&(d.dataType="xml"),_.getResponseHeader=function(t){return{"content-type":d.dataType}[t.toLowerCase()]},s&&(_.status=Number(s.getAttribute("status"))||_.status,_.statusText=s.getAttribute("statusText")||_.statusText);var c=(d.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||d.textarea){var h=E.getElementsByTagName("textarea")[0];if(h)_.responseText=h.value,_.status=Number(h.getAttribute("status"))||_.status,_.statusText=h.getAttribute("statusText")||_.statusText;else if(u){var p=E.getElementsByTagName("pre")[0],m=E.getElementsByTagName("body")[0];p?_.responseText=p.textContent?p.textContent:p.innerText:m&&(_.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!_.responseXML&&_.responseText&&(_.responseXML=D(_.responseText));try{O=R(_,c,d)}catch(t){a="parsererror",_.error=i=t||a}}catch(t){n("error caught: ",t),a="error",_.error=i=t||a}_.aborted&&(n("upload aborted"),a=null),_.status&&(a=_.status>=200&&_.status<300||304===_.status?"success":"error"),"success"===a?(d.success&&d.success.call(d.context,O,"success",_),C.resolve(_.responseText,"success",_),f&&t.event.trigger("ajaxSuccess",[_,d])):a&&(void 0===i&&(i=_.statusText),d.error&&d.error.call(d.context,_,a,i),C.reject(_,"error",i),f&&t.event.trigger("ajaxError",[_,d,i])),f&&t.event.trigger("ajaxComplete",[_,d]),f&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,_,a),$=!0,d.timeout&&clearTimeout(x),setTimeout(function(){d.iframeTarget?g.attr("src",d.iframeSrc):g.remove(),_.responseXML=null},100)}}}var c,h,d,f,m,g,v,_,y,b,w,x,k=u[0],C=t.Deferred();if(C.abort=function(t){_.abort(t)},i)for(h=0;h<p.length;h++)c=t(p[h]),a?c.prop("disabled",!1):c.removeAttr("disabled");if(d=t.extend(!0,{},t.ajaxSettings,e),d.context=d.context||d,m="jqFormIO"+(new Date).getTime(),d.iframeTarget?(g=t(d.iframeTarget),b=g.attr2("name"),b?m=b:g.attr2("name",m)):(g=t('<iframe name="'+m+'" src="'+d.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],_={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(t){}g.attr("src",d.iframeSrc),_.error=i,d.error&&d.error.call(d.context,_,i,e),f&&t.event.trigger("ajaxError",[_,d,i]),d.complete&&d.complete.call(d.context,_,i)}},f=d.global,f&&0==t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[_,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,_,d))return d.global&&t.active--,C.reject(),C;if(_.aborted)return C.reject(),C;(y=k.clk)&&(b=y.name)&&!y.disabled&&(d.extraData=d.extraData||{},d.extraData[b]=y.value,"image"==y.type&&(d.extraData[b+".x"]=k.clk_x,d.extraData[b+".y"]=k.clk_y));var S=1,T=2,A=t("meta[name=csrf-token]").attr("content"),M=t("meta[name=csrf-param]").attr("content");M&&A&&(d.extraData=d.extraData||{},d.extraData[M]=A),d.forceSync?o():setTimeout(o,10);var O,E,$,j=50,D=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},P=t.parseJSON||function(t){return window.eval("("+t+")")},R=function(e,i,n){var r=e.getResponseHeader("content-type")||"",a="xml"===i||!i&&r.indexOf("xml")>=0,o=a?e.responseXML:e.responseText;return a&&"parsererror"===o.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(o=n.dataFilter(o,i)),"string"==typeof o&&("json"===i||!i&&r.indexOf("json")>=0?o=P(o):("script"===i||!i&&r.indexOf("javascript")>=0)&&t.globalEval(o)),o};return C}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var s,l,c,u=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),s=e.type||this.attr2("method"),l=e.url||this.attr2("action"),c="string"==typeof l?t.trim(l):"",c=c||window.location.href||"",c&&(c=(c.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:c,success:t.ajaxSettings.success,type:s||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var h={};if(this.trigger("form-pre-serialize",[this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=e.traditional;void 0===d&&(d=t.ajaxSettings.traditional);var f,p=[],m=this.formToArray(e.semantic,p);if(e.data&&(e.extraData=e.data,f=t.param(e.data,d)),e.beforeSubmit&&!1===e.beforeSubmit(m,this,e))return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=t.param(m,d);f&&(g=g?g+"&"+f:f),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+g,e.data=null):e.data=g;var v=[];if(e.resetForm&&v.push(function(){u.resetForm()}),e.clearForm&&v.push(function(){u.clearForm(e.includeHidden)}),!e.dataType&&e.target){var _=e.success||function(){};v.push(function(i){var n=e.replaceTarget?"replaceWith":"html";t(e.target)[n](i).each(_,arguments)})}else e.success&&v.push(e.success);if(e.success=function(t,i,n){for(var r=e.context||this,a=0,o=v.length;a<o;a++)v[a].apply(r,[t,i,n||u,u])},e.error){var y=e.error;e.error=function(t,i,n){var r=e.context||this;y.apply(r,[t,i,n,u])}}if(e.complete){var b=e.complete;e.complete=function(t,i){var n=e.context||this;b.apply(n,[t,i,u])}}var w=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),x=w.length>0,k="multipart/form-data",C=u.attr("enctype")==k||u.attr("encoding")==k,S=r.fileapi&&r.formdata;n("fileAPI :"+S);var T,A=(x||C)&&!S;!1!==e.iframe&&(e.iframe||A)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){T=o(m)}):T=o(m):T=(x||C)&&S?function(n){for(var r=new FormData,a=0;a<n.length;a++)r.append(n[a].name,n[a].value);if(e.extraData){var o=i(e.extraData);for(a=0;a<o.length;a++)o[a]&&r.append(o[a][0],o[a][1])}e.data=null;var l=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:s||"POST"});e.uploadProgress&&(l.xhr=function(){var i=t.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(t){var i=0,n=t.loaded||t.position,r=t.total;t.lengthComputable&&(i=Math.ceil(n/r*100)),e.uploadProgress(t,n,r,i)},!1),i}),l.data=null;var c=l.beforeSend;return l.beforeSend=function(t,i){e.formData?i.data=e.formData:i.data=r,c&&c.call(this,t,i)},t.ajax(l)}(m):t.ajax(e),u.removeData("jqxhr").data("jqxhr",T);for(var M=0;M<p.length;M++)p[M]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!t.isReady&&a.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(a.s,a.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,e).bind("click.form-plugin",r,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var n=[];if(0===this.length)return n;var a=this[0],o=e?a.getElementsByTagName("*"):a.elements;if(!o)return n;var s,l,c,u,h,d,f;for(s=0,d=o.length;s<d;s++)if(h=o[s],(c=h.name)&&!h.disabled)if(e&&a.clk&&"image"==h.type)a.clk==h&&(n.push({name:c,value:t(h).val(),type:h.type}),n.push({name:c+".x",value:a.clk_x},{name:c+".y",value:a.clk_y}));else if((u=t.fieldValue(h,!0))&&u.constructor==Array)for(i&&i.push(h),l=0,f=u.length;l<f;l++)n.push({name:c,value:u[l]});else if(r.fileapi&&"file"==h.type){i&&i.push(h);var p=h.files;if(p.length)for(l=0;l<p.length;l++)n.push({name:c,value:p[l],type:h.type});else n.push({name:c,value:"",type:h.type})}else null!==u&&void 0!==u&&(i&&i.push(h),n.push({name:c,value:u,type:h.type,required:h.required}));if(!e&&a.clk){var m=t(a.clk),g=m[0];c=g.name,c&&!g.disabled&&"image"==g.type&&(n.push({name:c,value:m.val()}),n.push({name:c+".x",value:a.clk_x},{name:c+".y",value:a.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var n=this.name;if(n){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var a=0,o=r.length;a<o;a++)i.push({name:n,value:r[a]});else null!==r&&void 0!==r&&i.push({name:this.name,value:r})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,r=this.length;n<r;n++){var a=this[n],o=t.fieldValue(a,e);null===o||void 0===o||o.constructor==Array&&!o.length||(o.constructor==Array?t.merge(i,o):i.push(o))}return i},t.fieldValue=function(e,i){var n=e.name,r=e.type,a=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==a&&-1==e.selectedIndex))return null;if("select"==a){var o=e.selectedIndex;if(o<0)return null;for(var s=[],l=e.options,c="select-one"==r,u=c?o+1:l.length,h=c?o:0;h<u;h++){var d=l[h];if(d.selected){var f=d.value;if(f||(f=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return f;s.push(f)}}return s}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();i.test(n)||"textarea"==r?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}(void 0!==t?t:window.Zepto)}).call(e,i(0))},function(t,e,i){(function(t,e){t&&function(t){if(!t.support.opacity&&!t.support.style)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}t.fn.rating=function(e){if(0==this.length)return this;if("string"==typeof arguments[0]){if(this.length>1){var i=arguments;return this.each(function(){t.fn.rating.apply(t(this),i)})}return t.fn.rating[arguments[0]].apply(this,t.makeArray(arguments).slice(1)||[]),this}var e=t.extend({},t.fn.rating.options,e||{});return t.fn.rating.calls++,this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var i,n=t(this),r=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,""),a=t(this.form||document.body),o=a.data("rating");o&&o.call==t.fn.rating.calls||(o={count:0,call:t.fn.rating.calls});var s=o[r]||a.data("rating"+r);s&&(i=s.data("rating")),s&&i?i.count++:(i=t.extend({},e||{},(t.metadata?n.metadata():t.meta?n.data():null)||{},{count:0,stars:[],inputs:[]}),i.serial=o.count++,s=t('<span class="star-rating-control"/>'),n.before(s),s.addClass("rating-to-be-drawn"),(n.attr("disabled")||n.hasClass("disabled"))&&(i.readOnly=!0),n.hasClass("required")&&(i.required=!0),s.append(i.cancel=t('<div class="rating-cancel"><a title="'+i.cancel+'">'+i.cancelValue+"</a></div>").on("mouseover",function(){t(this).rating("drain"),t(this).addClass("star-rating-hover")}).on("mouseout",function(){t(this).rating("draw"),t(this).removeClass("star-rating-hover")}).on("click",function(){t(this).rating("select")}).data("rating",i)));var l=t('<div role="text" aria-label="'+this.title+'" class="star-rating rater-'+i.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");if(s.append(l),this.id&&l.attr("id",this.id),this.className&&l.addClass(this.className),i.half&&(i.split=2),"number"==typeof i.split&&i.split>0){var c=(t.fn.width?l.width():0)||i.starWidth,u=i.count%i.split,h=Math.floor(c/i.split);l.width(h).find("a").css({"margin-left":"-"+u*h+"px"})}i.readOnly?l.addClass("star-rating-readonly"):l.addClass("star-rating-live").on("mouseover",function(){t(this).rating("fill"),t(this).rating("focus")}).on("mouseout",function(){t(this).rating("draw"),t(this).rating("blur")}).on("click",function(){t(this).rating("select")}),this.checked&&(i.current=l),"A"==this.nodeName&&t(this).hasClass("selected")&&(i.current=l),n.hide(),n.on("change.rating",function(e){if(e.selfTriggered)return!1;t(this).rating("select")}),l.data("rating.input",n.data("rating.star",l)),i.stars[i.stars.length]=l[0],i.inputs[i.inputs.length]=n[0],i.rater=o[r]=s,i.context=a,n.data("rating",i),s.data("rating",i),l.data("rating",i),a.data("rating",o),a.data("rating"+r,s)}),t(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn"),this},t.extend(t.fn.rating,{calls:0,focus:function(){var e=this.data("rating");if(!e)return this;if(!e.focus)return this;var i=t(this).data("rating.input")||t("INPUT"==this.tagName?this:null);e.focus&&e.focus.apply(i[0],[i.val(),t("a",i.data("rating.star"))[0]])},blur:function(){var e=this.data("rating");if(!e)return this;if(!e.blur)return this;var i=t(this).data("rating.input")||t("INPUT"==this.tagName?this:null);e.blur&&e.blur.apply(i[0],[i.val(),t("a",i.data("rating.star"))[0]])},fill:function(){var t=this.data("rating");if(!t)return this;t.readOnly||(this.rating("drain"),this.prevAll().addBack().filter(".rater-"+t.serial).addClass("star-rating-hover"))},drain:function(){var t=this.data("rating");if(!t)return this;t.readOnly||t.rater.children().filter(".rater-"+t.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var e=this.data("rating");if(!e)return this;this.rating("drain");var i=t(e.current),n=i.length?i.prevAll().addBack().filter(".rater-"+e.serial):null;n&&n.addClass("star-rating-on"),e.cancel[e.readOnly||e.required?"hide":"show"](),this.siblings()[e.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(e,i){var n=this.data("rating");if(!n)return this;if(!n.readOnly){if(n.current=null,void 0!==e||this.length>1){if("number"==typeof e)return t(n.stars[e]).rating("select",void 0,i);if("string"==typeof e)return t.each(n.stars,function(){t(this).data("rating.input").val()==e&&t(this).rating("select",void 0,i)}),this}else n.current="INPUT"==this[0].tagName?this.data("rating.star"):this.is(".rater-"+n.serial)?this:null;this.data("rating",n),this.rating("draw");var r=t(n.current?n.current.data("rating.input"):null),a=t(n.inputs).filter(":checked");return t(n.inputs).not(r).prop("checked",!1),r.prop("checked",!0),t(r.length?r:a).trigger({type:"change",selfTriggered:!0}),(i||void 0==i)&&n.callback&&n.callback.apply(r[0],[r.val(),t("a",n.current)[0]]),this}},readOnly:function(e,i){var n=this.data("rating");if(!n)return this;n.readOnly=!(!e&&void 0!=e),i?t(n.inputs).attr("disabled","disabled"):t(n.inputs).removeAttr("disabled"),this.data("rating",n),this.rating("draw")},disable:function(){this.rating("readOnly",!0,!0)},enable:function(){this.rating("readOnly",!1,!1)}}),t.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16},t(function(){t("input[type=radio].star").rating()})}(e)}).call(e,i(0),i(0))},function(t,e,i){(function(t){!function(t){void 0===t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var i=t([0]),n=-1,r=this.length;++n<r&&(i.context=i[0]=this[n])&&!1!==e.call(i[0],n,i););return this}})}(t),function(t,e){"use strict";function i(e){var i=t(document.createTextNode(""));e.before(i),i.before(e),i.remove()}function n(t){function e(t){return H[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function r(t,e){for(var i=0,n=e.length;i<n;i+=1)if(o(t,e[i]))return i;return-1}function a(){var e=t(z);e.appendTo("body");var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}function o(t,i){return t===i||t!==e&&i!==e&&(null!==t&&null!==i&&(t.constructor===String?t+""==i+"":i.constructor===String&&i+""==t+""))}function s(e,i){var n,r,a;if(null===e||e.length<1)return[];for(n=e.split(i),r=0,a=n.length;r<a;r+=1)n[r]=t.trim(n[r]);return n}function l(t){return t.outerWidth(!1)-t.width()}function c(i){var n="keyup-change-value";i.on("keydown",function(){t.data(i,n)===e&&t.data(i,n,i.val())}),i.on("keyup",function(){var r=t.data(i,n);r!==e&&i.val()!==r&&(t.removeData(i,n),i.trigger("keyup-change"))})}function u(i){i.on("mousemove",function(i){var n=L;n!==e&&n.x===i.pageX&&n.y===i.pageY||t(i.target).trigger("mousemove-filtered",i)})}function h(t,i,n){n=n||e;var r;return function(){var e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){i.apply(n,e)},t)}}function d(t,e){var i=h(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){r(t.target,e.get())>=0&&i(t)})}function f(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,i=t[0],n=t.val().length;t.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(e=i.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var i=0,n=0;if("selectionStart"in e)i=e.selectionStart,n=e.selectionEnd-i;else if("selection"in document){e.focus();var r=document.selection.createRange();n=document.selection.createRange().text.length,r.moveStart("character",-e.value.length),i=r.text.length-n}return{offset:i,length:n}}function m(t){t.preventDefault(),t.stopPropagation()}function g(t){t.preventDefault(),t.stopImmediatePropagation()}function v(e){if(!R){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);R=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),R.attr("class","select2-sizer"),t("body").append(R)}return R.text(e.val()),R.width()}function _(e,i,n){var r,a,o=[];r=t.trim(e.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),r=t.trim(i.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(a=n(this))&&o.push(a)})),e.attr("class",o.join(" "))}function y(t,e,i,r){var a=n(t.toUpperCase()).indexOf(n(e.toUpperCase())),o=e.length;if(a<0)return void i.push(r(t));i.push(r(t.substring(0,a))),i.push("<span class='select2-match'>"),i.push(r(t.substring(a,a+o))),i.push("</span>"),i.push(r(t.substring(a+o,t.length)))}function b(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function w(i){var n,r=null,a=i.quietMillis||100,o=i.url,s=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,a=o,c=i.transport||t.fn.select2.ajaxDefaults.transport,u={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},h=t.extend({},t.fn.select2.ajaxDefaults.params,u);n=n?n.call(s,l.term,l.page,l.context):null,a="function"==typeof a?a.call(s,l.term,l.page,l.context):a,r&&"function"==typeof r.abort&&r.abort(),i.params&&(t.isFunction(i.params)?t.extend(h,i.params.call(s)):t.extend(h,i.params)),t.extend(h,{url:a,dataType:i.dataType,data:n,success:function(t){var e=i.results(t,l.page,l);l.callback(e)},error:function(t,e,i){var n={hasError:!0,jqXHR:t,textStatus:e,errorThrown:i};l.callback(n)}}),r=c.call(s,h)},a)}}function x(e){var i,n,r=e,a=function(t){return""+t.text};t.isArray(r)&&(n=r,r={results:n}),!1===t.isFunction(r)&&(n=r,r=function(){return n});var o=r();return o.text&&(a=o.text,t.isFunction(a)||(i=o.text,a=function(t){return t[i]})),function(e){var i,n=e.term,o={results:[]};if(""===n)return void e.callback(r());i=function(r,o){var s,l;if(r=r[0],r.children){s={};for(l in r)r.hasOwnProperty(l)&&(s[l]=r[l]);s.children=[],t(r.children).each2(function(t,e){i(e,s.children)}),(s.children.length||e.matcher(n,a(s),r))&&o.push(s)}else e.matcher(n,a(r),r)&&o.push(r)},t(r().results).each2(function(t,e){i(e,o.results)}),e.callback(o)}}function k(i){var n=t.isFunction(i);return function(r){var a=r.term,o={results:[]},s=n?i(r):i;t.isArray(s)&&(t(s).each(function(){var t=this.text!==e,i=t?this.text:this;(""===a||r.matcher(a,i))&&o.results.push(t?this:{id:this,text:this})}),r.callback(o))}}function C(e,i){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(i+" must be a string, function, or falsy value")}function S(e,i){if(t.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return e.apply(i,n)}return e}function T(e){var i=0;return t.each(e,function(t,e){e.children?i+=T(e.children):i++}),i}function A(t,i,n,r){var a,s,l,c,u,h=t,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return e;for(;;){for(s=-1,l=0,c=r.tokenSeparators.length;l<c&&(u=r.tokenSeparators[l],!((s=t.indexOf(u))>=0));l++);if(s<0)break;if(a=t.substring(0,s),t=t.substring(s+u.length),a.length>0&&(a=r.createSearchChoice.call(this,a,i))!==e&&null!==a&&r.id(a)!==e&&null!==r.id(a)){for(d=!1,l=0,c=i.length;l<c;l++)if(o(r.id(a),r.id(i[l]))){d=!0;break}d||n(a)}}return h!==t?t:void 0}function M(){var e=this;t.each(arguments,function(t,i){e[i].remove(),e[i]=null})}function O(e,i){var n=function(){};return n.prototype=new e,n.prototype.constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var E,$,j,D,P,R,N,I,L={x:0,y:0},E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return(t=t.which?t.which:t)>=112&&t<=123}},z="<div class='select2-measure-scrollbar'></div>",H={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};N=t(document),P=function(){var t=1;return function(){return t++}}(),$=O(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,r;this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+P()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=t("body"),_(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(S(i.containerCss,this.opts.element)),this.container.addClass(S(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),_(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=n=this.container.find(".select2-results"),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),u(this.results),this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",".select2-results",this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(t){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&n.mousewheel(function(t,e,i,r){var a=n.scrollTop();r>0&&a-r<=0?(n.scrollTop(0),m(t)):r<0&&n.get(0).scrollHeight-n.scrollTop()+r<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),m(t))}),c(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",".select2-results",this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var o=i.element.prop("disabled");o===e&&(o=!1),this.enable(!o);var s=i.element.prop("readonly");s===e&&(s=!1),this.readonly(s),I=I||a(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,i=t.data("select2"),n=this;this.close(),t.length&&t[0].detachEvent&&t.each(function(){this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==e&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),M.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:o(t.attr("locked"),"locked")||o(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var n,r,a,l,c=this;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=r=i.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=t.extend({},{populateResults:function(n,r,a){var o,s=this.opts.id,l=this.liveRegion;(o=function(n,r,u){var h,d,f,p,m,g,v,_,y,b;n=i.sortResults(n,r,a);var w=[];for(h=0,d=n.length;h<d;h+=1)f=n[h],m=!0===f.disabled,p=!m&&s(f)!==e,g=f.children&&f.children.length>0,v=t("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(p?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(f)),v.attr("role","presentation"),_=t(document.createElement("div")),_.addClass("select2-result-label"),_.attr("id","select2-result-label-"+P()),_.attr("role","option"),b=i.formatResult(f,_,a,c.opts.escapeMarkup),b!==e&&(_.html(b),v.append(_)),g&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),o(f.children,y,u+1),v.append(y)),v.data("select2-data",f),w.push(v[0]);r.append(w),l.text(i.formatMatches(n.length))})(r,n,0)}},t.fn.select2.defaults,i),"function"!=typeof i.id&&(a=i.id,i.id=function(t){return t[a]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(r?(i.query=this.bind(function(t){var i,r,a,o={results:[],more:!1},s=t.term;a=function(e,i){var n;e.is("option")?t.matcher(s,e.text(),e)&&i.push(c.optionToData(e)):e.is("optgroup")&&(n=c.optionToData(e),e.children().each2(function(t,e){a(e,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==e&&i.length>0&&(r=this.getPlaceholderOption())&&(i=i.not(r)),i.each2(function(t,e){a(e,o.results)}),t.callback(o)}),i.id=function(t){return t.id}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=w.call(i.element,i.ajax)):"data"in i?i.query=x(i.data):"tags"in i&&(i.query=k(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),i.initSelection===e&&(i.initSelection=function(e,n){var r=[];t(s(e.val(),i.separator)).each(function(){var e={id:this,text:this},n=i.tags;t.isFunction(n)&&(n=n()),t(n).each(function(){if(o(this.id,e.id))return e=this,!1}),r.push(e)}),n(r)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,r=this;n.on("change.select2",this.bind(function(t){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var t=n.prop("disabled");t===e&&(t=!1),this.enable(!t);var i=n.prop("readonly");i===e&&(i=!1),this.readonly(i),_(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass,this.opts.element)),_(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass,this.opts.element))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",r._sync)}),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(e){t.each(e,r._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,n,r,a,o=this.dropdown,s=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=o.outerHeight(!1),h=t(window),d=h.width(),f=h.height(),p=h.scrollLeft()+d,m=h.scrollTop()+f,g=s.top+l,v=s.left,_=g+u<=m,y=s.top-u>=h.scrollTop(),b=o.outerWidth(!1),w=v+b<=p,x=o.hasClass("select2-drop-above");x?(i=!0,!y&&_&&(n=!0,i=!1)):(i=!1,!_&&y&&(n=!0,i=!0)),n&&(o.hide(),s=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=o.outerHeight(!1),p=h.scrollLeft()+d,m=h.scrollTop()+f,g=s.top+l,v=s.left,b=o.outerWidth(!1),w=v+b<=p,o.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(a=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),b=o.outerWidth(!1)+(a.scrollHeight===a.clientHeight?0:I.width),b>c?c=b:b=c,u=o.outerHeight(!1),w=v+b<=p):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(e=this.body.offset(),g-=e.top,v-=e.left),w||(v=s.left+this.container.outerWidth(!1)-b),r={left:v,width:c},i?(r.top=s.top-u,r.bottom="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(r.top=g,r.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),r=t.extend(r,S(this.opts.dropdownCss,this.opts.element)),o.css(r)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),N.on("mousemove.select2Event",function(t){L.x=t.pageX,L.y=t.pageY}),!0)},opening:function(){var e,n=this.containerEventName,r="scroll."+n,a="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),e=t("#select2-drop-mask"),0==e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",function(n){i(e);var r,a=t("#select2-drop");a.length>0&&(r=a.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){t(this).on(a+" "+r+" "+o,function(t){s.opened()&&s.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,i="scroll."+e,n="resize."+e,r="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(i).off(n).off(r)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),N.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,i,n,r,a,o,s,l,c=this.results;if(!((i=this.highlight())<0)){if(0==i)return void c.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),n=t(e[i]),l=(n.offset()||{}).top||0,r=l+n.outerHeight(!0),i===e.length-1&&(s=c.find("li.select2-more-results"),s.length>0&&(r=s.offset().top+s.outerHeight(!0))),a=c.offset().top+c.outerHeight(!0),r>a&&c.scrollTop(c.scrollTop()+(r-a)),o=l-c.offset().top,o<0&&"none"!=n.css("display")&&c.scrollTop(c.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=e;var r=t(i[n]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var i,n,a=this.findHighlightableChoices();if(0===arguments.length)return r(a.filter(".select2-highlighted")[0],a.get());e>=a.length&&(e=a.length-1),e<0&&(e=0),this.removeHighlight(),i=t(a[e]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),(n=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,e=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,r=this.search.val(),a=this.context;0!==e.length&&e.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(e.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(o){n.opened()&&(n.opts.populateResults.call(this,t,o.results,{term:r,page:i,context:a}),n.postprocessResults(o,!1,!1),!0===o.more?(e.detach().appendTo(t).text(S(n.opts.formatLoadMore,n.opts.element,i+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):e.remove(),n.positionDropdown(),n.resultsPage=i,n.context=o.context,this.opts.element.trigger({type:"select2-loaded",items:o}))})}))},tokenize:function(){},updateResults:function(i){function n(){c.removeClass("select2-active"),d.positionDropdown(),u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(u.text()):d.liveRegion.text(d.opts.formatMatches(u.find(".select2-result-selectable").length))}function r(t){u.html(t),n()}var a,s,l,c=this.search,u=this.results,h=this.opts,d=this,f=c.val(),p=t.data(this.container,"select2-last-term");if((!0===i||!p||!o(f,p))&&(t.data(this.container,"select2-last-term",f),!0===i||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(a=this.data(),t.isArray(a)&&a.length>=m&&C(h.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+S(h.formatSelectionTooBig,h.element,m)+"</li>");if(c.val().length<h.minimumInputLength)return r(C(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+S(h.formatInputTooShort,h.element,c.val(),h.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&c.val().length>h.maximumInputLength)return void r(C(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+S(h.formatInputTooLong,h.element,c.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+S(h.formatSearching,h.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),s=this.tokenize(),s!=e&&null!=s&&c.val(s),this.resultsPage=1,h.query({element:h.element,term:c.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(a){var s;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(a.hasError!==e&&C(h.formatAjaxError,"formatAjaxError"))return void r("<li class='select2-ajax-error'>"+S(h.formatAjaxError,h.element,a.jqXHR,a.textStatus,a.errorThrown)+"</li>");if(this.context=a.context===e?null:a.context,this.opts.createSearchChoice&&""!==c.val()&&(s=this.opts.createSearchChoice.call(d,c.val(),a.results))!==e&&null!==s&&d.id(s)!==e&&null!==d.id(s)&&0===t(a.results).filter(function(){return o(d.id(this),d.id(s))}).length&&this.opts.createSearchChoicePosition(a.results,s),0===a.results.length&&C(h.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+S(h.formatNoMatches,h.element,c.val())+"</li>");u.empty(),d.opts.populateResults.call(this,u,a.results,{term:c.val(),page:this.resultsPage,context:null}),!0===a.more&&C(h.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+h.escapeMarkup(S(h.formatLoadMore,h.element,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(a,i),n(),this.opts.element.trigger({type:"select2-loaded",items:a})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(t){if(this._touchMoved)return void this.clearTouchMoved();var e=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n?(this.highlight(e),this.onSelect(n,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function i(){var i,n,r,a,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((i=this.opts.element.attr("style"))!==e)for(n=i.split(";"),a=0,o=n.length;a<o;a+=1)if(s=n[a].replace(/\s/g,""),null!==(r=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&r.length>=1)return r[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),j=O($,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(n=i.createTextRange(),n.collapse(!1),n.select()):i.setSelectionRange&&(r=this.search.val().length,i.setSelectionRange(r,r))),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"selection","focusser")},initContainer:function(){var e,n,r=this.container,a=this.dropdown,o=P();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),n=t("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode){if(t.which===E.PAGE_UP||t.which===E.PAGE_DOWN)return void m(t);switch(t.which){case E.UP:case E.DOWN:return this.moveHighlight(t.which===E.UP?-1:1),void m(t);case E.ENTER:return this.selectHighlighted(),void m(t);case E.TAB:return void this.selectHighlighted({noFocus:!0});case E.ESC:return this.cancel(t),void m(t)}}})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==E.TAB&&!E.isControl(t)&&!E.isFunctionKey(t)&&t.which!==E.ESC){if(!1===this.opts.openOnEnter&&t.which===E.ENTER)return void m(t);if(t.which==E.DOWN||t.which==E.UP||t.which==E.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void m(t)}return t.which==E.DELETE||t.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(t)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),g(t),this.close(),this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(n){i(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(n)})),a.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){m(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var i=this.selection.data("select2-data");if(i){var n=t.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(i,t.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==e&&((t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val())},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=t.find("option").filter(function(){return this.selected&&!this.disabled});e(i.optionToData(n))}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var r=i.val(),a=null;e.query({matcher:function(t,i,n){var s=o(r,e.id(n));return s&&(a=n),s},callback:t.isFunction(n)?function(){n(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var n=0,r=this;if(this.findHighlightableChoices().each2(function(t,e){if(o(r.id(e.data("select2-data")),r.opts.element.val()))return n=t,!1}),!1!==i&&(!0===e&&n>=0?this.highlight(n):this.highlight(0)),!0===e){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(T(t.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(i,this.id(t))||this.triggerChange({added:t,removed:n})}},updateSelection:function(t){var i,n,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),r.empty(),null!==t&&(i=this.opts.formatSelection(t,r,this.opts.escapeMarkup)),i!==e&&r.append(i),n=this.opts.formatSelectionCssClass(t,r),n!==e&&r.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,n=null,r=this,a=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return n=r.optionToData(e),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:a});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder(),i&&r.triggerChange({added:t,removed:a})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,n=!1;if(0===arguments.length)return i=this.selection.data("select2-data"),i==e&&(i=null),i;arguments.length>1&&(n=arguments[1]),t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n)}}),D=O($,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){n.push(i.optionToData(e))}),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var r=s(i.val(),e.separator),a=[];e.query({matcher:function(i,n,s){var l=t.grep(r,function(t){return o(t,e.id(s))}).length;return l&&a.push(s),l},callback:t.isFunction(n)?function(){for(var t=[],i=0;i<r.length;i++)for(var s=r[i],l=0;l<a.length;l++){var c=a[l];if(o(s,e.id(c))){t.push(c),a.splice(l,1);break}}n(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"searchContainer","selection")},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var n=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(e){n.search[0].focus(),n.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+P()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var i=e.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),r=i.next(".select2-search-choice:not(.select2-locked)"),a=p(this.search);if(i.length&&(t.which==E.LEFT||t.which==E.RIGHT||t.which==E.BACKSPACE||t.which==E.DELETE||t.which==E.ENTER)){var o=i;return t.which==E.LEFT&&n.length?o=n:t.which==E.RIGHT?o=r.length?r:null:t.which===E.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),o=n.length?n:r):t.which==E.DELETE?this.unselect(i.first())&&(this.search.width(10),o=r.length?r:null):t.which==E.ENTER&&(o=null),this.selectChoice(o),m(t),void(o&&o.length||this.open())}if((t.which===E.BACKSPACE&&1==this.keydowns||t.which==E.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void m(t);if(this.selectChoice(null),this.opened())switch(t.which){case E.UP:case E.DOWN:return this.moveHighlight(t.which===E.UP?-1:1),void m(t);case E.ENTER:return this.selectHighlighted(),void m(t);case E.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case E.ESC:return this.cancel(t),void m(t)}if(t.which!==E.TAB&&!E.isControl(t)&&!E.isFunctionKey(t)&&t.which!==E.BACKSPACE&&t.which!==E.ESC){if(t.which===E.ENTER){if(!1===this.opts.openOnEnter)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),t.which!==E.PAGE_UP&&t.which!==E.PAGE_DOWN||m(t),t.which===E.ENTER&&m(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],n=[],a=this;t(e).each(function(){r(a.id(this),i)<0&&(i.push(a.id(this)),n.push(this))}),e=n,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){a.addSelectedChoice(this)}),a.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,i){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.moveHighlight(1),!this.select&&this.opts.closeOnSelect||this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.clearSearch(),this.updateResults(),this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,r,a=!i.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=a?o:s,c=this.id(i),u=this.getVal();n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),n!=e&&l.find("div").replaceWith("<div>"+n+"</div>"),r=this.opts.formatSelectionCssClass(i,l.find("div")),r!=e&&l.addClass(r),a&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(e){var i,n,a=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){var o=t.Event("select2-removing");if(o.val=this.id(i),o.choice=i,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(n=r(this.id(i),a))>=0;)a.splice(n,1),this.setVal(a),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(t,e,i){var n=this.getVal(),a=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),s=this;a.each2(function(t,e){r(s.id(e.data("select2-data")),n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&s.highlight(0),!this.opts.createSearchChoice&&!a.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&C(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+S(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var t,e,i,n,r,a=l(this.search);t=v(this.search)+10,e=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,r=i-(e-n)-a,r<t&&(r=i-a),r<40&&(r=i-a),r<=0&&(r=t),this.search.width(Math.floor(r))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){r(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),i=0;i<e.length;i++)for(var n=0;n<t.length;n++)o(this.opts.id(e[i]),this.opts.id(t[n]))&&(e.splice(i,1),i>0&&i--,t.splice(n,1),n--);return{added:e,removed:t}},val:function(i,n){var r,a=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t.map(e,a.id);a.setVal(i),a.updateSelection(e),a.clearSearch(),n&&a.triggerChange(a.buildChangeDetails(r,a.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,i){var n,r,a=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get();r=this.data(),e||(e=[]),n=t.map(e,function(t){return a.opts.id(t)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(r,this.data()))}}),t.fn.select2=function(){var i,n,a,o,s,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],h=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:t.extend({},l[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?s=i.element.prop("multiple"):(s=i.multiple||!1,"tags"in i&&(i.multiple=s=!0)),n=s?new window.Select2.class.multi:new window.Select2.class.single,n.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(r(l[0],c)<0)throw"Unknown method: "+l[0];if(o=e,(n=t(this).data("select2"))===e)return;if(a=l[0],"container"===a?o=n.container:"dropdown"===a?o=n.dropdown:(d[a]&&(a=d[a]),o=n[a].apply(n,l.slice(1))),r(l[0],u)>=0||r(l[0],h)>=0&&1==l.length)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var r=[];return y(t.text,i.term,r,n),r.join("")},formatSelection:function(t,i,n){return t?n(t.text):e},sortResults:function(t,e,i){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(t,i){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},matcher:function(t,e){return n(""+e).toUpperCase().indexOf(n(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:A,escapeMarkup:b,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(t,i){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return!(("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&t.opts.minimumResultsForSearch<0)}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(t,e,i){return"Loading failed"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results"},formatSearching:function(){return"Searching"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:x,tags:k},util:{debounce:h,markMatch:y,escapeMarkup:b,stripDiacritics:n},class:{abstract:$,single:j,multi:D}}}}(t)}).call(e,i(0))},function(t,e,i){(function(t){/*! jQuery UI - v1.9.1 - 2012-10-29
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.menu.js, jquery.ui.slider.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
!function(t,e){function i(e,i){var r,a,o,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,a=r.name,!(!e.href||!a||"map"!==r.nodeName.toLowerCase())&&(!!(o=t("img[usemap=#"+a+"]")[0])&&n(o))):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().andSelf().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,a=/^ui-id-\d+$/;t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,a=t(this[0]);a.length&&a[0]!==document;){if(("absolute"===(n=a.css("position"))||"relative"===n||"fixed"===n)&&(r=parseInt(a.css("zIndex"),10),!isNaN(r)&&0!==r))return r;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&t(this).removeAttr("id")})}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(a,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,r(this,e,!0,i)+"px")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),function(){var e=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];t.ui.ie=!!e.length,t.ui.ie6=6===parseFloat(e[1],10)}(),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,a=t.ui[e].prototype;for(r in n)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<r.length;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},contains:t.contains,hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},isOverAxis:function(t,e,i){return t>e&&t<e+i},isOver:function(e,i,n,r,a,o){return t.ui.isOverAxis(e,n,a)&&t.ui.isOverAxis(i,r,o)}}))}(t),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(t){}r(e)},t.widget=function(e,i,n){var r,a,o,s,l=e.split(".")[0];e=e.split(".")[1],r=l+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},a=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),s=new i,s.options=t.widget.extend({},s.options),t.each(n,function(e,r){t.isFunction(r)&&(n[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=n,e=r.apply(this,arguments),this._super=i,this._superApply=a,e}}())}),o.prototype=t.widget.extend(s,{widgetEventPrefix:s.widgetEventPrefix||e},n,{constructor:o,namespace:l,widgetName:e,widgetBaseClass:r,widgetFullName:r}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o)},t.widget.extend=function(i){for(var r,a,o=n.call(arguments,1),s=0,l=o.length;s<l;s++)for(r in o[s])a=o[s][r],o[s].hasOwnProperty(r)&&a!==e&&(t.isPlainObject(a)?i[r]=t.isPlainObject(i[r])?t.widget.extend({},i[r],a):t.widget.extend({},a):i[r]=a);return i},t.widget.bridge=function(i,r){var a=r.prototype.widgetFullName;t.fn[i]=function(o){var s="string"==typeof o,l=n.call(arguments,1),c=this;return o=!s&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,s?this.each(function(){var n,r=t.data(this,a);return r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,l),n!==r&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,a);e?e.option(o||{})._init():new r(o,this)}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetName,this),t.data(n,this.widgetFullName,this),this._on(this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,a,o,s=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(s={},r=i.split("."),i=r.shift(),r.length){for(a=s[i]=t.widget.extend({},this.options[i]),o=0;o<r.length-1;o++)a[r[o]]=a[r[o]]||{},a=a[r[o]];if(i=r.pop(),n===e)return a[i]===e?null:a[i];a[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];s[i]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i){var n,r=this;i?(e=n=t(e),this.bindings=this.bindings.add(e)):(i=e,e=this.element,n=this.widget()),t.each(i,function(i,a){function o(){if(!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(o.guid=a.guid=a.guid||o.guid||t.guid++);var s=i.match(/^(\w+)\s*(.*)$/),l=s[1]+r.eventNamespace,c=s[2];c?n.delegate(c,l,o):e.bind(l,o)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,a,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent,a)for(r in a)r in i||(i[r]=a[r]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,a){"string"==typeof r&&(r={effect:r});var o,s=r?!0===r||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=a,r.delay&&n.delay(r.delay),o&&t.effects&&(t.effects.effect[s]||!1!==t.uiBackCompat&&t.effects[s])?n[e](r):s!==e&&n[s]?n[s](r.duration,r.easing,a):n.queue(function(i){t(this)[e](),a&&a.call(n[0]),i()})}}),!1!==t.uiBackCompat&&(t.Widget.prototype._getCreateOptions=function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]})}(t),function(t,e){var i=!1;t(document).mouseup(function(t){i=!1}),t.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,r=1===e.which,a=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(r&&!a&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0))}},_mouseMove:function(e){return!t.ui.ie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(t){return this.mouseDelayMet},_mouseStart:function(t){},_mouseDrag:function(t){},_mouseStop:function(t){},_mouseCapture:function(t){return!0}})}(t),function(e,i){function n(t,e,i){return[parseInt(t[0],10)*(f.test(t[0])?e/100:1),parseInt(t[1],10)*(f.test(t[1])?i/100:1)]}function r(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var a,o=Math.max,s=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+%?/,d=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(a!==i)return a;var t,n,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return e("body").append(r),t=o.offsetWidth,r.css("overflow","scroll"),n=o.offsetWidth,t===n&&(n=r[0].clientWidth),r.remove(),a=t-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:a?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var i,a,f,m,g,v=e(t.of),_=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(_),b=v[0],w=(t.collision||"flip").split(" "),x={};return 9===b.nodeType?(a=v.width(),f=v.height(),m={top:0,left:0}):e.isWindow(b)?(a=v.width(),f=v.height(),m={top:v.scrollTop(),left:v.scrollLeft()}):b.preventDefault?(t.at="left top",a=f=0,m={top:b.pageY,left:b.pageX}):(a=v.outerWidth(),f=v.outerHeight(),m=v.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",e=h.exec(n[0]),i=h.exec(n[1]),x[this]=[e?e[0]:0,i?i[0]:0],t[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?g.left+=a:"center"===t.at[0]&&(g.left+=a/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),i=n(x.at,a,f),g.left+=i[0],g.top+=i[1],this.each(function(){var c,u,h=e(this),d=h.outerWidth(),p=h.outerHeight(),b=r(this,"marginLeft"),k=r(this,"marginTop"),C=d+b+r(this,"marginRight")+y.width,S=p+k+r(this,"marginBottom")+y.height,T=e.extend({},g),A=n(x.my,h.outerWidth(),h.outerHeight());"right"===t.my[0]?T.left-=d:"center"===t.my[0]&&(T.left-=d/2),"bottom"===t.my[1]?T.top-=p:"center"===t.my[1]&&(T.top-=p/2),T.left+=A[0],T.top+=A[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),c={marginLeft:b,marginTop:k},e.each(["left","top"],function(n,r){e.ui.position[w[n]]&&e.ui.position[w[n]][r](T,{targetWidth:a,targetHeight:f,elemWidth:d,elemHeight:p,collisionPosition:c,collisionWidth:C,collisionHeight:S,offset:[i[0]+A[0],i[1]+A[1]],my:t.my,at:t.at,within:_,elem:h})}),e.fn.bgiframe&&h.bgiframe(),t.using&&(u=function(e){var i=m.left-T.left,n=i+a-d,r=m.top-T.top,l=r+f-p,c={target:{element:v,left:m.left,top:m.top,width:a,height:f},element:{element:h,left:T.left,top:T.top,width:d,height:p},horizontal:n<0?"left":i>0?"right":"center",vertical:l<0?"top":r>0?"bottom":"middle"};a<d&&s(i+n)<a&&(c.horizontal="center"),f<p&&s(r+l)<f&&(c.vertical="middle"),o(s(i),s(n))>o(s(r),s(l))?c.important="horizontal":c.important="vertical",t.using.call(this,e,c)}),h.offset(e.extend(T,{using:u}))})},e.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,s=t.left-e.collisionPosition.marginLeft,l=r-s,c=s+e.collisionWidth-a-r;e.collisionWidth>a?l>0&&c<=0?(i=t.left+l+e.collisionWidth-a-r,t.left+=l-i):t.left=c>0&&l<=0?r:l>c?r+a-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=o(t.left-s,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,l=r-s,c=s+e.collisionHeight-a-r;e.collisionHeight>a?l>0&&c<=0?(i=t.top+l+e.collisionHeight-a-r,t.top+=l-i):t.top=c>0&&l<=0?r:l>c?r+a-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=o(t.top-s,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,a=r.offset.left+r.scrollLeft,o=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];u<0?((i=t.left+d+f+p+e.collisionWidth-o-a)<0||i<s(u))&&(t.left+=d+f+p):h>0&&((n=t.left-e.collisionPosition.marginLeft+d+f+p-l)>0||s(n)<h)&&(t.left+=d+f+p)},top:function(t,e){var i,n,r=e.within,a=r.offset.top+r.scrollTop,o=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-o-l,d="top"===e.my[1],f=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];u<0?(n=t.top+f+p+m+e.collisionHeight-o-a,t.top+f+p+m>u&&(n<0||n<s(u))&&(t.top+=f+p+m)):h>0&&(i=t.top-e.collisionPosition.marginTop+f+p+m-l,t.top+f+p+m>h&&(i>0||s(i)<h)&&(t.top+=f+p+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,r,a,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)t.style[a]=n[a];t.appendChild(s),i=o||document.documentElement,i.insertBefore(t,i.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",r=e(s).offset().left,e.support.offsetFractions=r>10&&r<11,t.innerHTML="",i.removeChild(t)}(),!1!==e.uiBackCompat&&function(t){var e=t.fn.position;t.fn.position=function(n){if(!n||!n.offset)return e.call(this,n);var r=n.offset.split(" "),a=n.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===a.length&&(/left|center|right/.test(a[0])?a[1]="center":(a[1]=a[0],a[0]="center")),e.call(this,t.extend(n,{at:a[0]+r[0]+" "+a[1]+r[1],offset:i}))}}(t)}(t),function(t,e){var i=0;t.widget("ui.autocomplete",{version:"1.9.1",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,i=!0,void 0;e=!1,n=!1,i=!1;var a=t.ui.keyCode;switch(r.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",r);break;case a.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case a.UP:e=!0,this._keyEvent("previous",r);break;case a.DOWN:e=!0,this._keyEvent("next",r);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case a.TAB:this.menu.active&&this.menu.select(r);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void n.preventDefault();if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:t(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target!==e.element[0]&&n.target!==i&&!t.contains(i,n.target)&&e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),t.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this.document.find(e||"body")[0]),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,e=++i;return function(n){e===i&&t.__response(n),--t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,e),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(t),function(t,e){var i,n,r,a,o="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)},c=function(e){var i=e.name,n=e.form,r=t([]);return i&&(r=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.9.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,s=this.options,u="checkbox"===this.type||"radio"===this.type,h="ui-state-hover"+(u?"":" ui-state-active"),d="ui-state-focus";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||(t(this).addClass("ui-state-hover"),this===i&&t(this).addClass("ui-state-active"))}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||t(this).removeClass(h)}).bind("click"+this.eventNamespace,function(t){s.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(d)}),u&&(this.element.bind("change"+this.eventNamespace,function(){a||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){s.disabled||(a=!1,n=t.pageX,r=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){s.disabled||n===t.pageX&&r===t.pageY||(a=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||a)return!1;t(this).toggleClass("ui-state-active"),e.buttonElement.attr("aria-pressed",e.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||a)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];c(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(s.disabled)return!1;t(this).addClass("ui-state-active"),i=this,e.document.one("mouseup",function(){i=null})}).bind("mouseup"+this.eventNamespace,function(){if(s.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(s.disabled)return!1;(e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" ui-state-hover ui-state-active  "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1));this._resetButton()},refresh:function(){var e=this.element.is(":disabled")||this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?c(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(s),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,a=[];n.primary||n.secondary?(this.options.text&&a.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(a.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}}),t.widget("ui.buttonset",{version:"1.9.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(t),function(t,e){var i=!1;t.widget("ui.menu",{version:"1.9.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var n=t(e.target).closest(".ui-menu-item");!i&&n.not(".ui-state-disabled").length&&(i=!0,this.select(e),n.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),i=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,a,o,s,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===r?o=!0:a=r+a,s=new RegExp("^"+i(a),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(t(this).children("a").text())}),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(a=String.fromCharCode(e.keyCode),s=new RegExp("^"+i(a),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),n.each(function(){var e=t(this),n=e.prev("a"),r=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))}),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,a,o,s;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=e.height(),r<0?this.activeMenu.scrollTop(a+r):r+s>o&&this.activeMenu.scrollTop(a+r-o+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;if(!this.active)return void this.next(e);this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(e){var i,n,r;if(!this.active)return void this.next(e);this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(t),function(t,e){t.widget("ui.slider",t.ui.mouse,{version:"1.9.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=t([]),n.range&&(!0===n.range&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=t("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:""))),i=n.values&&n.values.length||1,e=r.length;e<i;e++)a.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=r.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).mouseenter(function(){n.disabled||t(this).addClass("ui-state-hover")}).mouseleave(function(){t(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?t(this).blur():(t(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))}).blur(function(){t(this).removeClass("ui-state-focus")}),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)}),this._on(this.handles,{keydown:function(e){var i,n,r,a,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,o),!1===i))return}switch(a=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-a)}this._slide(e,o,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,a,o,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));r>i&&(r=i,a=t(this),o=e)}),!0===u.range&&this.values(1)===u.min&&(o+=1,a=t(this.handles[o])),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),s=a.offset(),l=!t(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-s.left-a.width()/2,top:e.pageY-s.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),a=this._valueMin()+n*r,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,a;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>n||1===e&&i<n)&&(i=n),i!==this.values(e)&&(r=this.values(),r[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),!1!==a&&this.values(e,i,!0))):i!==this.value()&&!1!==(a=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var n,r,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch(t.isArray(this.options.values)&&(r=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<r;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,r,a,o=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:s.animate}))),e=i}):(n=this.value(),r=this._valueMin(),a=this._valueMax(),i=a!==r?(n-r)/(a-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:s.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:s.animate}))}})}(t)}).call(e,i(0))},function(t,e,i){(function(t){!function(t){t.fn.farbtastic=function(e){return t.farbtastic(this,e),this},t.farbtastic=function(e,i){var e=t(e)[0];return e.farbtastic||(e.farbtastic=new t._farbtastic(e,i))},t._farbtastic=function(e,i){var n=this;n.linkTo=function(e){return"object"==typeof n.callback&&t(n.callback).unbind("keyup",n.updateValue),n.color=null,"function"==typeof e?n.callback=e:"object"!=typeof e&&"string"!=typeof e||(n.callback=t(e),n.callback.bind("keyup",n.updateValue),n.callback[0].value&&n.setColor(n.callback[0].value)),this},n.updateValue=function(t){this.value&&this.value!=n.color&&n.setColor(this.value)},n.setColor=function(t){var e=n.unpack(t);return n.color!=t&&e&&(n.color=t,n.rgb=e,n.hsl=n.RGBToHSL(n.rgb),n.updateDisplay()),this},n.setHSL=function(t){return n.hsl=t,n.rgb=n.HSLToRGB(t),n.color=n.pack(n.rgb),n.updateDisplay(),this},n.initWidget=function(){var r={width:i.width,height:i.width};t(e).html('<div class="farbtastic" style="position: relative"><div class="farbtastic-solid"></div><canvas class="farbtastic-mask"></canvas><canvas class="farbtastic-overlay"></canvas></div>').find("*").attr(r).css(r).end().find("div>*").css("position","absolute"),t.browser.msie,n.radius=(i.width-i.wheelWidth)/2-1,n.square=Math.floor(.7*(n.radius-i.wheelWidth/2))-1,n.mid=Math.floor(i.width/2),n.markerSize=.3*i.wheelWidth,n.solidFill=t(".farbtastic-solid",e).css({width:2*n.square-1,height:2*n.square-1,left:n.mid-n.square,top:n.mid-n.square}),n.cnvMask=t(".farbtastic-mask",e),n.ctxMask=n.cnvMask[0].getContext("2d"),n.cnvOverlay=t(".farbtastic-overlay",e),n.ctxOverlay=n.cnvOverlay[0].getContext("2d"),n.ctxMask.translate(n.mid,n.mid),n.ctxOverlay.translate(n.mid,n.mid),n.drawCircle(),n.drawMask()},n.drawCircle=function(){var e,r,a=(new Date,n.radius),o=i.wheelWidth,s=8/a/24*Math.PI,l=n.ctxMask,c=0;l.save(),l.lineWidth=o/a,l.scale(a,a);for(var u=0;u<=24;++u){var h=u/24,d=h*Math.PI*2,f=Math.sin(c),p=-Math.cos(c);if(x2=Math.sin(d),y2=-Math.cos(d),am=(c+d)/2,tan=1/Math.cos((d-c)/2),xm=Math.sin(am)*tan,ym=-Math.cos(am)*tan,color2=n.pack(n.HSLToRGB([h,1,.5])),u>0)if(t.browser.msie){var m=(1+Math.min(Math.abs(Math.tan(c)),Math.abs(Math.tan(Math.PI/2-c))))/24;e=n.pack(n.HSLToRGB([r-.15*m,1,.5])),color2=n.pack(n.HSLToRGB([h+.15*m,1,.5]));var g=l.createLinearGradient(f,p,x2,y2);g.addColorStop(0,e),g.addColorStop(1,color2),l.fillStyle=g;var v=(a+o/2)/a,_=(a-o/2)/a;l.beginPath(),l.moveTo(f*v,p*v),l.quadraticCurveTo(xm*v,ym*v,x2*v,y2*v),l.lineTo(x2*_,y2*_),l.quadraticCurveTo(xm*_,ym*_,f*_,p*_),l.fill()}else{var g=l.createLinearGradient(f,p,x2,y2);g.addColorStop(0,e),g.addColorStop(1,color2),l.strokeStyle=g,l.beginPath(),l.moveTo(f,p),l.quadraticCurveTo(xm,ym,x2,y2),l.stroke()}c=d-s,e=color2,r=h}l.restore()},n.drawMask=function(){function e(t,e,i){for(var n=1/t,r=1/e,a=0;a<=e;++a)for(var o=1-a*r,s=0;s<=t;++s){var l=1-s*n,c=1-2*Math.min(o*l,(1-o)*l),u=c>0?.5*(2*o-1+c)/c:0;i(s,a,u,c)}}var i=(new Date,2*n.square),r=n.square;if(n.ctxMask.getImageData){var a=Math.floor(i/2),o=document.createElement("canvas");o.width=o.height=a+1;var s=o.getContext("2d"),l=s.getImageData(0,0,a+1,a+1),c=0;e(a,a,function(t,e,i,n){l.data[c++]=l.data[c++]=l.data[c++]=255*i,l.data[c++]=255*n}),s.putImageData(l,0,0),n.ctxMask.drawImage(o,0,0,a+1,a+1,-r,-r,2*r,2*r)}else if(t.browser.msie){var u,h,d=Math.floor(i/6);e(d,6,function(e,i,a,o){if(0==e&&(u=h,h=[]),a=Math.round(255*a),o=Math.round(255*o),i>0){var s=u[e][0],l=u[e][1],c=n.packDX(s,l),f=n.packDX(a,o),p=Math.round(n.mid+(.333*(i-1)-1)*r),m=Math.round(n.mid+(.333*i-1)*r);t("<div>").css({position:"absolute",filter:"progid:DXImageTransform.Microsoft.Gradient(StartColorStr="+c+", EndColorStr="+f+", GradientType=0)",top:p,height:m-p,left:n.mid+(6*e-r-1),width:6-(e==d?Math.round(3):0)}).appendTo(n.cnvMask)}h.push([a,o])})}else{var a=Math.floor(i/2);e(a,a,function(t,e,i,a){i=Math.round(255*i),n.ctxMask.fillStyle="rgba("+i+", "+i+", "+i+", "+a+")",n.ctxMask.fillRect(2*t-r-1,2*e-r-1,2,2)})}},n.drawMarkers=function(){var t=i.width,e=Math.ceil(n.markerSize/4),r=n.markerSize-e+1,a=6.28*n.hsl[0],o=Math.sin(a)*n.radius,s=-Math.cos(a)*n.radius,l=2*n.square*(.5-n.hsl[1]),c=2*n.square*(.5-n.hsl[2]),u=n.invert?"#fff":"#000",h=n.invert?"#000":"#fff",d=[{x:o,y:s,r:r,c:"#000",lw:e+1},{x:o,y:s,r:n.markerSize,c:"#fff",lw:e},{x:l,y:c,r:r,c:h,lw:e+1},{x:l,y:c,r:n.markerSize,c:u,lw:e}];n.ctxOverlay.clearRect(-n.mid,-n.mid,t,t);for(var f=0;f<d.length;f++){var p=d[f];n.ctxOverlay.lineWidth=p.lw,n.ctxOverlay.strokeStyle=p.c,n.ctxOverlay.beginPath(),n.ctxOverlay.arc(p.x,p.y,p.r,0,2*Math.PI,!0),n.ctxOverlay.stroke()}},n.updateDisplay=function(){n.invert=.3*n.rgb[0]+.59*n.rgb[1]+.11*n.rgb[2]<=.6,n.solidFill.css("backgroundColor",n.pack(n.HSLToRGB([n.hsl[0],1,.5]))),n.drawMarkers(),"object"==typeof n.callback?(t(n.callback).css({backgroundColor:n.color,color:n.invert?"#fff":"#000"}),t(n.callback).each(function(){"string"==typeof this.value&&this.value!=n.color&&(this.value=n.color)}).change()):"function"==typeof n.callback&&n.callback.call(n,n.color)},n.widgetCoords=function(t){return{x:t.pageX-n.offset.left-n.mid,y:t.pageY-n.offset.top-n.mid}},n.mousedown=function(i){t._farbtastic.dragging||(t(document).bind("mousemove",n.mousemove).bind("mouseup",n.mouseup),t._farbtastic.dragging=!0),n.offset=t(e).offset();var r=n.widgetCoords(i);return n.circleDrag=Math.max(Math.abs(r.x),Math.abs(r.y))>n.square+2,n.mousemove(i),!1},n.mousemove=function(t){var e=n.widgetCoords(t);if(n.circleDrag){var i=Math.atan2(e.x,-e.y)/6.28;n.setHSL([(i+1)%1,n.hsl[1],n.hsl[2]])}else{var r=Math.max(0,Math.min(1,-e.x/n.square/2+.5)),a=Math.max(0,Math.min(1,-e.y/n.square/2+.5));n.setHSL([n.hsl[0],r,a])}return!1},n.mouseup=function(){t(document).unbind("mousemove",n.mousemove),t(document).unbind("mouseup",n.mouseup),t._farbtastic.dragging=!1},n.dec2hex=function(t){return(t<16?"0":"")+t.toString(16)},n.packDX=function(t,e){return"#"+n.dec2hex(e)+n.dec2hex(t)+n.dec2hex(t)+n.dec2hex(t)},n.pack=function(t){var e=Math.round(255*t[0]),i=Math.round(255*t[1]),r=Math.round(255*t[2]);return"#"+n.dec2hex(e)+n.dec2hex(i)+n.dec2hex(r)},n.unpack=function(t){function e(e){return parseInt(t.substring(e,e+2),16)/255}function e(e){return parseInt(t.substring(e,e+1),16)/15}return 7==t.length?[e(1),e(3),e(5)]:4==t.length?[e(1),e(2),e(3)]:void 0},n.HSLToRGB=function(t){var e,i,n=t[0],r=t[1],a=t[2];return i=a<=.5?a*(r+1):a+r-a*r,e=2*a-i,[this.hueToRGB(e,i,n+.33333),this.hueToRGB(e,i,n),this.hueToRGB(e,i,n-.33333)]},n.hueToRGB=function(t,e,i){return i=(i+1)%1,6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(.66666-i)*6:t},n.RGBToHSL=function(t){var e=t[0],i=t[1],n=t[2],r=Math.min(e,i,n),a=Math.max(e,i,n),o=a-r,s=0,l=0,c=(r+a)/2;return c>0&&c<1&&(l=o/(c<.5?2*c:2-2*c)),o>0&&(a==e&&a!=i&&(s+=(i-n)/o),a==i&&a!=n&&(s+=2+(n-e)/o),a==n&&a!=e&&(s+=4+(e-i)/o),s/=6),[s,l,c]},i.callback||(i={callback:i}),i=t.extend({width:300,wheelWidth:(i.width||300)/10,callback:null},i),n.initWidget(),t("canvas.farbtastic-overlay",e).mousedown(n.mousedown),i.callback&&n.linkTo(i.callback),n.color||n.setColor("#808080")}}(t)}).call(e,i(0))},function(t,e,i){(function(t){!function(t,e){var i,n;n=e.document,i=function(){function i(i){var n;try{n=e.localStorage}catch(t){n=!1}this._options=t.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:n,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default" data-role="end">End tour</button> </div> </div>',afterSetState:function(t,e){},afterGetState:function(t,e){},afterRemoveState:function(t){},onStart:function(t){},onEnd:function(t){},onShow:function(t){},onShown:function(t){},onHide:function(t){},onHidden:function(t){},onNext:function(t){},onPrev:function(t){},onPause:function(t,e){},onResume:function(t,e){},onRedirectError:function(t){}},i),this._force=!1,this._inited=!1,this._current=null,this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}return i.prototype.addSteps=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)e=t[i],this.addStep(e);return this},i.prototype.addStep=function(t){return this._options.steps.push(t),this},i.prototype.getStep=function(e){if(null!=this._options.steps[e])return t.extend({id:"step-"+e,path:"",host:"",placement:"right",title:"",content:"<p></p>",next:e===this._options.steps.length-1?-1:e+1,prev:e-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[e].element,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError},this._options.steps[e])},i.prototype.init=function(t){return this._force=t,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(t){return function(){return t.showStep(t._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},i.prototype.start=function(t){var e;return null==t&&(t=!1),this._inited||this.init(t),null===this._current&&(e=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(e,this.showStep,0)),this},i.prototype.next=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showNextStep)},i.prototype.prev=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showPrevStep)},i.prototype.goTo=function(t){var e;return e=this.hideStep(this._current),this._callOnPromiseDone(e,this.showStep,t)},i.prototype.end=function(){var i,r;return i=function(i){return function(r){if(t(n).off("click.tour-"+i._options.name),t(n).off("keyup.tour-"+i._options.name),t(e).off("resize.tour-"+i._options.name),i._setState("end","yes"),i._inited=!1,i._force=!1,i._clearTimer(),null!=i._options.onEnd)return i._options.onEnd(i)}}(this),r=this.hideStep(this._current),this._callOnPromiseDone(r,i)},i.prototype.ended=function(){return!this._force&&!!this._getState("end")},i.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()},i.prototype.pause=function(){var t;return(t=this.getStep(this._current))&&t.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,e.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=t.onPause?t.onPause(this,this._duration):void 0):this},i.prototype.resume=function(){var t;return(t=this.getStep(this._current))&&t.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||t.duration,this._timer=e.setTimeout(function(t){return function(){return t._isLast()?t.next():t.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=t.onResume&&this._duration!==t.duration?t.onResume(this,this._duration):void 0):this},i.prototype.hideStep=function(e){var i,n,r;if(r=this.getStep(e))return this._clearTimer(),n=this._makePromise(null!=r.onHide?r.onHide(this,e):void 0),i=function(i){return function(n){var a;if(a=t(r.element),a.data("bs.popover")||a.data("popover")||(a=t("body")),a.popover("destroy").removeClass("tour-"+i._options.name+"-element tour-"+i._options.name+"-"+e+"-element"),a.removeData("bs.popover"),r.reflex&&t(r.reflexElement).removeClass("tour-step-element-reflex").off(i._reflexEvent(r.reflex)+".tour-"+i._options.name),r.backdrop&&i._hideBackdrop(),null!=r.onHidden)return r.onHidden(i)}}(this),this._callOnPromiseDone(n,i),n},i.prototype.showStep=function(t){var i,r,a,o;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(o=this.getStep(t))?(a=t<this._current,i=this._makePromise(null!=o.onShow?o.onShow(this,t):void 0),r=function(e){return function(i){var r,s;if(e.setCurrentStep(t),r=function(){switch({}.toString.call(o.path)){case"[object Function]":return o.path();case"[object String]":return this._options.basePath+o.path;default:return o.path}}.call(e),!e._isRedirect(o.host,r,n.location)||(e._redirect(o,t,r),e._isJustPathHashDifferent(o.host,r,n.location))){if(e._isOrphan(o)){if(!1===o.orphan)return e._debug("Skip the orphan step "+(e._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),void(a?e._showPrevStep():e._showNextStep());e._debug("Show the orphan step "+(e._current+1)+". Orphans option is true.")}return o.backdrop&&e._showBackdrop(o),s=function(){if(e.getCurrentStep()===t&&!e.ended())return null!=o.element&&o.backdrop&&e._showOverlayElement(o),e._showPopover(o,t),null!=o.onShown&&o.onShown(e),e._debug("Step "+(e._current+1)+" of "+e._options.steps.length)},o.autoscroll?e._scrollIntoView(o.element,s):s(),o.duration?e.resume():void 0}}}(this),o.delay?(this._debug("Wait "+o.delay+" milliseconds to show the step "+(this._current+1)),e.setTimeout(function(t){return function(){return t._callOnPromiseDone(i,r)}}(this),o.delay)):this._callOnPromiseDone(i,r),i):void 0},i.prototype.getCurrentStep=function(){return this._current},i.prototype.setCurrentStep=function(t){return null!=t?(this._current=t,this._setState("current_step",t)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},i.prototype.redraw=function(){return this._showOverlayElement(this.getStep(this.getCurrentStep()).element,!0)},i.prototype._setState=function(t,e){var i,n;if(this._options.storage){n=this._options.name+"_"+t;try{this._options.storage.setItem(n,e)}catch(t){i=t,i.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(n,e)}return null==this._state&&(this._state={}),this._state[t]=e},i.prototype._removeState=function(t){var e;return this._options.storage?(e=this._options.name+"_"+t,this._options.storage.removeItem(e),this._options.afterRemoveState(e)):null!=this._state?delete this._state[t]:void 0},i.prototype._getState=function(t){var e,i;return this._options.storage?(e=this._options.name+"_"+t,i=this._options.storage.getItem(e)):null!=this._state&&(i=this._state[t]),void 0!==i&&"null"!==i||(i=null),this._options.afterGetState(t,i),i},i.prototype._showNextStep=function(){var t,e,i;return i=this.getStep(this._current),e=function(t){return function(e){return t.showStep(i.next)}}(this),t=this._makePromise(null!=i.onNext?i.onNext(this):void 0),this._callOnPromiseDone(t,e)},i.prototype._showPrevStep=function(){var t,e,i;return i=this.getStep(this._current),e=function(t){return function(e){return t.showStep(i.prev)}}(this),t=this._makePromise(null!=i.onPrev?i.onPrev(this):void 0),this._callOnPromiseDone(t,e)},i.prototype._debug=function(t){if(this._options.debug)return e.console.log("Bootstrap Tour '"+this._options.name+"' | "+t)},i.prototype._isRedirect=function(t,e,i){var n;return!(""===t||!this._isHostDifferent(t,i.href))||(n=[i.pathname,i.search,i.hash].join(""),null!=e&&""!==e&&("[object RegExp]"==={}.toString.call(e)&&!e.test(n)||"[object String]"==={}.toString.call(e)&&this._isPathDifferent(e,n)))},i.prototype._isHostDifferent=function(t,e){return this._getProtocol(t)!==this._getProtocol(e)||this._getHost(t)!==this._getHost(e)},i.prototype._isPathDifferent=function(t,e){return this._getPath(t)!==this._getPath(e)||!this._equal(this._getQuery(t),this._getQuery(e))||!this._equal(this._getHash(t),this._getHash(e))},i.prototype._isJustPathHashDifferent=function(t,e,i){var n;return(""===t||!this._isHostDifferent(t,i.href))&&(n=[i.pathname,i.search,i.hash].join(""),"[object String]"==={}.toString.call(e)&&(this._getPath(e)===this._getPath(n)&&this._equal(this._getQuery(e),this._getQuery(n))&&!this._equal(this._getHash(e),this._getHash(n))))},i.prototype._redirect=function(e,i,r){if(t.isFunction(e.redirect))return e.redirect.call(this,r);if(!0===e.redirect){if(this._debug("Redirect to "+e.host+r),this._getState("redirect_to")!==""+i)return this._setState("redirect_to",""+i),n.location.href=""+e.host+r;if(this._debug("Error redirection loop to "+r),this._removeState("redirect_to"),null!=e.onRedirectError)return e.onRedirectError(this)}},i.prototype._isOrphan=function(e){return null==e.element||!t(e.element).length||t(e.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==t(e.element)[0].namespaceURI},i.prototype._isLast=function(){return this._current<this._options.steps.length-1},i.prototype._showPopover=function(e,i){var n,r,a,o,s;if(t(".tour-"+this._options.name).remove(),o=t.extend({},this._options),a=this._isOrphan(e),e.template=this._template(e,i),a&&(e.element="body",e.placement="top"),n=t(e.element),n.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+i+"-element"),e.options&&t.extend(o,e.options),e.reflex&&!a&&t(e.reflexElement).addClass("tour-step-element-reflex").off(this._reflexEvent(e.reflex)+".tour-"+this._options.name).on(this._reflexEvent(e.reflex)+".tour-"+this._options.name,function(t){return function(){return t._isLast()?t.next():t.end()}}(this)),s=!0===e.smartPlacement&&-1===e.placement.search(/auto/i),n.popover({placement:s?"auto "+e.placement:e.placement,trigger:"manual",title:e.title,content:e.content,html:!0,animation:e.animation,container:e.container,template:e.template,selector:e.element}).popover("show"),r=n.data("bs.popover")?n.data("bs.popover").tip():n.data("popover").tip(),r.attr("id",e.id),this._reposition(r,e),a)return this._center(r)},i.prototype._template=function(e,i){var n,r,a,o,s,l;return l=e.template,this._isOrphan(e)&&"[object Boolean]"!=={}.toString.call(e.orphan)&&(l=e.orphan),s=t(t.isFunction(l)?l(i,e):l),n=s.find(".popover-navigation"),a=n.find('[data-role="prev"]'),r=n.find('[data-role="next"]'),o=n.find('[data-role="pause-resume"]'),this._isOrphan(e)&&s.addClass("orphan"),s.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+i),e.reflex&&s.addClass("tour-"+this._options.name+"-reflex"),e.prev<0&&(a.addClass("disabled"),a.prop("disabled",!0)),e.next<0&&(r.addClass("disabled"),r.prop("disabled",!0)),e.duration||o.remove(),s.clone().wrap("<div>").parent().html()},i.prototype._reflexEvent=function(t){return"[object Boolean]"==={}.toString.call(t)?"click":t},i.prototype._reposition=function(e,i){var r,a,o,s,l,c,u;if(s=e[0].offsetWidth,a=e[0].offsetHeight,u=e.offset(),l=u.left,c=u.top,r=t(n).outerHeight()-u.top-e.outerHeight(),r<0&&(u.top=u.top+r),o=t("html").outerWidth()-u.left-e.outerWidth(),o<0&&(u.left=u.left+o),u.top<0&&(u.top=0),u.left<0&&(u.left=0),e.offset(u),"bottom"===i.placement||"top"===i.placement){if(l!==u.left)return this._replaceArrow(e,2*(u.left-l),s,"left")}else if(c!==u.top)return this._replaceArrow(e,2*(u.top-c),a,"top")},i.prototype._center=function(i){return i.css("top",t(e).outerHeight()/2-i.outerHeight()/2)},i.prototype._replaceArrow=function(t,e,i,n){return t.find(".arrow").css(n,e?50*(1-e/i)+"%":"")},i.prototype._scrollIntoView=function(i,n){var r,a,o,s,l,c;return r=t(i),r.length?(a=t(e),s=r.offset().top,c=a.height(),l=Math.max(0,s-c/2),this._debug("Scroll into view. ScrollTop: "+l+". Element offset: "+s+". Window height: "+c+"."),o=0,t("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(l)},function(t){return function(){if(2==++o)return n(),t._debug("Scroll into view.\nAnimation end element offset: "+r.offset().top+".\nWindow height: "+a.height()+".")}}(this))):n()},i.prototype._onResize=function(i,n){return t(e).on("resize.tour-"+this._options.name,function(){return clearTimeout(n),n=setTimeout(i,100)})},i.prototype._initMouseNavigation=function(){var e;return e=this,t(n).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(t){return function(e){return e.preventDefault(),t.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(t){return function(e){return e.preventDefault(),t.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(t){return function(e){return e.preventDefault(),t.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(i){var n;return i.preventDefault(),n=t(this),n.text(e._paused?n.data("pause-text"):n.data("resume-text")),e._paused?e.resume():e.pause()})},i.prototype._initKeyboardNavigation=function(){if(this._options.keyboard)return t(n).on("keyup.tour-"+this._options.name,function(t){return function(e){if(e.which)switch(e.which){case 39:return e.preventDefault(),t._isLast()?t.next():t.end();case 37:if(e.preventDefault(),t._current>0)return t.prev();break;case 27:return e.preventDefault(),t.end()}}}(this))},i.prototype._makePromise=function(e){return e&&t.isFunction(e.then)?e:null},i.prototype._callOnPromiseDone=function(t,e,i){return t?t.then(function(t){return function(n){return e.call(t,i)}}(this)):e.call(this,i)},i.prototype._showBackdrop=function(e){if(!this.backdrop.backgroundShown)return this.backdrop=t("<div>",{class:"tour-backdrop"}),this.backdrop.backgroundShown=!0,t(e.backdropContainer).append(this.backdrop)},i.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},i.prototype._hideBackground=function(){if(this.backdrop)return this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1},i.prototype._showOverlayElement=function(e,i){var n,r;if((n=t(e.element))&&0!==n.length&&(!this.backdrop.overlayElementShown||i))return this.backdrop.overlayElementShown||(this.backdrop.$element=n.addClass("tour-step-backdrop"),this.backdrop.$background=t("<div>",{class:"tour-step-background"}),this.backdrop.$background.appendTo(e.backdropContainer),this.backdrop.overlayElementShown=!0),r={width:n.innerWidth(),height:n.innerHeight(),offset:n.offset()},e.backdropPadding&&(r=this._applyBackdropPadding(e.backdropPadding,r)),this.backdrop.$background.width(r.width).height(r.height).offset(r.offset)},i.prototype._hideOverlayElement=function(){if(this.backdrop.overlayElementShown)return this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1},i.prototype._applyBackdropPadding=function(t,e){return"object"==typeof t?(null==t.top&&(t.top=0),null==t.right&&(t.right=0),null==t.bottom&&(t.bottom=0),null==t.left&&(t.left=0),e.offset.top=e.offset.top-t.top,e.offset.left=e.offset.left-t.left,e.width=e.width+t.left+t.right,e.height=e.height+t.top+t.bottom):(e.offset.top=e.offset.top-t,e.offset.left=e.offset.left-t,e.width=e.width+2*t,e.height=e.height+2*t),e},i.prototype._clearTimer=function(){return e.clearTimeout(this._timer),this._timer=null,this._duration=null},i.prototype._getProtocol=function(t){return t=t.split("://"),t.length>1?t[0]:"http"},i.prototype._getHost=function(t){return t=t.split("//"),t=t.length>1?t[1]:t[0],t.split("/")[0]},i.prototype._getPath=function(t){return t.replace(/\/?$/,"").split("?")[0].split("#")[0]},i.prototype._getQuery=function(t){return this._getParams(t,"?")},i.prototype._getHash=function(t){return this._getParams(t,"#")},i.prototype._getParams=function(t,e){var i,n,r,a,o;if(n=t.split(e),1===n.length)return{};for(n=n[1].split("&"),r={},a=0,o=n.length;a<o;a++)i=n[a],i=i.split("="),r[i[0]]=i[1]||"";return r},i.prototype._equal=function(t,e){var i,n;if("[object Object]"==={}.toString.call(t)&&"[object Object]"==={}.toString.call(e)){for(i in t)if(n=t[i],e[i]!==n)return!1;for(i in e)if(n=e[i],t[i]!==n)return!1;return!0}return t===e},i}(),e.Tour=i}(t,window)}).call(e,i(0))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){(function(n,r){var a,o;!function(i){a=[],void 0!==(o=function(){var t=n;return function(){function e(t,e,i){return c({type:g.error,iconClass:h().iconClasses.error,message:t,optionsOverride:i,title:e})}function i(t,e,i){return c({type:g.info,iconClass:h().iconClasses.info,message:t,optionsOverride:i,title:e})}function n(t){p=t}function r(t,e,i){return c({type:g.success,iconClass:h().iconClasses.success,message:t,optionsOverride:i,title:e})}function a(t,e,i){return c({type:g.warning,iconClass:h().iconClasses.warning,message:t,optionsOverride:i,title:e})}function o(e){var i=h();if(f||u(i),e&&0===t(":focus",e).length)return void e[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){d(e)}});f.children().length&&f[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){f.remove()}})}function s(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function l(t){p&&p(t)}function c(e){function i(e){if(!t(":focus",c).length||e)return c[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){d(c),a.onHidden&&a.onHidden(),_.state="hidden",_.endTime=new Date,l(_)}})}function n(){(a.timeOut>0||a.extendedTimeOut>0)&&(s=setTimeout(i,a.extendedTimeOut))}function r(){clearTimeout(s),c.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}var a=h(),o=e.iconClass||a.iconClass;void 0!==e.optionsOverride&&(a=t.extend(a,e.optionsOverride),o=e.optionsOverride.iconClass||o),m++,f=u(a);var s=null,c=t("<div/>"),p=t("<div/>"),g=t("<div/>"),v=t(a.closeHtml),_={toastId:m,state:"visible",startTime:new Date,options:a,map:e};return e.iconClass&&c.addClass(a.toastClass).addClass(o),e.title&&(p.append(e.title).addClass(a.titleClass),c.append(p)),e.message&&(g.append(e.message).addClass(a.messageClass),c.append(g)),a.closeButton&&(v.addClass("toast-close-button"),c.prepend(v)),c.hide(),a.newestOnTop?f.prepend(c):f.append(c),c[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(s=setTimeout(i,a.timeOut)),c.hover(r,n),!a.onclick&&a.tapToDismiss&&c.click(i),a.closeButton&&v&&v.click(function(t){t.stopPropagation(),i(!0)}),a.onclick&&c.click(function(){a.onclick(),i()}),l(_),a.debug&&console&&console.log(_),c}function u(e){return e||(e=h()),f=t("#"+e.containerId),f.length?f:(f=t("<div/>").attr("id",e.containerId).addClass(e.positionClass),f.appendTo(t(e.target)),f)}function h(){return t.extend({},s(),v.options)}function d(t){f||(f=u()),t.is(":visible")||(t.remove(),t=null,0===f.children().length&&f.remove())}var f,p,m=0,g={error:"error",info:"info",success:"success",warning:"warning"},v={clear:o,error:e,getContainer:u,info:i,options:{},subscribe:n,success:r,version:"2.0.1",warning:a};return v}()}.apply(e,a))&&(t.exports=o)}(i(123))}).call(e,i(0),i(0))},function(t,e,i){"use strict";(function(t){function n(t,e){o(t).find(".tag-name").each(function(){o(this).click(function(){var t=o(this).text(),i=t.split(":");return e(i[0],i[1]),!0})})}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=a.default;a.default.fn.autocomplete_tagging=function(e){function i(t){o(t).mouseenter(function(){o(this).attr("src",l.delete_tag_img_rollover)}),o(t).mouseleave(function(){o(this).attr("src",l.delete_tag_img)}),o(t).click(function(){var e=o(this).parent(),i=e.find(".tag-name").eq(0),n=i.text(),r=n.split(":"),a=r[0],s=r[1],c=e.prev();e.remove(),delete l.tags[a];var d=l.get_toggle_link_text_fn(l.tags);return h.text(d),o.ajax({url:l.ajax_delete_tag_url,data:{tag_name:a},error:function(){l.tags[a]=s,c.hasClass("tag-button")?c.after(e):u.prepend(e),alert("Remove tag failed"),h.text(l.get_toggle_link_text_fn(l.tags)),t.mouseenter(function(){o(this).attr("src",l.delete_tag_img_rollover)}),t.mouseleave(function(){o(this).attr("src",l.delete_tag_img)})},success:function(){}}),!0})}function r(t){var e=o("<img/>").attr("src",l.delete_tag_img).addClass("delete-tag-img");i(e);var n=o("<span>").text(t).addClass("tag-name");n.click(function(){var e=t.split(":");return l.tag_click_fn(e[0],e[1]),!0});var r=o("<span></span>").addClass("tag-button");return r.append(n),l.editable&&r.append(e),r}var s={get_toggle_link_text_fn:function(e){var i=t.size(e);return i>0?i+(i>1?" Tags":" Tag"):"Add tags"},tag_click_fn:function(t,e){},editable:!0,input_size:20,in_form:!1,tags:{},use_toggle_link:!0,item_id:"",add_tag_img:"",add_tag_img_rollover:"",delete_tag_img:"",ajax_autocomplete_tag_url:"",ajax_retag_url:"",ajax_delete_tag_url:"",ajax_add_tag_url:""},l=a.default.extend(s,e),c=o(this),u=c.find(".tag-area"),h=c.find(".toggle-link"),d=c.find(".tag-input"),f=c.find(".add-tag-button");h.click(function(){var t;return t=u.is(":hidden")?function(){0===o(this).find(".tag-button").length&&u.click()}:function(){u.blur()},u.slideToggle("fast",t),o(this)}),l.editable&&d.hide(),d.keyup(function(t){if(27===t.keyCode)o(this).trigger("blur");else if(13===t.keyCode||188===t.keyCode||32===t.keyCode){var e=this.value;if(-1!==e.indexOf(": ",e.length-2))return this.value=e.substring(0,e.length-1),!1;if(188!==t.keyCode&&32!==t.keyCode||(e=e.substring(0,e.length-1)),e=o.trim(e),e.length<2)return!1;this.value="";var i=r(e),n=u.children(".tag-button");if(0!==n.length){var a=n.slice(n.length-1);a.after(i)}else u.prepend(i);var s=e.split(":");l.tags[s[0]]=s[1];var c=l.get_toggle_link_text_fn(l.tags);h.text(c);var d=o(this);return o.ajax({url:l.ajax_add_tag_url,data:{new_tag:e},error:function(){i.remove(),delete l.tags[s[0]];var t=l.get_toggle_link_text_fn(l.tags);h.text(t),alert("Add tag failed")},success:function(){d.data("autocompleter").cacheFlush()}}),!1}});var p=function(t,e,i,n,r){var a=n.split(":");return 1===a.length?a[0]:a[1]},m={selectFirst:!1,formatItem:p,autoFill:!1,highlight:!1};d.autocomplete_verheul(l.ajax_autocomplete_tag_url,m),c.find(".delete-tag-img").each(function(){i(o(this))}),n(o(this),l.tag_click_fn),f.click(function(){return o(this).hide(),u.click(),!1}),l.editable&&(u.bind("blur",function(e){t.size(l.tags)>0&&(f.show(),d.hide(),u.removeClass("active-tag-area"))}),u.click(function(t){var e=o(this).hasClass("active-tag-area");if(o(t.target).hasClass("delete-tag-img")&&!e)return!1;if(o(t.target).hasClass("tag-name")&&!e)return!1;o(this).addClass("active-tag-area"),f.hide(),d.show(),d.focus();var i=function(t){!function(t,e){t.attr("id");e!==t&&(t.blur(),o(window).unbind("click.tagging_blur"),o(this).addClass("tooltip"))}(u,o(t.target))};return o(window).bind("click.tagging_blur",i),!1})),l.use_toggle_link&&u.hide()},e.default=n}).call(e,i(1))},function(t,e,i){"use strict";function n(){h.hide()}function r(t,e,i,n,r){h.setContent({title:t,body:e,buttons:i,extra_buttons:n}),h.show({backdrop:!0},r)}function a(t,e,i,n,r){h.setContent({title:t,body:e,buttons:i,extra_buttons:n}),h.show({backdrop:!1},r)}function o(t){var e=t.width||"600",i=t.height||"400",r=t.scroll||"auto";c("#overlay-background").bind("click.overlay",function(){n(),c("#overlay-background").unbind("click.overlay")}),h.setContent({closeButton:!0,title:"&nbsp;",body:c("<div style='margin: -5px;'><iframe style='margin: 0; padding: 0;' src='"+t.url+"' width='"+e+"' height='"+i+"' scrolling='"+r+"' frameborder='0'></iframe></div>")}),h.show({backdrop:!0})}Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),l=function(t){return t&&t.__esModule?t:{default:t}}(s),c=l.default,u=function(t){this.$overlay=t.overlay,this.$dialog=t.dialog,this.$header=this.$dialog.find(".modal-header"),this.$body=this.$dialog.find(".modal-body"),this.$footer=this.$dialog.find(".modal-footer"),this.$backdrop=t.backdrop,this.$header.find(".close").on("click",c.proxy(this.hide,this))};c.extend(u.prototype,{setContent:function(t){this.$header.hide(),t.title&&(this.$header.find(".title").html(t.title),this.$header.show()),t.closeButton?(this.$header.find(".close").show(),this.$header.show()):this.$header.find(".close").hide(),this.$footer.hide();var e=this.$footer.find(".buttons").html("");t.buttons&&(c.each(t.buttons,function(t,i){e.append(c("<button></button> ").text(t).click(i)).append(" ")}),this.$footer.show());var i=this.$footer.find(".extra_buttons").html("");t.extra_buttons&&(c.each(t.extra_buttons,function(t,e){i.append(c("<button></button>").text(t).click(e)).append(" ")}),this.$footer.show());var n=t.body;"progress"==n&&(n=c("<div class='progress progress-striped active'><div class='progress-bar' style='width: 100%'></div></div>")),this.$body.html(n)},show:function(t,e){this.$dialog.is(":visible")||(t.backdrop?this.$backdrop.addClass("in"):this.$backdrop.removeClass("in"),this.$overlay.show(),this.$dialog.show(),this.$overlay.addClass("in"),this.$body.css("min-width",this.$body.width()),this.$body.css("max-height",c(window).height()-this.$footer.outerHeight()-this.$header.outerHeight()-parseInt(this.$dialog.css("padding-top"),10)-parseInt(this.$dialog.css("padding-bottom"),10))),e&&e()},hide:function(){var t=this;t.$dialog.fadeOut(function(){t.$overlay.hide(),t.$backdrop.removeClass("in"),t.$body.children().remove(),t.$body.css("min-width",void 0)})}});var h;c(function(){h=new u({overlay:c("#top-modal"),dialog:c("#top-modal-dialog"),backdrop:c("#top-modal-backdrop")})}),e.default={Modal:u,hide_modal:n,show_modal:r,show_message:a,show_in_overlay:o}},function(t,e,i){"use strict";(function(t,n,r){Object.defineProperty(e,"__esModule",{value:!0});var a=i(61),o=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}(a),"undefined"==typeof Galaxy?"/":Galaxy.root),s={storage:window.sessionStorage,onEnd:function(){sessionStorage.removeItem("activeGalaxyTour")},delay:150,orphan:!0},l=function(e){return t.each(e.steps,function(e){e.preclick&&(e.onShow=function(){t.each(e.preclick,function(t){n(t).click()})}),e.postclick&&(e.onHide=function(){t.each(e.postclick,function(t){n(t).click()})}),e.textinsert&&(e.onShown=function(){n(e.element).val(e.textinsert).trigger("change")})}),e},c=r.Model.extend({urlRoot:o+"api/tours"}),u=r.Collection.extend({url:o+"api/tours",model:c}),h=function(e){var i=o+"api/tours/"+e;n.getJSON(i,function(e){var i=l(e);sessionStorage.setItem("activeGalaxyTour",JSON.stringify(e));var n=new Tour(t.extend({steps:i.steps},s));n.init(),n.goTo(0),n.restart()})},d=r.View.extend({title:"Tours",initialize:function(){var t=this;this.setElement("<div/>"),this.model=new u,this.model.fetch({success:function(){t.render()},error:function(){console.error("Failed to fetch tours.")}})},render:function(){var e=t.template('<h2>Galaxy Tours</h2>\n<p>This page presents a list of interactive tours available on this Galaxy server.\nSelect any tour to get started (and remember, you can click \'End Tour\' at any time).</p>\n\n<div class="col-12 btn-group" role="group" aria-label="Tag selector">\n    <% _.each(tourtagorder, function(tag) { %>\n    <button class="btn btn-primary tag-selector-button" tag-selector-button="<%- tag %>">\n        <%- tag %>\n    </button>\n    <% }); %>\n</div>\n\n<% _.each(tourtagorder, function(tourtagkey) { %>\n<div tag="<%- tourtagkey %>" style="display: block;">\n    <% var tourtag = tourtags[tourtagkey]; %>\n    <h4>\n        <%- tourtag.name %>\n    </h4>\n    <ul class="list-group">\n    <% _.each(tourtag.tours, function(tour) { %>\n        <li class="list-group-item">\n            <a href="/tours/<%- tour.id %>" class="tourItem" data-tour.id=<%- tour.id %>>\n                <%- tour.name || tour.id %>\n            </a>\n             - <%- tour.attributes.description || "No description given." %>\n             <% _.each(tour.attributes.tags, function(tag) { %>\n                <span class="label label-primary sm-label-pad">\n                    <%- tag.charAt(0).toUpperCase() + tag.slice(1) %>\n                </span>\n             <% }); %>\n        </li>\n    <% }); %>\n    </ul>\n</div>\n<% }); %>'),i={};t.each(this.model.models,function(e){null===e.attributes.tags?(void 0===i.Untagged&&(i.Untagged={name:"Untagged",tours:[]}),i.Untagged.tours.push(e)):t.each(e.attributes.tags,function(t){t=t.charAt(0).toUpperCase()+t.slice(1),void 0===i[t]&&(i[t]={name:t,tours:[]}),i[t].tours.push(e)})});var r=Object.keys(i).sort();this.$el.html(e({tours:this.model.models,tourtags:i,tourtagorder:r})).on("click",".tourItem",function(t){t.preventDefault(),h(n(this).data("tour.id"))}).on("click",".tag-selector-button",function(t){var e=n(t.target),i="block",r=e.attr("tag-selector-button");e.toggleClass("btn-primary"),e.toggleClass("btn-secondary"),e.hasClass("btn-secondary")&&(i="none"),n("div[tag='"+r+"']").css({display:i})})}});e.default={ToursView:d,hooked_tour_from_data:l,tour_opts:s,giveTour:h}}).call(e,i(1),i(0),i(2))},function(t,e,i){"use strict";function n(t,e){var i=void 0!==t.prototype?t.prototype:t;return void 0!==e&&(i._logNamespace=e),r.forEach(function(t){i[t]=function(){if(this.logger)return this.logger.emit?this.logger.emit(t,this._logNamespace,arguments):this.logger[t]?this.logger[t].apply(this.logger,arguments):void 0}}),t}Object.defineProperty(e,"__esModule",{value:!0});var r=["log","debug","info","warn","error","metric"];e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=(r(a),i(2)),s=r(o),l=i(5),c=n(l),u=i(4),h=n(u),d=s.Model.extend(c.default.LoggableMixin).extend({_logNamespace:"user",urlRoot:function(){return Galaxy.root+"api/users"},defaults:{id:null,username:"("+(0,h.default)("anonymous user")+")",email:"",total_disk_usage:0,nice_total_disk_usage:"",quota_percent:null,is_admin:!1},initialize:function(t){this.log("User.initialize:",t),this.on("loaded",function(t,e){this.log(this+" has loaded:",t,e)}),this.on("change",function(t,e){this.log(this+" has changed:",t,e.changes)})},isAnonymous:function(){return!this.get("email")},isAdmin:function(){return this.get("is_admin")},loadFromApi:function(t,e){t=t||d.CURRENT_ID_STR,e=e||{};var i=this,n=e.success;return e.success=function(t,e){i.trigger("loaded",t,e),n&&n(t,e)},t===d.CURRENT_ID_STR&&(e.url=this.urlRoot+"/"+d.CURRENT_ID_STR),s.Model.prototype.fetch.call(this,e)},clearSessionStorage:function(){for(var t in sessionStorage)0===t.indexOf("history:")?sessionStorage.removeItem(t):"history-panel"===t&&sessionStorage.removeItem(t)},toString:function(){var t=[this.get("username")];return this.get("id")&&(t.unshift(this.get("id")),t.push(this.get("email"))),"User("+t.join(":")+")"}});d.CURRENT_ID_STR="current",d.getCurrentUserFromApi=function(t){var e=new d;return e.loadFromApi(d.CURRENT_ID_STR,t),e};s.Collection.extend(c.default.LoggableMixin).extend({model:d,urlRoot:function(){return Galaxy.root+"api/users"}});e.default={User:d}},function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0});var r=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model(e),this.setElement(i("<div/>").addClass("corner frame")),this.$el.append(i("<div/>").addClass("f-header corner").append(i("<div/>").addClass("f-title")).append(i("<div/>").addClass("f-icon f-close fa fa-close").tooltip({title:"Close",placement:"bottom"}))).append(i("<div/>").addClass("f-content")).append(i("<div/>").addClass("f-resize f-icon corner fa fa-expand").tooltip({title:"Resize"})).append(i("<div/>").addClass("f-cover")),this.$header=this.$(".f-header"),this.$title=this.$(".f-title"),this.$content=this.$(".f-content"),this.render(),this.listenTo(this.model,"change",this.render,this)},render:function(){var t=this,e=this.model.attributes;this.$title.html(e.title||""),this.$header.find(".f-icon-left").remove(),n.each(e.menu,function(e){var r=i("<div/>").addClass("f-icon-left").addClass(e.icon);n.isFunction(e.disabled)&&e.disabled()?r.attr("disabled",!0):r.on("click",function(){e.onclick(t)}).tooltip({title:e.tooltip,placement:"bottom"}),t.$header.append(r)}),e.url?this.$content.html(i("<iframe/>").addClass("f-iframe").attr("scrolling","auto").attr("src",e.url+(-1===e.url.indexOf("?")?"?":"&")+"widget=True")):e.content&&(n.isFunction(e.content)?e.content(t.$content):t.$content.html(e.content))}}),a=t.View.extend({defaultOptions:{frame:{cols:6,rows:3},rows:1e3,cell:130,margin:5,scroll:5,top_min:40,frame_max:9,visible:!0},cols:0,top:0,top_max:0,frame_z:0,frame_counter:0,frame_uid:0,frame_list:{},frame_shadow:null,visible:!1,event:{},initialize:function(e){var r=this;this.options=n.defaults(e||{},this.defaultOptions),this.visible=this.options.visible,this.top=this.top_max=this.options.top_min,this.setElement(i("<div/>").addClass("galaxy-frame").append(i("<div/>").addClass("frame-background")).append(i("<div/>").addClass("frame-menu frame-scroll-up fa fa-chevron-up fa-2x")).append(i("<div/>").addClass("frame-menu frame-scroll-down fa fa-chevron-down fa-2x"))),this.frame_shadow=new t.View({el:i("<div/>").addClass("corner frame-shadow")}),this.$el.append(this.frame_shadow.$el),this._frameInit(this.frame_shadow,"#frame-shadow"),this._frameResize(this.frame_shadow,{width:0,height:0}),this.frame_list["#frame-shadow"]=this.frame_shadow,this.visible?this.show():this.hide(),this._panelRefresh(),i(window).resize(function(){r.visible&&r._panelRefresh()})},render:function(){this.$(".frame-scroll-up")[this.top!=this.options.top_min&&"show"||"hide"](),this.$(".frame-scroll-down")[this.top!=this.top_max&&"show"||"hide"]()},add:function(t){if(this.frame_counter>=this.options.frame_max)Galaxy.modal.show({title:"Warning",body:"You have reached the maximum number of allowed frames ("+this.options.frame_max+").",buttons:{Close:function(){Galaxy.modal.hide()}}});else{var e="#frame-"+this.frame_uid++;if(0!==i(e).length)Galaxy.modal.show({title:"Error",body:"This frame already exists. This page might contain multiple frame managers.",buttons:{Close:function(){Galaxy.modal.hide()}}});else{this.top=this.options.top_min;var n=new r(t);this.$el.append(n.$el),t.width=this._toPixelCoord("width",this.options.frame.cols),t.height=this._toPixelCoord("height",this.options.frame.rows),this.frame_z=parseInt(n.$el.css("z-index")),this.frame_list[e]=n,this.frame_counter++,this._frameInit(n,e),this._frameResize(n,{width:t.width,height:t.height}),this._frameInsert(n,{top:0,left:0},!0),!this.visible&&this.show(),this.trigger("add")}}},del:function(t){var e=this,i=t.$el;i.fadeOut("fast",function(){i.remove(),delete e.frame_list[t.id],e.frame_counter--,e._panelRefresh(!0),e._panelAnimationComplete(),e.trigger("remove")})},show:function(){this.visible=!0,this.$el.fadeIn("fast"),this.trigger("show")},hide:function(){this.event.type||(this.visible=!1,this.$el.fadeOut("fast",function(){i(this).hide()}),this.trigger("hide"))},length:function(){return this.frame_counter},events:{mousemove:"_eventFrameMouseMove",mouseup:"_eventFrameMouseUp",mouseleave:"_eventFrameMouseUp",mousewheel:"_eventPanelScroll",DOMMouseScroll:"_eventPanelScroll","mousedown .frame":"_eventFrameMouseDown","mousedown .frame-background":"_eventHide","mousedown .frame-scroll-up":"_eventPanelScroll_up","mousedown .frame-scroll-down":"_eventPanelScroll_down","mousedown .f-close":"_eventFrameClose"},_eventFrameMouseDown:function(t){i(".tooltip").hide(),this.event.type||((i(t.target).hasClass("f-header")||i(t.target).hasClass("f-title"))&&(this.event.type="drag"),i(t.target).hasClass("f-resize")&&(this.event.type="resize"),this.event.type&&(t.preventDefault(),this.event.target=this._frameIdentify(t.target),this.event.xy={x:t.originalEvent.pageX,y:t.originalEvent.pageY},this._frameDragStart(this.event.target)))},_eventFrameMouseMove:function(t){if(this.event.type){var e={x:t.originalEvent.pageX,y:t.originalEvent.pageY},i={x:e.x-this.event.xy.x,y:e.y-this.event.xy.y};this.event.xy=e;var n=this._frameScreen(this.event.target);if("resize"==this.event.type){n.width+=i.x,n.height+=i.y;var r=this.options.cell-this.options.margin-1;n.width=Math.max(n.width,r),n.height=Math.max(n.height,r),this._frameResize(this.event.target,n),n.width=this._toGridCoord("width",n.width)+1,n.height=this._toGridCoord("height",n.height)+1,n.width=this._toPixelCoord("width",n.width),n.height=this._toPixelCoord("height",n.height),this._frameResize(this.frame_shadow,n),this._frameInsert(this.frame_shadow,{top:this._toGridCoord("top",n.top),left:this._toGridCoord("left",n.left)})}else if("drag"==this.event.type){n.left+=i.x,n.top+=i.y,this._frameOffset(this.event.target,n);var a={top:this._toGridCoord("top",n.top),left:this._toGridCoord("left",n.left)};0!==a.left&&a.left++,this._frameInsert(this.frame_shadow,a)}}},_eventFrameMouseUp:function(t){this.event.type&&(this._frameDragStop(this.event.target),this.event.type=null)},_eventFrameClose:function(t){this.event.type||(t.preventDefault(),this.del(this._frameIdentify(t.target)))},_eventHide:function(t){!this.event.type&&this.hide()},_eventPanelScroll:function(t){if(!this.event.type&&this.visible){0!==i(t.srcElement).parents(".frame").length?t.stopPropagation():(t.preventDefault(),this._panelScroll(t.originalEvent.detail?t.originalEvent.detail:t.originalEvent.wheelDelta/-3))}},_eventPanelScroll_up:function(t){this.event.type||(t.preventDefault(),this._panelScroll(-this.options.scroll))},_eventPanelScroll_down:function(t){this.event.type||(t.preventDefault(),this._panelScroll(this.options.scroll))},_frameIdentify:function(t){return this.frame_list["#"+i(t).closest(".frame").attr("id")]},_frameDragStart:function(t){this._frameFocus(t,!0);var e=this._frameScreen(t);this._frameResize(this.frame_shadow,e),this._frameGrid(this.frame_shadow,t.grid_location),t.grid_location=null,this.frame_shadow.$el.show(),i(".f-cover").show()},_frameDragStop:function(t){this._frameFocus(t,!1);var e=this._frameScreen(this.frame_shadow);this._frameResize(t,e),this._frameGrid(t,this.frame_shadow.grid_location,!0),this.frame_shadow.grid_location=null,this.frame_shadow.$el.hide(),i(".f-cover").hide(),this._panelAnimationComplete()},_toGridCoord:function(t,e){var i="width"==t||"height"==t?1:-1;return"top"==t&&(e-=this.top),parseInt((e+i*this.options.margin)/this.options.cell,10)},_toPixelCoord:function(t,e){var i="width"==t||"height"==t?1:-1,n=e*this.options.cell-i*this.options.margin;return"top"==t&&(n+=this.top),n},_toGrid:function(t){return{top:this._toGridCoord("top",t.top),left:this._toGridCoord("left",t.left),width:this._toGridCoord("width",t.width),height:this._toGridCoord("height",t.height)}},_toPixel:function(t){return{top:this._toPixelCoord("top",t.top),left:this._toPixelCoord("left",t.left),width:this._toPixelCoord("width",t.width),height:this._toPixelCoord("height",t.height)}},_isCollision:function(t){for(var e in this.frame_list){var i=this.frame_list[e];if(null!==i.grid_location&&function(t,e){return!(t.left>e.left+e.width-1||t.left+t.width-1<e.left||t.top>e.top+e.height-1||t.top+t.height-1<e.top)}(t,i.grid_location))return!0}return!1},_locationRank:function(t){return t.top*this.cols+t.left},_panelRefresh:function(t){this.cols=parseInt(i(window).width()/this.options.cell,10)+1,this._frameInsert(null,null,t)},_panelAnimationComplete:function(){var t=this;i(".frame").promise().done(function(){t._panelScroll(0,!0)})},_panelScroll:function(t,e){var i=this.top-this.options.scroll*t;if(i=Math.max(i,this.top_max),i=Math.min(i,this.options.top_min),this.top!=i){for(var n in this.frame_list){var r=this.frame_list[n];if(null!==r.grid_location){var a={top:r.screen_location.top-(this.top-i),left:r.screen_location.left};this._frameOffset(r,a,e)}}this.top=i}this.render()},_frameInit:function(t,e){t.id=e,t.screen_location={},t.grid_location={},t.grid_rank=null,t.$el.attr("id",e.substring(1))},_frameInsert:function(t,e,r){var a=this,o=[];t&&(t.grid_location=null,o.push([t,this._locationRank(e)])),n.each(this.frame_list,function(t){null!==t.grid_location&&(t.grid_location=null,o.push([t,t.grid_rank]))}),o.sort(function(t,e){return t[1]<e[1]?-1:t[1]>e[1]?1:0}),n.each(o,function(t){a._framePlace(t[0],r)}),this.top_max=0,n.each(this.frame_list,function(t){null!==t.grid_location&&(a.top_max=Math.max(a.top_max,t.grid_location.top+t.grid_location.height))}),this.top_max=i(window).height()-this.top_max*this.options.cell-2*this.options.margin,this.top_max=Math.min(this.top_max,this.options.top_min),this.render()},_framePlace:function(t,e){t.grid_location=null;for(var i=this._toGrid(this._frameScreen(t)),n=!1,r=0;r<this.options.rows;r++){for(var a=0;a<Math.max(1,this.cols-i.width);a++)if(i.top=r,i.left=a,!this._isCollision(i)){n=!0;break}if(n)break}n?this._frameGrid(t,i,e):console.log("Grid dimensions exceeded.")},_frameFocus:function(t,e){t.$el.css("z-index",this.frame_z+(e?1:0))},_frameOffset:function(t,e,i){if(t.screen_location.left=e.left,t.screen_location.top=e.top,i){this._frameFocus(t,!0);var n=this;t.$el.animate({top:e.top,left:e.left},"fast",function(){n._frameFocus(t,!1)})}else t.$el.css({top:e.top,left:e.left})},_frameResize:function(t,e){t.$el.css({width:e.width,height:e.height}),t.screen_location.width=e.width,t.screen_location.height=e.height},_frameGrid:function(t,e,i){t.grid_location=e,this._frameOffset(t,this._toPixel(e),i),t.grid_rank=this._locationRank(e)},_frameScreen:function(t){var e=t.screen_location;return{top:e.top,left:e.left,width:e.width,height:e.height}}});e.default={View:a}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0});var r=t.Model.extend({defaults:{title:"",icon_class:"",on_click:null,menu_options:null,is_menu_button:!0,id:null,href:null,target:null,enabled:!0,visible:!0,tooltip_config:{}}}),a=t.View.extend({initialize:function(){this.model.attributes.tooltip_config={placement:"bottom"},this.model.bind("change",this.render,this)},render:function(){this.$el.tooltip("hide");var t=this.template(this.model.toJSON());return t.tooltip(this.model.get("tooltip_config")),this.$el.replaceWith(t),this.setElement(t),this},events:{click:"click"},click:function(t){return!i.isFunction(this.model.get("on_click"))||(this.model.get("on_click")(t),!1)},template:function(t){var e='title="'+t.title+'" class="icon-button';return t.is_menu_button&&(e+=" menu-button"),e+=" "+t.icon_class,t.enabled||(e+="_disabled"),e+='"',t.id&&(e+=' id="'+t.id+'"'),e+=' href="'+t.href+'"',t.target&&(e+=' target="'+t.target+'"'),t.visible||(e+=' style="display: none;"'),e=t.enabled?"<a "+e+"/>":"<span "+e+"/>",n(e)}}),o=t.Collection.extend({model:r}),s=t.View.extend({tagName:"div",initialize:function(){this.render()},render:function(){var t=this;return this.collection.each(function(e){var i=n("<a/>").attr("href","javascript:void(0)").attr("title",e.attributes.title).addClass("icon-button menu-button").addClass(e.attributes.icon_class).appendTo(t.$el).click(e.attributes.on_click);e.attributes.tooltip_config&&i.tooltip(e.attributes.tooltip_config);var r=e.get("options");r&&make_popupmenu(i,r)}),this}}),l=function(t,e){e||(e={});var n=new o(i.map(t,function(t){return new r(i.extend(t,e))}));return new s({collection:n})};e.default={IconButton:r,IconButtonView:a,IconButtonCollection:o,IconButtonMenuView:s,create_icon_buttons_menu:l}}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(33),c=a(l),u=t.View.extend({initialize:function(e){var i=this;this.data=[],this.data2=[],this.model=e&&e.model||new t.Model({id:s.default.uid(),cls:"ui-select",error_text:"No options available",empty_text:"Nothing selected",visible:!0,wait:!1,multiple:!1,searchable:!0,optional:!1,disabled:!1,readonly:!1,onchange:function(){},value:null,individual:!1,pagesize:20}).set(e),this.on("change",function(){i.model.get("onchange")&&i.model.get("onchange")(i.value())}),this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:disabled",this._changeDisabled,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:visible",this._changeVisible,this),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:multiple change:searchable change:cls change:id",this.render,this),this.render()},render:function(){var t=this;this.model.get("searchable")?this._renderSearchable():this._renderClassic(),this.$el.addClass(this.model.get("cls")).attr("id",this.model.get("id")),this.$select.empty().addClass("select").attr("id",this.model.get("id")+"_select").prop("multiple",this.model.get("multiple")).on("change",function(){t.value(t._getValue()),t.trigger("change")}),this._changeData(),this._changeWait(),this._changeVisible(),this._changeDisabled()},_renderClassic:function(){var t=this;this.$el.addClass(this.model.get("multiple")?"ui-select-multiple":"ui-select").append(this.$select=n("<select/>")).append(this.$dropdown=n("<div/>")).append(this.$resize=n("<div/>").append(this.$resize_icon=n("<i/>"))),this.model.get("multiple")?(this.$dropdown.hide(),this.$resize_icon.addClass("fa fa-angle-double-right fa-rotate-45").show(),this.$resize.removeClass().addClass("icon-resize").show().off("mousedown").on("mousedown",function(e){var i=e.pageY,r=t.$select.height();t.minHeight=t.minHeight||r,n("#dd-helper").show().on("mousemove",function(e){t.$select.height(Math.max(r+(e.pageY-i),t.minHeight))}).on("mouseup mouseleave",function(){n("#dd-helper").hide().off()})})):(this.$dropdown.show(),this.$resize.hide(),this.$resize_icon.hide())},_renderSearchable:function(){var t=this;this.$el.append(this.$select=n("<div/>")).append(this.$dropdown=n("<div/>")),this.$dropdown.hide(),this.model.get("multiple")||this.$dropdown.show().on("click",function(){t.$select.select2&&t.$select.select2("open")}),this.all_button=null,!this.model.get("multiple")||this.model.get("individual")||this.model.get("readonly")||(this.all_button=new c.default.ButtonCheck({onclick:function(){var e=[];0!==t.all_button.value()&&r.each(t.model.get("data"),function(t){e.push(t.value)}),t.value(e),t.trigger("change")}}),this.$el.prepend(this.all_button.$el))},_match:function(t,e){return!t||""==t||String(e).toUpperCase().indexOf(t.toUpperCase())>=0},_changeData:function(){var t=this;this.data=[],!this.model.get("multiple")&&this.model.get("optional")&&this.data.push({value:"__null__",label:t.model.get("empty_text")}),r.each(this.model.get("data"),function(e){t.data.push(e)}),0==this.length()&&this.data.push({value:"__null__",label:this.model.get("error_text")}),this.model.get("searchable")?(this.data2=[],r.each(this.data,function(e,i){t.data2.push({order:i,id:e.value,text:e.label,tags:e.tags})}),this.$select.data("select2")&&this.$select.select2("destroy"),this.matched_tags={},this.$select.select2({data:t.data2,closeOnSelect:!this.model.get("multiple"),multiple:this.model.get("multiple"),query:function(e){t.matched_tags={};var i=t.model.get("pagesize"),n=r.filter(t.data2,function(i){var n=!1;return r.each(i.tags,function(i){t._match(e.term,i)&&(n=t.matched_tags[i]=!0)}),n||t._match(e.term,i.text)});e.callback({results:n.slice((e.page-1)*i,e.page*i),more:n.length>=e.page*i})},formatResult:function(e){return r.escape(e.text)+'<div class="ui-tags">'+r.reduce(e.tags,function(e,i){return t.matched_tags[i]?e+'&nbsp;<div class="label label-info">'+r.escape(i)+"</div>":e},"")+"</div>"}}),this.$(".select2-container .select2-search input").off("blur")):(this.$select.find("option").remove(),r.each(this.data,function(e){t.$select.append(n("<option/>").attr("value",e.value).html(r.escape(e.label)))})),this.model.set("disabled",this.model.get("readonly")||0==this.length()),this._changeValue()},_changeDisabled:function(){this.model.get("searchable")?this.$select.select2(this.model.get("disabled")?"disable":"enable"):this.$select.prop("disabled",this.model.get("disabled"))},_changeWait:function(){this.$dropdown.removeClass().addClass("icon-dropdown fa").addClass(this.model.get("wait")?"fa-spinner fa-spin":"fa-caret-down")},_changeVisible:function(){this.$el[this.model.get("visible")?"show":"hide"](),this.$select[this.model.get("visible")?"show":"hide"]()},_changeValue:function(){if(this._setValue(this.model.get("value")),this.model.get("multiple")){if(this.all_button){var t=this._getValue();this.all_button.value(n.isArray(t)?t.length:0,this.length())}}else null!==this._getValue()||this.model.get("optional")||this._setValue(this.first())},value:function(t){return void 0!==t&&this.model.set("value",t),this._getValue()},first:function(){return this.data.length>0?this.data[0].value:null},exists:function(t){return r.findWhere(this.data,{value:t})},text:function(){var t=this._getValue(),e=this.exists(n.isArray(t)?t[0]:t);return e?e.label:""},show:function(){this.model.set("visible",!0)},hide:function(){this.model.set("visible",!1)},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},disabled:function(){return this.model.get("disabled")},enable:function(){this.model.set("disabled",!1)},disable:function(){this.model.set("disabled",!0)},add:function(t,e){r.each(this.model.get("data"),function(e){e.keep&&!r.findWhere(t,{value:e.value})&&t.push(e)}),e&&t&&t.sort(e),this.model.set("data",t)},update:function(t){this.model.set("data",t)},setOnChange:function(t){this.model.set("onchange",t)},length:function(){return n.isArray(this.model.get("data"))?this.model.get("data").length:0},_setValue:function(t){var e=this;if(null!==t&&void 0!==t||(t="__null__"),this.model.get("multiple")?t=n.isArray(t)?t:[t]:n.isArray(t)&&(t=t.length>0?t[0]:"__null__"),this.model.get("searchable")){if(n.isArray(t)){var i=[];r.each(t,function(t){var n=r.findWhere(e.data2,{id:t});n&&i.push(n)}),t=i}else{t=r.findWhere(this.data2,{id:t})}this.$select.select2("data",t)}else this.$select.val(t)},_getValue:function(){var t=null;if(this.model.get("searchable")){var e=this.$select.select2("data");e&&(n.isArray(e)?(t=[],e.sort(function(t,e){return t.order-e.order}),r.each(e,function(e){t.push(e.id)})):t=e.id)}else t=this.$select.val();return s.default.isEmpty(t)?null:t}});e.default={View:u}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(33),c=a(l),u=t.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new t.Model({visible:!0,data:[],id:s.default.uid(),error_text:"No options available.",wait_text:"Please wait...",multiple:!1,optional:!1,onchange:function(){}}).set(e),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:visible",this._changeVisible,this),this.on("change",function(){i.model.get("onchange")(i.value())}),this.render()},render:function(){var t=this;this.$el.empty().removeClass().addClass("ui-options").append(this.$message=n("<div/>")).append(this.$menu=n("<div/>").addClass("ui-options-menu")).append(this.$options=n(this._template())),this.all_button=null,this.model.get("multiple")&&(this.all_button=new c.default.ButtonCheck({onclick:function(){t.$("input").prop("checked",0!==t.all_button.value()),t.value(t._getValue()),t.trigger("change")}}),this.$menu.append(this.all_button.$el)),this._changeData(),this._changeWait(),this._changeVisible()},update:function(t){this.model.set("data",t)},_changeData:function(){var t=this;this.$options.empty(),this._templateOptions?this.$options.append(this._templateOptions(this.model.get("data"))):r.each(this.model.get("data"),function(e){t.$options.append(n(t._templateOption(e)).addClass("ui-option").tooltip({title:e.tooltip,placement:"bottom"}))});var t=this;this.$("input").on("change",function(){t.value(t._getValue()),t.trigger("change")}),this._changeValue(),this._changeWait()},_changeVisible:function(){this.$el[this.model.get("visible")?"show":"hide"]()},_changeWait:function(){this.model.get("wait")?0===this.length()&&(this._messageShow(this.model.get("wait_text"),"info"),this.$options.hide(),this.$menu.hide()):0===this.length()?(this._messageShow(this.model.get("error_text"),"danger"),this.$options.hide(),this.$menu.hide()):(this.$message.hide(),this.$options.css("display","inline-block"),this.$menu.show())},_changeValue:function(){this._setValue(this.model.get("value")),null!==this._getValue()||this.model.get("multiple")||this.model.get("optional")||this._setValue(this.first()),this.all_button&&this.all_button.value(n.isArray(this._getValue())?this._getValue().length:0,this.length())},value:function(t){return void 0!==t&&this.model.set("value",t),this._getValue()},first:function(){var t=this.$("input").first();return t.length>0?t.val():null},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},length:function(){return this.$(".ui-option").length},_setValue:function(t){var e=this;if(void 0!==t&&(this.$("input").prop("checked",!1),null!==t)){var i=n.isArray(t)?t:[t];r.each(i,function(t){e.$('input[value="'+t+'"]').first().prop("checked",!0)})}},_getValue:function(){var t=[];return this.$(":checked").each(function(){t.push(n(this).val())}),s.default.isEmpty(t)?null:this.model.get("multiple")?t:t[0]},_messageShow:function(t,e){this.$message.show().removeClass().addClass("ui-message alert alert-"+e).html(t)},_template:function(){return n("<div/>").addClass("ui-options-list")}}),h=u.extend({_templateOption:function(t){var e=s.default.uid();return n("<div/>").addClass("ui-option").append(n("<input/>").attr({id:e,type:this.model.get("type"),name:this.model.id,value:t.value})).append(n("<label/>").addClass("ui-options-label").attr("for",e).html(t.label))}}),d={};d.View=h.extend({initialize:function(t){t.type="radio",h.prototype.initialize.call(this,t)}});var f={};f.View=h.extend({initialize:function(t){t.type="checkbox",t.multiple=!0,h.prototype.initialize.call(this,t)}});var p={};p.View=u.extend({initialize:function(t){u.prototype.initialize.call(this,t)},_setValue:function(t){void 0!==t&&(this.$("input").prop("checked",!1),this.$("label").removeClass("active"),this.$('[value="'+t+'"]').prop("checked",!0).closest("label").addClass("active"))},_templateOption:function(t){var e=n("<label/>").addClass("btn btn-default");return t.icon&&e.append(n("<i/>").addClass("fa").addClass(t.icon).addClass(!t.label&&"no-padding")),e.append(n("<input/>").attr({type:"radio",name:this.model.id,value:t.value})),t.label&&e.append(t.label),e},_template:function(){return n("<div/>").addClass("btn-group ui-radiobutton").attr("data-toggle","buttons")}}),e.default={Base:u,BaseIcons:h,Radio:d,RadioButton:p,Checkbox:f}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=i(24),l=r(s),c=i(22),u=r(c),h=i(74),d=(r(h),{hidden:!1,show:function(){this.set("hidden",!1)},hide:function(){this.set("hidden",!0)},toggle:function(){this.set("hidden",!this.get("hidden"))},is_visible:function(){return!this.attributes.hidden}}),f=t.Model.extend({defaults:{name:null,label:null,type:null,value:null,html:null,num_samples:5},initialize:function(t){this.attributes.html=unescape(this.attributes.html)},copy:function(){return new f(this.toJSON())},set_value:function(t){this.set("value",t||"")}}),p=t.Collection.extend({model:f}),m=f.extend({}),g=f.extend({set_value:function(t){this.set("value",parseInt(t,10))},get_samples:function(){return d3.scale.linear().domain([this.get("min"),this.get("max")]).ticks(this.get("num_samples"))}}),v=g.extend({set_value:function(t){this.set("value",parseFloat(t))}}),_=f.extend({get_samples:function(){return o.map(this.get("options"),function(t){return t[0]})}});f.subModelTypes={integer:g,float:v,data:m,select:_};var y=t.Model.extend({defaults:{id:null,name:null,description:null,target:null,inputs:[],outputs:[]},urlRoot:Galaxy.root+"api/tools",initialize:function(t){this.set("inputs",new p(o.map(t.inputs,function(t){return new(f.subModelTypes[t.type]||f)(t)})))},toJSON:function(){var e=t.Model.prototype.toJSON.call(this);return e.inputs=this.get("inputs").map(function(t){return t.toJSON()}),e},remove_inputs:function(t){var e=this,i=e.get("inputs").filter(function(e){return-1!==t.indexOf(e.get("type"))});e.get("inputs").remove(i)},copy:function(e){var i=new y(this.toJSON());if(e){var n=new t.Collection;i.get("inputs").each(function(t){t.get_samples()&&n.push(t)}),i.set("inputs",n)}return i},apply_search_results:function(t){return-1!==o.indexOf(t,this.attributes.id)?this.show():this.hide(),this.is_visible()},set_input_value:function(t,e){this.get("inputs").find(function(e){return e.get("name")===t}).set("value",e)},set_input_values:function(t){var e=this;o.each(o.keys(t),function(i){e.set_input_value(i,t[i])})},run:function(){return this._run()},rerun:function(t,e){return this._run({action:"rerun",target_dataset_id:t.id,regions:e})},get_inputs_dict:function(){var t={};return this.get("inputs").each(function(e){t[e.get("name")]=e.get("value")}),t},_run:function(t){var e=o.extend({tool_id:this.id,inputs:this.get_inputs_dict()},t),i=n.Deferred(),r=new l.default.ServerStateDeferred({ajax_settings:{url:this.urlRoot,data:JSON.stringify(e),dataType:"json",contentType:"application/json",type:"POST"},interval:2e3,success_fn:function(t){return"pending"!==t}});return n.when(r.go()).then(function(t){i.resolve(new u.default.DatasetCollection(t))}),i}});o.extend(y.prototype,d);var b=(t.View.extend({}),t.Collection.extend({model:y})),w=t.Model.extend(d),x=t.Model.extend({defaults:{elems:[],open:!1},clear_search_results:function(){o.each(this.attributes.elems,function(t){t.show()}),this.show(),this.set("open",!1)},apply_search_results:function(t){var e,i=!0;o.each(this.attributes.elems,function(n){n instanceof w?(e=n,e.hide()):n instanceof y&&n.apply_search_results(t)&&(i=!1,e&&e.show())}),i?this.hide():(this.show(),this.set("open",!0))}});o.extend(x.prototype,d);var k=t.Model.extend({defaults:{search_hint_string:"search tools",min_chars_for_search:3,clear_btn_url:"",visible:!0,query:"",results:null,clear_key:27},urlRoot:Galaxy.root+"api/tools",initialize:function(){this.on("change:query",this.do_search)},do_search:function(){var t=this.attributes.query;if(t.length<this.attributes.min_chars_for_search)return void this.set("results",null);var e=t;this.timer&&clearTimeout(this.timer),n("#search-clear-btn").hide(),n("#search-spinner").show();var i=this;this.timer=setTimeout(function(){"undefined"!=typeof ga&&ga("send","pageview",Galaxy.root+"?q="+e),n.get(i.urlRoot,{q:e},function(t){i.set("results",t),n("#search-spinner").hide(),n("#search-clear-btn").show()},"json")},400)},clear_search:function(){this.set("query",""),this.set("results",null)}});o.extend(k.prototype,d);var C=t.Model.extend({initialize:function(e){this.attributes.tool_search=e.tool_search,this.attributes.tool_search.on("change:results",this.apply_search_results,this),this.attributes.tools=e.tools,this.attributes.layout=new t.Collection(this.parse(e.layout))},parse:function(t){var e=this,i=function t(i){var n=i.model_class;if(n.indexOf("Tool")===n.length-4)return e.attributes.tools.get(i.id);if("ToolSection"===n){var r=o.map(i.elems,t);return i.elems=r,new x(i)}return"ToolSectionLabel"===n?new w(i):void 0};return o.map(t,i)},clear_search_results:function(){this.get("layout").each(function(t){t instanceof x?t.clear_search_results():t.show()})},apply_search_results:function(){var t=this.get("tool_search").get("results");if(null===t)return void this.clear_search_results();var e=null;this.get("layout").each(function(i){i instanceof w?(e=i,e.hide()):i instanceof y?i.apply_search_results(t)&&e&&e.show():(e=null,i.apply_search_results(t))})}}),S=t.View.extend({initialize:function(){this.model.on("change:hidden",this.update_visible,this),this.update_visible()},update_visible:function(){this.model.attributes.hidden?this.$el.hide():this.$el.show()}}),T=S.extend({tagName:"div",render:function(){var t=n("<div/>");t.append(j.tool_link(this.model.toJSON()));var e=this.model.get("form_style",null);if("upload1"===this.model.id)t.find("a").on("click",function(t){t.preventDefault(),Galaxy.upload.show()});else if("regular"===e){var i=this;t.find("a").on("click",function(t){t.preventDefault(),Galaxy.router.push("/",{tool_id:i.model.id,version:i.model.get("version")})})}return this.$el.append(t),this}}),A=S.extend({tagName:"div",className:"toolPanelLabel",render:function(){return this.$el.append(n("<span/>").text(this.model.attributes.text)),this}}),M=S.extend({tagName:"div",className:"toolSectionWrapper",initialize:function(){S.prototype.initialize.call(this),this.model.on("change:open",this.update_open,this)},render:function(){this.$el.append(j.panel_section(this.model.toJSON()));var t=this.$el.find(".toolSectionBody");return o.each(this.model.attributes.elems,function(e){if(e instanceof y){var i=new T({model:e,className:"toolTitle"});i.render(),t.append(i.$el)}else if(e instanceof w){var n=new A({model:e});n.render(),t.append(n.$el)}}),this},events:{"click .toolSectionTitle > a":"toggle"},toggle:function(){this.model.set("open",!this.model.attributes.open)},update_open:function(){this.model.attributes.open?this.$el.children(".toolSectionBody").slideDown("fast"):this.$el.children(".toolSectionBody").slideUp("fast")}}),O=t.View.extend({tagName:"div",id:"tool-search",className:"bar",events:{click:"focus_and_select","keyup :input":"query_changed","change :input":"query_changed","click #search-clear-btn":"clear"},render:function(){return this.$el.append(j.tool_search(this.model.toJSON())),this.model.is_visible()||this.$el.hide(),n("#messagebox").is(":visible")&&this.$el.css("top","95px"),this.$el.find("[title]").tooltip(),this},focus_and_select:function(){this.$el.find(":input").focus().select()},clear:function(){return this.model.clear_search(),this.$el.find(":input").val(""),this.focus_and_select(),!1},query_changed:function(t){if(this.model.attributes.clear_key&&this.model.attributes.clear_key===t.which)return this.clear(),!1;this.model.set("query",this.$el.find(":input").val())}}),E=t.View.extend({tagName:"div",className:"toolMenu",initialize:function(){this.model.get("tool_search").on("change:results",this.handle_search_results,this)},render:function(){var t=this,e=new O({model:this.model.get("tool_search")});return e.render(),t.$el.append(e.$el),this.model.get("layout").each(function(e){if(e instanceof x){var i=new M({model:e});i.render(),t.$el.append(i.$el)}else if(e instanceof y){var n=new T({model:e,className:"toolTitleNoSection"});n.render(),t.$el.append(n.$el)}else if(e instanceof w){var r=new A({model:e});r.render(),t.$el.append(r.$el)}}),t.$el.find("a.tool-link").click(function(e){var i=n(this).attr("class").split(/\s+/)[0],r=t.model.get("tools").get(i);t.trigger("tool_link_click",e,r)}),this},handle_search_results:function(){var t=this.model.get("tool_search").get("results");t&&0===t.length?n("#search-no-results").show():n("#search-no-results").hide()}}),$=t.View.extend({className:"toolForm",render:function(){this.$el.children().remove(),this.$el.append(j.tool_form(this.model.toJSON()))}}),j=(t.View.extend({className:"toolMenuAndView",initialize:function(){this.tool_panel_view=new E({collection:this.collection}),this.tool_form_view=new $},render:function(){this.tool_panel_view.render(),this.tool_panel_view.$el.css("float","left"),this.$el.append(this.tool_panel_view.$el),this.tool_form_view.$el.hide(),this.$el.append(this.tool_form_view.$el);var t=this;this.tool_panel_view.on("tool_link_click",function(e,i){e.preventDefault(),t.show_tool(i)})},show_tool:function(t){var e=this;t.fetch().done(function(){e.tool_form_view.model=t,e.tool_form_view.render(),e.tool_form_view.$el.show(),n("#left").width("650px")})}}),{tool_search:o.template(['<input id="tool-search-query" class="search-query parent-width" name="query" ','placeholder="<%- search_hint_string %>" autocomplete="off" type="text" />','<a id="search-clear-btn" title="clear search (esc)"> </a>','<span id="search-spinner" class="search-spinner fa fa-spinner fa-spin"></span>'].join("")),panel_section:o.template(['<div class="toolSectionTitle" id="title_<%- id %>">','<a href="javascript:void(0)"><span><%- name %></span></a>',"</div>",'<div id="<%- id %>" class="toolSectionBody" style="display: none;">','<div class="toolSectionBg"></div>',"<div>"].join("")),tool_link:o.template(['<a class="<%- id %> tool-link" href="<%= link %>" target="<%- target %>" minsizehint="<%- min_width %>">','<span class="labels">',"<% _.each( labels, function( label ){ %>",'<span class="label label-default label-<%- label %>">',"<%- label %>","</span>","<% }); %>","</span>",'<span class="tool-old-link">',"<%- name %>","</span>"," <%- description %>","</a>"].join("")),tool_form:o.template(['<div class="toolFormTitle"><%- tool.name %> (version <%- tool.version %>)</div>','<div class="toolFormBody">',"<% _.each( tool.inputs, function( input ){ %>",'<div class="form-row">','<label for="<%- input.name %>"><%- input.label %>:</label>','<div class="form-row-input">',"<%= input.html %>","</div>",'<div class="toolParamHelp" style="clear: both;">',"<%- input.help %>","</div>",'<div style="clear: both;"></div>',"</div>","<% }); %>","</div>",'<div class="form-row form-actions">','<input type="submit" class="btn btn-primary" name="runtool_btn" value="Execute" />',"</div>",'<div class="toolHelp">','<div class="toolHelpBody"><% tool.help %></div>',"</div>"].join(""),{variable:"tool"})});e.default={ToolParameter:f,IntegerToolParameter:g,SelectToolParameter:_,Tool:y,ToolCollection:b,ToolSearch:k,ToolPanel:C,ToolPanelView:E,ToolFormView:$}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(6),c=a(l),u=i(8),h=a(u),d=i(75),f=a(d),p=i(21),m=a(p),g=t.View.extend({initialize:function(t){var e=this;this.modal=parent.Galaxy.modal||new h.default.View,this.form=new f.default(s.default.merge({listen_to_history:!0,always_refresh:!1,buildmodel:function(t,i){var r=i.model.attributes,a="",o={},l=r.job_id;l?a=Galaxy.root+"api/jobs/"+l+"/build_for_rerun":(a=Galaxy.root+"api/tools/"+r.id+"/build",o=n.extend({},Galaxy.params),o.tool_id&&delete o.tool_id),r.version&&(o.tool_version=r.version),s.default.get({url:a,data:o,success:function(n){if(!n.display)return void(window.location=Galaxy.root);i.model.set(n),e._customize(i),Galaxy.emit.debug("tool-form-base::_buildModel()","Initial tool model ready.",n),t.resolve()},error:function(e,a){var o=e&&e.err_msg||"Uncaught error.";401==a?window.location=Galaxy.root+"user/login?"+n.param({redirect:Galaxy.root+"?tool_id="+r.id}):i.$el.is(":empty")?i.$el.prepend(new c.default.Message({message:o,status:"danger",persistent:!0,large:!0}).$el):Galaxy.modal&&Galaxy.modal.show({title:"Tool request failed",body:o,buttons:{Close:function(){Galaxy.modal.hide()}}}),Galaxy.emit.debug("tool-form-base::_buildModel()","Initial tool model request failed.",e),t.reject()}})},postchange:function(t,e){var i={tool_id:e.model.get("id"),tool_version:e.model.get("version"),inputs:n.extend(!0,{},e.data.create())};e.wait(!0),Galaxy.emit.debug("tool-form::postchange()","Sending current state.",i),s.default.request({type:"POST",url:Galaxy.root+"api/tools/"+e.model.get("id")+"/build",data:i,success:function(i){e.update(i),e.wait(!1),Galaxy.emit.debug("tool-form::postchange()","Received new model.",i),t.resolve()},error:function(e){Galaxy.emit.debug("tool-form::postchange()","Refresh request failed.",e),t.reject()}})}},t)),this.deferred=this.form.deferred,this.setElement("<div/>"),this.$el.append(this.form.$el)},_customize:function(t){var e=this,i=t.model.attributes,n=new c.default.Button({icon:"fa-check",tooltip:"Execute: "+i.name+" ("+i.version+")",title:"Execute",cls:"btn btn-primary ui-clear-float",wait_cls:"btn btn-info ui-clear-float",onclick:function(){n.wait(),t.portlet.disable(),e.submit(i,function(){n.unwait(),t.portlet.enable()})}});i.buttons={execute:n},i.job_id&&i.job_remap&&i.inputs.push({label:"Resume dependencies from this job",name:"rerun_remap_job_id",type:"select",display:"radio",ignore:"__ignore__",value:"__ignore__",options:[["Yes",i.job_id],["No","__ignore__"]],help:"The previous run of this tool failed and other tools were waiting for it to finish successfully. Use this option to resume those tools using the new output(s) of this tool run."})},submit:function(t,e){var i=this,a={tool_id:t.id,tool_version:t.version,inputs:this.form.data.create()};if(this.form.trigger("reset"),!i.validate(a))return Galaxy.emit.debug("tool-form::submit()","Submission canceled. Validation failed."),void(e&&e());if(t.action!==Galaxy.root+"tool_runner/index"){var o=n("<form/>").attr({action:t.action,method:t.method,enctype:t.enctype});return r.each(a.inputs,function(t,e){o.append(n("<input/>").attr({name:e,value:t}))}),o.hide().appendTo("body").submit().remove(),void(e&&e())}Galaxy.emit.debug("tool-form::submit()","Validation complete.",a),s.default.request({type:"POST",url:Galaxy.root+"api/tools",data:a,success:function(t){if(e&&e(),i.$el.children().hide(),i.$el.append(i._templateSuccess(t)),t.jobs&&t.jobs.length>0){i.$el.append(n("<div/>",{id:"webhook-view"}));new m.default.WebhookView({urlRoot:Galaxy.root+"api/webhooks/tool",toolId:a.tool_id})}parent.Galaxy&&parent.Galaxy.currHistoryPanel&&parent.Galaxy.currHistoryPanel.refreshContents()},error:function(t){e&&e(),Galaxy.emit.debug("tool-form::submit","Submission failed.",t);var n=!1;if(t&&t.err_data){var r=i.form.data.matchResponse(t.err_data);for(var o in r){i.form.highlight(o,r[o]),n=!0;break}}n||i.modal.show({title:"Job submission failed",body:i._templateError(a,t&&t.err_msg),buttons:{Close:function(){i.modal.hide()}}})}})},validate:function(t){var e=t.inputs,i=-1,n=null;for(var r in e){var a=e[r],o=this.form.data.match(r),s=this.form.field_list[o],l=this.form.input_list[o];if(o&&l&&s){if(!l.optional&&null==a)return this.form.highlight(o),!1;if(a&&a.batch){var c=a.values.length,u=c>0&&a.values[0]&&a.values[0].src;if(u)if(null===n)n=u;else if(n!==u)return this.form.highlight(o,"Please select either dataset or dataset list fields for all batch mode fields."),!1;if(-1===i)i=c;else if(i!==c)return this.form.highlight(o,"Please make sure that you select the same number of inputs for all batch mode fields. This field contains <b>"+c+"</b> selection(s) while a previous field contains <b>"+i+"</b>."),!1}}else Galaxy.emit.debug("tool-form::validate()","Retrieving input objects failed.")}return!0},_templateSuccess:function(t){if(t.jobs&&t.jobs.length>0){var e=t.jobs.length,i=1==e?"1 job has":e+" jobs have",a=n("<div/>").addClass("donemessagelarge").append(n("<p/>").text(i+" been successfully added to the queue - resulting in the following datasets:"));return r.each(t.outputs,function(t){a.append(n("<p/>").addClass("messagerow").append(n("<b/>").text(t.hid+": "+t.name)))}),a.append(n("<p/>").append("<b/>").text("You can check the status of queued jobs and view the resulting data by refreshing the History pane. When the job has been run the status will change from 'running' to 'finished' if completed successfully or 'error' if problems were encountered.")),a}return this._templateError(t,"Invalid success response. No jobs found.")},_templateError:function(t,e){return n("<div/>").addClass("errormessagelarge").append(n("<p/>").text("The server could not complete the request. Please contact the Galaxy Team if this error persists. "+(e||""))).append(n("<pre/>").text(JSON.stringify(t,null,4)))}});e.default={View:g}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=(r(a),i(76)),s=r(o),l=i(6),c=r(l),u=i(11),h=r(u),d=i(80),f=r(d),p=i(20),m=r(p);e.default=h.default.extend({initialize:function(t){var e=this;this.deferred=new s.default,h.default.prototype.initialize.call(this,t),this._update(this.model.get("initialmodel")),this.model.get("listen_to_history")&&parent.Galaxy&&parent.Galaxy.currHistoryPanel&&this.listenTo(parent.Galaxy.currHistoryPanel.collection,"change",function(){e.model.get("onchange")()}),this.$el.on("remove",function(){e._destroy()})},_update:function(t){var e=this;t=t||this.model.get("buildmodel"),t?(this.deferred.reset(),this.deferred.execute(function(i){t(i,e),i.then(function(){e._render()})})):this._render()},_destroy:function(){var t=this;this.$el.off().hide(),this.deferred.execute(function(){h.default.prototype.remove.call(t),Galaxy.emit.debug("tool-form-base::_destroy()","Destroy view.")})},_render:function(){var e=this,i=this.model.attributes;this.model.set({title:i.fixed_title||"<b>"+i.name+"</b> "+i.description+" (Galaxy Version "+i.version+")",operations:!i.hide_operations&&this._operations(),onchange:function(){e.deferred.reset(),e.deferred.execute(function(t){e.model.get("postchange")(t,e)})}}),this.render(),this.model.get("collapsible")||this.$el.append(t("<div/>").addClass("ui-margin-top-large").append(this._footer())),this.show_message&&this.message.update({status:"success",message:"Now you are using '"+i.name+"' version "+i.version+", id '"+i.id+"'.",persistent:!1}),this.show_message=!0},_operations:function(){var e=this,i=this.model.attributes,r=new c.default.ButtonMenu({icon:"fa-cubes",title:!i.narrow&&"Versions"||null,tooltip:"Select another tool version"});if(!i.sustain_version&&i.versions&&i.versions.length>1)for(var a in i.versions){var o=i.versions[a];o!=i.version&&r.addMenu({title:"Switch to "+o,version:o,icon:"fa-cube",onclick:function(){e.model.set("id",i.id.replace(i.version,this.version)),e.model.set("version",this.version),e._update()}})}else r.$el.hide();var s=new c.default.ButtonMenu({icon:"fa-caret-down",title:!i.narrow&&"Options"||null,tooltip:"View available options"});return i.biostar_url&&(s.addMenu({icon:"fa-question-circle",title:"Question?",onclick:function(){window.open(i.biostar_url+"/p/new/post/")}}),s.addMenu({icon:"fa-search",title:"Search",onclick:function(){window.open(i.biostar_url+"/local/search/page/?q="+i.name)}})),s.addMenu({icon:"fa-share",title:"Share",onclick:function(){prompt("Copy to clipboard: Ctrl+C, Enter",window.location.origin+Galaxy.root+"root?tool_id="+i.id)}}),Galaxy.user&&Galaxy.user.get("is_admin")&&s.addMenu({icon:"fa-download",title:"Download",onclick:function(){window.location.href=Galaxy.root+"api/tools/"+i.id+"/download"}}),i.requirements&&i.requirements.length>0&&s.addMenu({icon:"fa-info-circle",title:"Requirements",onclick:function(){!this.requirements_visible||e.portlet.collapsed?(this.requirements_visible=!0,e.portlet.expand(),e.message.update({persistent:!0,message:e._templateRequirements(i),status:"info"})):(this.requirements_visible=!1,e.message.update({message:""}))}}),i.sharable_url&&s.addMenu({icon:"fa-external-link",title:"See in Tool Shed",onclick:function(){window.open(i.sharable_url)}}),t.getJSON("/api/webhooks/tool-menu/all",function(t){n.each(t,function(t){t.activate&&t.config.function&&s.addMenu({icon:t.config.icon,title:t.config.title,onclick:function(){new Function("options",t.config.function)(i)}})})}),{menu:s,versions:r}},_footer:function(){var e=this.model.attributes,i=t("<div/>").append(this._templateHelp(e));if(e.citations){var n=m.default.extend(f.default),r=document.createElement("div");i.append(r),new n({propsData:{id:e.id,source:"tools"}}).$mount(r)}return i},_templateHelp:function(e){var i=t("<div/>").addClass("ui-form-help").append(e.help);return i.find("a").attr("target","_blank"),i},_templateRequirements:function(e){var i=e.requirements.length;if(i>0){var r="This tool requires ";n.each(e.requirements,function(t,e){r+=t.name+(t.version?" (Version "+t.version+")":"")+(e<i-2?", ":e==i-2?" and ":"")});var a=t("<a/>").attr("target","_blank").attr("href","https://galaxyproject.org/tools/requirements/").text("here");return t("<span/>").append(r+". Click ").append(a).append(" for more information.")}return"No requirements found."}})}).call(e,i(0),i(1))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=t.Model.extend({initialize:function(){this.active={},this.last=null},execute:function(t){var e=this,i=a.default.uid(),r=t.length>0;this.active[i]=!0;var o=n.Deferred();o.promise().always(function(){delete e.active[i],r&&Galaxy.emit.debug("deferred::execute()",this.state().charAt(0).toUpperCase()+this.state().slice(1)+" "+i)}),n.when(this.last).always(function(){e.active[i]?(r&&Galaxy.emit.debug("deferred::execute()","Running "+i),t(o),!r&&o.resolve()):o.reject()}),this.last=o.promise()},reset:function(){Galaxy.emit.debug("deferred::execute()","Reset");for(var t in this.active)this.active[t]=!1},ready:function(){return n.isEmptyObject(this.active)}})}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=t.View.extend({initialize:function(t){this.options=a.default.merge(t,{content:"No content available.",onchange:null,ondblclick:null,onconfirm:null,cls:"ui-table",selectable:!0,cls_tr:""}),this.setElement(this._template()),this.$thead=this.$("thead"),this.$tbody=this.$("tbody"),this.$tmessage=this.$("tmessage"),this.row=this._row(),this.row_count=0},events:{click:"_onclick",dblclick:"_ondblclick"},addHeader:function(t){this.row.append(n("<th/>").append(t))},appendHeader:function(){this.$thead.append(this.row),this.row=n("<tr/>")},add:function(t,e,i){var r=n("<td/>");e&&r.css("width",e),i&&r.css("text-align",i),this.row.append(r.append(t))},append:function(t,e){this._commit(t,e,!1)},prepend:function(t,e){this._commit(t,e,!0)},get:function(t){return this.$("#"+t)},del:function(t){var e=this.$tbody.find("#"+t);e.length>0&&(e.remove(),this.row_count--,this._refresh())},delAll:function(){this.$tbody.empty(),this.row_count=0,this._refresh()},value:function(t){if(this.options.selectable){this.before=this.$tbody.find(".current").attr("id"),void 0!==t&&(this.$tbody.find("tr").removeClass("current"),t&&this.$tbody.find("#"+t).addClass("current"));var e=this.$tbody.find(".current").attr("id");return void 0===e?null:(e!=this.before&&this.options.onchange&&this.options.onchange(t),e)}},size:function(){return this.$tbody.find("tr").length},_commit:function(t,e,i){this.del(t),this.row.attr("id",t),i?this.$tbody.prepend(this.row):this.$tbody.append(this.row),e&&(this.row.hide(),this.row.fadeIn()),this.row=this._row(),this.row_count++,this._refresh()},_row:function(){return n('<tr class="'+this.options.cls_tr+'"></tr>')},_onclick:function(t){var e=this.value(),i=n(t.target).closest("tr").attr("id");""!=i&&i&&e!=i&&(this.options.onconfirm?this.options.onconfirm(i):this.value(i))},_ondblclick:function(t){var e=this.value();e&&this.options.ondblclick&&this.options.ondblclick(e)},_refresh:function(){0==this.row_count?this.$tmessage.show():this.$tmessage.hide()},_template:function(){return'<div><table class="'+this.options.cls+'"><thead/><tbody/></table><tmessage>'+this.options.content+"</tmessage><div>"}});e.default={View:o}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=r(a),s=i(25),l=r(s),c=i(6),u=r(c),h=t.View.extend({initialize:function(t){var e=this;this.options=t,this.name=t.name||"element",this.multiple=t.multiple||!1,this.message=new u.default.Message,this.portlet=new l.default.View({cls:"ui-portlet-section"}),this.select=new u.default.Select.View({optional:t.optional}),this.button=new u.default.ButtonIcon({icon:"fa fa-sign-in",tooltip:"Insert new "+this.name,onclick:function(){e.add({id:e.select.value(),name:e.select.text()})}}),this.setElement(this._template(t)),this.$(".ui-list-message").append(this.message.$el),this.$(".ui-list-portlet").append(this.portlet.$el),this.$(".ui-list-button").append(this.button.$el),this.$(".ui-list-select").append(this.select.$el)},value:function(t){if(void 0!==t){if(this.portlet.empty(),n.isArray(t))for(var e in t){var i=t[e],r=null,a=null;"string"!=n.type(i)?(r=i.id,a=i.name):r=a=i,null!=r&&this.add({id:r,name:a})}this._refresh()}var o=[];return this.$(".ui-list-id").each(function(){o.push({id:n(this).prop("id"),name:n(this).find(".ui-list-name").html()})}),0==o.length?null:o},add:function(t){var e=this;if(0===this.$('[id="'+t.id+'"]').length)if(o.default.isEmpty(t.id))this.message.update({message:"Please select a valid "+this.name+".",status:"danger"});else{var i=n(this._templateRow({id:t.id,name:t.name}));i.on("click",function(){i.remove(),e._refresh()}),i.on("mouseover",function(){i.addClass("portlet-highlight")}),i.on("mouseout",function(){i.removeClass("portlet-highlight")}),this.portlet.append(i),this._refresh()}else this.message.update({message:"This "+this.name+" is already in the list."})},update:function(t){this.select.update(t)},_refresh:function(){this.$(".ui-list-id").length>0?(!this.multiple&&this.button.disable(),this.$(".ui-list-portlet").show()):(this.button.enable(),this.$(".ui-list-portlet").hide()),this.options.onchange&&this.options.onchange()},_template:function(t){return'<div class="ui-list"><div class="ui-margin-top"><span class="ui-list-button"/><span class="ui-list-select"/></div><div class="ui-list-message"/><div class="ui-list-portlet"/></div>'},_templateRow:function(t){return'<div id="'+t.id+'" class="ui-list-id"><span class="ui-list-delete fa fa-trash"/><span class="ui-list-name">'+t.name+"</span></div>"}});e.default={View:h}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n,r){Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=(function(t){t&&t.__esModule}(a),t.Model.extend({initialize:function(t){this.app=t},checksum:function(){var t="",e=this;return this.app.section.$el.find(".section-row").each(function(){var i=n(this).attr("id"),r=e.app.field_list[i];r&&(t+=i+":"+JSON.stringify(r.value&&r.value())+":"+r.collapsed+";")}),t},create:function(){function t(t,e,n){i.flat_dict[t]=e,r[t]=n,i.app.element_list[e]&&i.app.element_list[e].$el.attr("tour_id",t)}function e(n,r){for(var a in r){var o=r[a];if(o.input){var l=o.input,c=n;switch(""!=n&&(c+="|"),c+=l.name,l.type){case"repeat":var u=[],h=null;for(var d in o){var f=d.indexOf("section-");-1!=f&&(f+="section-".length,u.push(parseInt(d.substr(f))),h||(h=d.substr(0,f)))}u.sort(function(t,e){return t-e});var a=0;for(var p in u)e(c+"_"+a++,o[h+u[p]]);break;case"conditional":var m=i.app.field_list[l.id].value();t(c+"|"+l.test_param.name,l.id,m);var g=s(l,m);-1!=g&&e(c,r[l.id+"-section-"+g]);break;case"section":e(!l.flat&&c||"",o);break;default:var v=i.app.field_list[l.id];if(v&&v.value){var m=v.value();if((void 0===l.ignore||l.ignore!=m)&&(v.collapsed&&l.collapsible_value&&(m=l.collapsible_value),t(c,l.id,m),l.payload))for(var _ in l.payload)t(_,l.id,l.payload[_])}}}}}var i=this,n={};this._iterate(this.app.section.$el,n);var r={};return this.flat_dict={},e("",n),r},match:function(t){return this.flat_dict&&this.flat_dict[t]},matchCase:function(t,e){return s(t,e)},matchModel:function(t,e){var i=this;l(t.inputs,function(t,n){i.flat_dict[n]&&e(t,i.flat_dict[n])})},matchResponse:function(t){function e(t,r){if("string"==typeof r){var a=n.flat_dict[t];a&&(i[a]=r)}else for(var o in r){var s=o;if(""!==t){var l="|";r instanceof Array&&(l="_"),s=t+l+s}e(s,r[o])}}var i={},n=this;return e("",t),i},_iterate:function(t,e){var i=this;n(t).children().each(function(){var t=this,r=n(t).attr("id");if(n(t).hasClass("section-row")){var a=i.app.input_list[r];e[r]=a&&{input:a}||{},i._iterate(t,e[r])}else i._iterate(t,e)})}})),s=function(t,e){"boolean"==t.test_param.type&&(e="true"==e?t.test_param.truevalue||"true":t.test_param.falsevalue||"false");for(var i in t.cases)if(t.cases[i].value==e)return i;return-1},l=function t(e,i,a,o){o=n.extend(!0,{},o),r.each(e,function(t){t&&t.type&&t.name&&(o[t.name]=t)});for(var l in e){var c=e[l];c.name=c.name||l;var u=a?a+"|"+c.name:c.name;switch(c.type){case"repeat":r.each(c.cache,function(e,n){t(e,i,u+"_"+n,o)});break;case"conditional":if(c.test_param){i(c.test_param,u+"|"+c.test_param.name,o);var h=s(c,c.test_param.value);-1!=h?t(c.cases[h].inputs,i,u,o):Galaxy.emit.debug("form-data::visitInputs() - Invalid case for "+u+".")}else Galaxy.emit.debug("form-data::visitInputs() - Conditional test parameter missing for "+u+".");break;case"section":t(c.inputs,i,u,o);break;default:i(c,u,o)}}};e.default={Manager:o,visitInputs:l}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";function n(t){i(154)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(157),a=i.n(r),o=i(223),s=i(83),l=n,c=s(a.a,o.a,!1,l,null,null);e.default=c.exports},function(t,e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var a=n(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([a]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=u[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(a(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var o=[],r=0;r<i.parts.length;r++)o.push(a(i.parts[r]));u[i.id]={id:i.id,refs:1,parts:o}}}}function r(){var t=document.createElement("style");return t.type="text/css",h.appendChild(t),t}function a(t){var e,i,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(p)return m;n.parentNode.removeChild(n)}if(g){var a=f++;n=d||(d=r()),e=o.bind(null,n,a,!1),i=o.bind(null,n,a,!0)}else n=r(),e=s.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}function o(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function s(t,e){var i=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=i(156),u={},h=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,p=!1,m=function(){},g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i){p=i;var r=c(t,e);return n(r),function(e){for(var i=[],a=0;a<r.length;a++){var o=r[a],s=u[o.id];s.refs--,i.push(s)}e?(r=c(t,e),n(r)):r=[];for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete u[s.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e,i,n,r,a){var o,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,s=t.default);var c="function"==typeof s?s.options:s;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId=r);var u;if(a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):n&&(u=n),u){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=u,c.render=function(t,e){return u.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:o,exports:s,options:c}}},function(t,e,i){t.exports=i(158)},function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},function(t,e,i){"use strict";var n=i(7),r=i(163),a=i(165),o=i(166),s=i(167),l=i(87),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||i(168);t.exports=function(t){return new Promise(function(e,u){var h=t.data,d=t.headers;n.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",m=!1;if(window.XMLHttpRequest||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(t.url)||(f=new window.XDomainRequest,p="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var g=t.auth.username||"",v=t.auth.password||"";d.Authorization="Basic "+c(g+":"+v)}if(f.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[p]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in f?o(f.getAllResponseHeaders()):null,n=t.responseType&&"text"!==t.responseType?f.response:f.responseText,a={data:n,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:i,config:t,request:f};r(e,u,a),f=null}},f.onerror=function(){u(l("Network Error",t,null,f)),f=null},f.ontimeout=function(){u(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var _=i(169),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?_.read(t.xsrfCookieName):void 0;y&&(d[t.xsrfHeaderName]=y)}if("setRequestHeader"in f&&n.forEach(d,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),u(t),f=null)}),void 0===h&&(h=null),f.send(h)})}},function(t,e,i){"use strict";var n=i(164);t.exports=function(t,e,i,r,a){var o=new Error(t);return n(o,e,i,r,a)}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supportedMarkups={ascii:!0,unicode:!0,html:!0}},function(t,e,i){"use strict";function n(t){return r(e.defaultCategories,t)}function r(t,e){for(var i=[],n=0;n<e.length;n++){var r=e.charAt(n);i.push({string:r,category:t(r)})}return i}Object.defineProperty(e,"__esModule",{value:!0}),e.defaultCategories=function(t){switch(t){case"\\":return 0;case"{":return 1;case"}":return 2;case"$":return 3;case"&":return 4;case"\r":return 5;case"#":return 6;case"^":return 7;case"_":return 8;case"\0":return 9;case" ":return 10;case"~":return 13;case"%":return 14;case"d":return 15;default:return 11}},e.convertToTeXCharsDefault=n,e.convertToTeXChars=r},function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this._=t}function r(t){return t instanceof n}function a(t){return"[object Array]"==={}.toString.call(t)}function o(t,e){return{status:!0,index:t,value:e,furthest:-1,expected:[]}}function s(t,e){return{status:!1,index:-1,value:null,furthest:t,expected:[e]}}function l(t,e){if(!e)return t;if(t.furthest>e.furthest)return t;var i=t.furthest===e.furthest?u(t.expected,e.expected):e.expected;return{status:t.status,index:t.index,value:t.value,furthest:e.furthest,expected:i}}function c(t,e){var i=t.slice(0,e).split("\n");return{offset:e,line:i.length,column:i[i.length-1].length+1}}function u(t,e){var i=t.length,n=e.length;if(0===i)return e;if(0===n)return t;for(var r={},a=0;a<i;a++)r[t[a]]=!0;for(var o=0;o<n;o++)r[e[o]]=!0;var s=[];for(var l in r)r.hasOwnProperty(l)&&s.push(l);return s.sort(),s}function h(t){if(!r(t))throw new Error("not a parser: "+t)}function d(t){if(!a(t))throw new Error("not an array: "+t)}function f(t){if("number"!=typeof t)throw new Error("not a number: "+t)}function p(t){if(!(t instanceof RegExp))throw new Error("not a regexp: "+t);for(var e=b(t),i=0;i<e.length;i++){var n=e.charAt(i);if("i"!==n&&"m"!==n&&"u"!==n)throw new Error('unsupported regexp flag "'+n+'": '+t)}}function m(t){if("function"!=typeof t)throw new Error("not a function: "+t)}function g(t){if("string"!=typeof t)throw new Error("not a string: "+t)}function v(t){return 1===t.length?t[0]:"one of "+t.join(", ")}function _(t,e){var i=e.index,n=i.offset;if(n===t.length)return", got the end of the input";var r=n>0?"'...":"'",a=t.length-n>12?"...'":"'";return" at line "+i.line+" column "+i.column+", got "+r+t.slice(n,n+12)+a}function y(t,e){return"expected "+v(e.expected)+_(t,e)}function b(t){var e=""+t;return e.slice(e.lastIndexOf("/")+1)}function w(t){return RegExp("^(?:"+t.source+")",b(t))}function x(){for(var t=[].slice.call(arguments),e=t.length,i=0;i<e;i+=1)h(t[i]);return n(function(i,n){for(var r,a=new Array(e),s=0;s<e;s+=1){if(r=l(t[s]._(i,n),r),!r.status)return r;a[s]=r.value,n=r.index}return l(o(n,a),r)})}function k(){for(var t={},e=0,i=[].slice.call(arguments),s=i.length,c=0;c<s;c+=1){var u=i[c];if(!r(u)){if(a(u)&&2===u.length&&"string"==typeof u[0]&&r(u[1])){var h=u[0];if(t[h])throw new Error("seqObj: duplicate key "+h);t[h]=!0,e++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===e)throw new Error("seqObj expects at least one named parser, found zero");return n(function(t,e){for(var n,r={},c=0;c<s;c+=1){var u,h;if(a(i[c])?(u=i[c][0],h=i[c][1]):(u=null,h=i[c]),n=l(h._(t,e),n),!n.status)return n;u&&(r[u]=n.value),e=n.index}return l(o(e,r),n)})}function C(){var t=[].slice.call(arguments);if(0===t.length)throw new Error("seqMap needs at least one argument");var e=t.pop();return m(e),x.apply(null,t).map(function(t){return e.apply(null,t)})}function S(t){var e={};for(var i in t)({}).hasOwnProperty.call(t,i)&&function(i){var n=function(){return t[i](e)};e[i]=q(n)}(i);return e}function T(){var t=[].slice.call(arguments),e=t.length;if(0===e)return j("zero alternates");for(var i=0;i<e;i+=1)h(t[i]);return n(function(e,i){for(var n,r=0;r<t.length;r+=1)if(n=l(t[r]._(e,i),n),n.status)return n;return n})}function A(t,e){return M(t,e).or($([]))}function M(t,e){h(t),h(e);var i=e.then(t).many();return t.chain(function(t){return i.map(function(e){return[t].concat(e)})})}function O(t){g(t);var e="'"+t+"'";return n(function(i,n){var r=n+t.length,a=i.slice(n,r);return a===t?o(r,a):s(n,e)})}function E(t,e){p(t),arguments.length>=2?f(e):e=0;var i=w(t),r=""+t;return n(function(t,n){var a=i.exec(t.slice(n));if(a){if(0<=e&&e<=a.length){var l=a[0],c=a[e];return o(n+l.length,c)}return s(n,"valid match group (0 to "+a.length+") in "+r)}return s(n,r)})}function $(t){return n(function(e,i){return o(i,t)})}function j(t){return n(function(e,i){return s(i,t)})}function D(t){if(r(t))return n(function(e,i){var n=t._(e,i);return n.index=i,n.value="",n});if("string"==typeof t)return D(O(t));if(t instanceof RegExp)return D(E(t));throw new Error("not a string, regexp, or parser: "+t)}function P(t){return h(t),n(function(e,i){var n=t._(e,i),r=e.slice(i,n.index);return n.status?s(i,'not "'+r+'"'):o(i,null)})}function R(t){return m(t),n(function(e,i){var n=e.charAt(i);return i<e.length&&t(n)?o(i+1,n):s(i,"a character matching "+t)})}function N(t){return R(function(e){return t.indexOf(e)>=0})}function I(t){return R(function(e){return t.indexOf(e)<0})}function L(t){return n(t(o,s))}function z(t,e){return R(function(i){return t<=i&&i<=e}).desc(t+"-"+e)}function H(t){return m(t),n(function(e,i){for(var n=i;n<e.length&&t(e.charAt(n));)n++;return o(n,e.slice(i,n))})}function q(t,e){arguments.length<2&&(e=t,t=void 0);var i=n(function(t,n){return i._=e()._,i._(t,n)});return t?i.desc(t):i}function F(){return j("fantasy-land/empty")}var B=n.prototype;B.parse=function(t){if("string"!=typeof t)throw new Error(".parse must be called with a string as its argument");var e=this.skip(G)._(t,0);return e.status?{status:!0,value:e.value}:{status:!1,index:c(t,e.furthest),expected:e.expected}},B.tryParse=function(t){var e=this.parse(t);if(e.status)return e.value;var i=y(t,e),n=new Error(i);throw n.type="ParsimmonError",n.result=e,n},B.or=function(t){return T(this,t)},B.trim=function(t){return this.wrap(t,t)},B.wrap=function(t,e){return C(t,this,e,function(t,e){return e})},B.thru=function(t){return t(this)},B.then=function(t){return h(t),x(this,t).map(function(t){return t[1]})},B.many=function(){var t=this;return n(function(e,i){for(var n=[],r=void 0;;){if(r=l(t._(e,i),r),!r.status)return l(o(i,n),r);i=r.index,n.push(r.value)}})},B.tie=function(){return this.map(function(t){d(t);for(var e="",i=0;i<t.length;i++)g(t[i]),e+=t[i];return e})},B.times=function(t,e){var i=this;return arguments.length<2&&(e=t),f(t),f(e),n(function(n,r){for(var a=[],s=void 0,c=void 0,u=0;u<t;u+=1){if(s=i._(n,r),c=l(s,c),!s.status)return c;r=s.index,a.push(s.value)}for(;u<e&&(s=i._(n,r),c=l(s,c),s.status);u+=1)r=s.index,a.push(s.value);return l(o(r,a),c)})},B.result=function(t){return this.map(function(){return t})},B.atMost=function(t){return this.times(0,t)},B.atLeast=function(t){return C(this.times(t),this.many(),function(t,e){return t.concat(e)})},B.map=function(t){m(t);var e=this;return n(function(i,n){var r=e._(i,n);return r.status?l(o(r.index,t(r.value)),r):r})},B.skip=function(t){return x(this,t).map(function(t){return t[0]})},B.mark=function(){return C(V,this,V,function(t,e,i){return{start:t,value:e,end:i}})},B.node=function(t){return C(V,this,V,function(e,i,n){return{name:t,value:i,start:e,end:n}})},B.sepBy=function(t){return A(this,t)},B.sepBy1=function(t){return M(this,t)},B.lookahead=function(t){return this.skip(D(t))},B.notFollowedBy=function(t){return this.skip(P(t))},B.desc=function(t){var e=this;return n(function(i,n){var r=e._(i,n);return r.status||(r.expected=[t]),r})},B.fallback=function(t){return this.or($(t))},B.ap=function(t){return C(t,this,function(t,e){return t(e)})},B.chain=function(t){var e=this;return n(function(i,n){var r=e._(i,n);return r.status?l(t(r.value)._(i,r.index),r):r})},B.concat=B.or,B.empty=F,B.of=$,B["fantasy-land/ap"]=B.ap,B["fantasy-land/chain"]=B.chain,B["fantasy-land/concat"]=B.concat,B["fantasy-land/empty"]=B.empty,B["fantasy-land/of"]=B.of,B["fantasy-land/map"]=B.map;var V=n(function(t,e){return o(e,c(t,e))}),U=n(function(t,e){return e>=t.length?s(e,"any character"):o(e+1,t.charAt(e))}),W=n(function(t,e){return o(t.length,t.slice(e))}),G=n(function(t,e){return e<t.length?s(e,"EOF"):o(e,null)}),X=E(/[0-9]/).desc("a digit"),Y=E(/[0-9]*/).desc("optional digits"),J=E(/[a-z]/i).desc("a letter"),K=E(/[a-z]*/i).desc("optional letters"),Q=E(/\s*/).desc("optional whitespace"),Z=E(/\s+/).desc("whitespace");n.all=W,n.alt=T,n.any=U,n.createLanguage=S,n.custom=L,n.digit=X,n.digits=Y,n.empty=F,n.eof=G,n.fail=j,n.formatError=y,n.index=V,n.isParser=r,n.lazy=q,n.letter=J,n.letters=K,n.lookahead=D,n.makeFailure=s,n.makeSuccess=o,n.noneOf=I,n.notFollowedBy=P,n.of=$,n.oneOf=N,n.optWhitespace=Q,n.Parser=n,n.range=z,n.regex=E,n.regexp=E,n.sepBy=A,n.sepBy1=M,n.seq=x,n.seqMap=C,n.seqObj=k,n.string=O,n.succeed=$,n.takeWhile=H,n.test=R,n.whitespace=Z,n["fantasy-land/empty"]=F,n["fantasy-land/of"]=$,t.exports=n}])})},function(t,e,i){"use strict";function n(t){return new Error("I do not know command "+t)}Object.defineProperty(e,"__esModule",{value:!0}),e.unknownCommandError=n},function(t,e,i){"use strict";function n(t,e,i,n){return{name:t,optionalArguments:e,argumentCount:i,apply:n}}function r(t,e,i){return{name:t,optionalArguments:e,argumentCount:i}}function a(t,e){return{name:t,optionalArguments:0,argumentCount:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.createCommandHandler=n,e.createKnownCommandWithOptArgs=r,e.createKnownCommandWithArgs=a},function(t,e,i){"use strict";function n(t){return"bb"===t||"mathbb"===t||"textbb"===t}function r(t){return"bf"===t||"mathbf"===t||"textbf"===t}function a(t){return"mono"===t}function o(t){return"frak"===t||"mathfrak"===t||"textfrak"===t}function s(t){return"it"===t||"mathit"===t||"textit"===t}function l(t){return"tt"===t||"mathtt"===t||"texttt"===t}function c(t){return"cal"===t||"mathcal"===t||"textcal"===t}function u(t){return"sup"===t||"mathsup"===t||"textsup"===t||"superscript"===t||"mathsuperscript"===t||"textsuperscript"===t}function h(t){return"sub"===t||"mathsub"===t||"textsub"===t||"subscript"===t||"mathsubscript"===t||"textsubscript"===t}function d(t){return e.formattingText.hasOwnProperty(t)||e.formattingMath.hasOwnProperty(t)||e.formattingNoMode.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.formattingText={textbb:!0,textbf:!0,textfrak:!0,textit:!0,texttt:!0,textcal:!0,textsup:!0,textsub:!0,textsuperscript:!0,textsubscript:!0},e.formattingNoMode={bb:!0,bf:!0,frak:!0,it:!0,tt:!0,cal:!0,mono:!0,sup:!0,sub:!0,superscript:!0,subscript:!0},e.formattingMath={mathbb:!0,mathbf:!0,mathfrak:!0,mathit:!0,mathtt:!0,mathcal:!0,mathsup:!0,mathsub:!0,mathsuperscript:!0,mathsubscript:!0},e.isBbCmd=n,e.isBfCmd=r,e.isMonoCmd=a,e.isFrakCmd=o,e.isItCmd=s,e.isTtCmd=l,e.isCalCmd=c,e.isSupCmd=u,e.isSubCmd=h,e.isFormattingCmd=d},function(t,e,i){"use strict";function n(t){return e.superscriptCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.superscriptCharacters={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"","+":"","-":"","=":"","(":"",")":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",A:"",B:"",D:"",E:"",G:"",H:"",I:"",J:"",K:"",L:"",M:"",N:"",O:"",P:"",R:"",T:"",U:"",V:"",W:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},e.isSuperscriptCharacter=n,e.translateCharToSuperscript=function(t){return n(t)?e.superscriptCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.oneArgsCommands.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(213),a=i(214),o=i(95);e.oneArgsCommands=Object.assign({},r.spaceCmds1arg,o.formattingText,o.formattingMath,o.formattingNoMode,a.diacriticsTextMode,a.diacriticsMathMode,{cyrchar:!0,vec:!0,mono:!0}),e.is1argsCommand=n},,,,,,,,,,,,,,,,,,function(t,e,i){i(116),i(0),i(117),i(118),i(53),i(54),i(55),i(56),i(57),i(58),i(119),i(59),i(120),i(121),i(60),i(122),i(61),i(20),i(1),i(2),i(63),i(64),i(65),i(27),t.exports=i(124)},function(t,e,i){"use strict";(function(t){!function(){window.console=window.console||{log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},assert:function(){}},Object.assign=Object.assign||t.extend;for(var e=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[i[n]+"RequestAnimationFrame"],window.cancelRequestAnimationFrame=window[i[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),a=window.setTimeout(function(){t(n+r)},r);return e=n+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var r=[{name:"canvas",compatible:function(){return window.CanvasRenderingContext2D}},{name:"sessionStorage",compatible:function(){try{return window.sessionStorage.length>=0}catch(t){}return!1}}],a=r.filter(function(t){return!t.compatible()}).map(function(t){return t.name});if(a.length){var o=document.querySelectorAll('link[rel="index"]').item(0);o&&(window.location=o.href+"static/incompatible-browser.html"),console.log("incompatible browser:\n"+a.join("\n"))}}()}).call(e,i(1))},function(t,e,i){(function(t){/*!
 * jQuery Migrate - v1.4.1 - 2016-05-19
 * Copyright jQuery Foundation and other contributors
 */
!function(t,e,i){function n(i){var n=e.console;a[i]||(a[i]=!0,t.migrateWarnings.push(i),n&&n.warn&&!t.migrateMute&&(n.warn("JQMIGRATE: "+i),t.migrateTrace&&n.trace&&n.trace()))}function r(e,i,r,a){if(Object.defineProperty)try{return void Object.defineProperty(e,i,{configurable:!0,enumerable:!0,get:function(){return n(a),r},set:function(t){n(a),r=t}})}catch(t){}t._definePropertyBroken=!0,e[i]=r}t.migrateVersion="1.4.1";var a={};t.migrateWarnings=[],e.console&&e.console.log&&e.console.log("JQMIGRATE: Migrate is installed"+(t.migrateMute?"":" with logging active")+", version "+t.migrateVersion),void 0===t.migrateTrace&&(t.migrateTrace=!0),t.migrateReset=function(){a={},t.migrateWarnings.length=0},"BackCompat"===document.compatMode&&n("jQuery is not compatible with Quirks Mode");var o=t("<input/>",{size:1}).attr("size")&&t.attrFn,s=t.attr,l=t.attrHooks.value&&t.attrHooks.value.get||function(){return null},c=t.attrHooks.value&&t.attrHooks.value.set||function(){},u=/^(?:input|button)$/i,h=/^[238]$/,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;r(t,"attrFn",o||{},"jQuery.attrFn is deprecated"),t.attr=function(e,i,r,a){var l=i.toLowerCase(),c=e&&e.nodeType;/*!
 * jQuery Migrate - v1.4.1 - 2016-05-19
 * Copyright jQuery Foundation and other contributors
 */
return a&&(s.length<4&&n("jQuery.fn.attr( props, pass ) is deprecated"),e&&!h.test(c)&&(o?i in o:t.isFunction(t.fn[i])))?t(e)[i](r):("type"===i&&void 0!==r&&u.test(e.nodeName)&&e.parentNode&&n("Can't change the 'type' of an input or button in IE 6/7/8"),!t.attrHooks[l]&&d.test(l)&&(t.attrHooks[l]={get:function(e,i){var n,r=t.prop(e,i);return!0===r||"boolean"!=typeof r&&(n=e.getAttributeNode(i))&&!1!==n.nodeValue?i.toLowerCase():void 0},set:function(e,i,n){var r;return!1===i?t.removeAttr(e,n):(r=t.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},f.test(l)&&n("jQuery.fn.attr('"+l+"') might use property instead of attribute")),s.call(t,e,i,r))},t.attrHooks.value={get:function(t,e){var i=(t.nodeName||"").toLowerCase();return"button"===i?l.apply(this,arguments):("input"!==i&&"option"!==i&&n("jQuery.fn.attr('value') no longer gets properties"),e in t?t.value:null)},set:function(t,e){var i=(t.nodeName||"").toLowerCase();if("button"===i)return c.apply(this,arguments);"input"!==i&&"option"!==i&&n("jQuery.fn.attr('value', val) no longer sets properties"),t.value=e}};var p,m,g=t.fn.init,v=t.find,_=t.parseJSON,y=/^\s*</,b=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,w=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,x=/^([^<]*)(<[\w\W]+>)([^>]*)$/;t.fn.init=function(e,i,r){var a,o;return e&&"string"==typeof e&&!t.isPlainObject(i)&&(a=x.exec(t.trim(e)))&&a[0]&&(y.test(e)||n("$(html) HTML strings must start with '<' character"),a[3]&&n("$(html) HTML text after last tag is ignored"),"#"===a[0].charAt(0)&&(n("HTML string cannot start with a '#' character"),t.error("JQMIGRATE: Invalid selector string (XSS)")),i&&i.context&&i.context.nodeType&&(i=i.context),t.parseHTML)?g.call(this,t.parseHTML(a[2],i&&i.ownerDocument||i||document,!0),i,r):(o=g.apply(this,arguments),e&&void 0!==e.selector?(o.selector=e.selector,o.context=e.context):(o.selector="string"==typeof e?e:"",e&&(o.context=e.nodeType?e:i||document)),o)},t.fn.init.prototype=t.fn,t.find=function(t){var e=Array.prototype.slice.call(arguments);if("string"==typeof t&&b.test(t))try{document.querySelector(t)}catch(i){t=t.replace(w,function(t,e,i,n){return"["+e+i+'"'+n+'"]'});try{document.querySelector(t),n("Attribute selector with '#' must be quoted: "+e[0]),e[0]=t}catch(t){n("Attribute selector with '#' was not fixed: "+e[0])}}return v.apply(this,e)};var k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&(t.find[k]=v[k]);t.parseJSON=function(t){return t?_.apply(this,arguments):(n("jQuery.parseJSON requires a valid JSON string"),null)},t.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t.browser||(p=t.uaMatch(navigator.userAgent),m={},p.browser&&(m[p.browser]=!0,m.version=p.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),t.browser=m),r(t,"browser",t.browser,"jQuery.browser is deprecated"),t.boxModel=t.support.boxModel="CSS1Compat"===document.compatMode,r(t,"boxModel",t.boxModel,"jQuery.boxModel is deprecated"),r(t.support,"boxModel",t.support.boxModel,"jQuery.support.boxModel is deprecated"),t.sub=function(){function e(t,i){return new e.fn.init(t,i)}t.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){var a=t.fn.init.call(this,n,r,i);return a instanceof e?a:e(a)},e.fn.init.prototype=e.fn;var i=e(document);return n("jQuery.sub() is deprecated"),e},t.fn.size=function(){return n("jQuery.fn.size() is deprecated; use the .length property"),this.length};var C=!1;t.swap&&t.each(["height","width","reliableMarginRight"],function(e,i){var n=t.cssHooks[i]&&t.cssHooks[i].get;n&&(t.cssHooks[i].get=function(){var t;return C=!0,t=n.apply(this,arguments),C=!1,t})}),t.swap=function(t,e,i,r){var a,o,s={};C||n("jQuery.swap() is undocumented and deprecated");for(o in e)s[o]=t.style[o],t.style[o]=e[o];a=i.apply(t,r||[]);for(o in e)t.style[o]=s[o];return a},t.ajaxSetup({converters:{"text json":t.parseJSON}});var S=t.fn.data;t.fn.data=function(e){var i,r,a=this[0];return!a||"events"!==e||1!==arguments.length||(i=t.data(a,e),r=t._data(a,e),void 0!==i&&i!==r||void 0===r)?S.apply(this,arguments):(n("Use of jQuery.fn.data('events') is deprecated"),r)};var T=/\/(java|ecma)script/i;t.clean||(t.clean=function(e,i,r,a){i=i||document,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,n("jQuery.clean() is deprecated");var o,s,l,c,u=[];if(t.merge(u,t.buildFragment(e,i).childNodes),r)for(l=function(t){if(!t.type||T.test(t.type))return a?a.push(t.parentNode?t.parentNode.removeChild(t):t):r.appendChild(t)},o=0;null!=(s=u[o]);o++)t.nodeName(s,"script")&&l(s)||(r.appendChild(s),void 0!==s.getElementsByTagName&&(c=t.grep(t.merge([],s.getElementsByTagName("script")),l),u.splice.apply(u,[o+1,0].concat(c)),o+=c.length));return u});var A=t.event.add,M=t.event.remove,O=t.event.trigger,E=t.fn.toggle,$=t.fn.live,j=t.fn.die,D=t.fn.load,P="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",R=new RegExp("\\b(?:"+P+")\\b"),N=/(?:^|\s)hover(\.\S+|)\b/,I=function(e){return"string"!=typeof e||t.event.special.hover?e:(N.test(e)&&n("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),e&&e.replace(N,"mouseenter$1 mouseleave$1"))};t.event.props&&"attrChange"!==t.event.props[0]&&t.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),t.event.dispatch&&r(t.event,"handle",t.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),t.event.add=function(t,e,i,r,a){t!==document&&R.test(e)&&n("AJAX events should be attached to document: "+e),A.call(this,t,I(e||""),i,r,a)},t.event.remove=function(t,e,i,n,r){M.call(this,t,I(e)||"",i,n,r)},t.each(["load","unload","error"],function(e,i){t.fn[i]=function(){var t=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof t[0]?D.apply(this,t):(n("jQuery.fn."+i+"() is deprecated"),t.splice(0,0,i),arguments.length?this.bind.apply(this,t):(this.triggerHandler.apply(this,t),this))}}),t.fn.toggle=function(e,i){if(!t.isFunction(e)||!t.isFunction(i))return E.apply(this,arguments);n("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,a=e.guid||t.guid++,o=0,s=function(i){var n=(t._data(this,"lastToggle"+e.guid)||0)%o;return t._data(this,"lastToggle"+e.guid,n+1),i.preventDefault(),r[n].apply(this,arguments)||!1};for(s.guid=a;o<r.length;)r[o++].guid=a;return this.click(s)},t.fn.live=function(e,i,r){return n("jQuery.fn.live() is deprecated"),$?$.apply(this,arguments):(t(this.context).on(e,this.selector,i,r),this)},t.fn.die=function(e,i){return n("jQuery.fn.die() is deprecated"),j?j.apply(this,arguments):(t(this.context).off(e,this.selector||"**",i),this)},t.event.trigger=function(t,e,i,r){return i||R.test(t)||n("Global events are undocumented and deprecated"),O.call(this,t,e,i||document,r)},t.each(P.split("|"),function(e,i){t.event.special[i]={setup:function(){var e=this;return e!==document&&(t.event.add(document,i+"."+t.guid,function(){t.event.trigger(i,Array.prototype.slice.call(arguments,1),e,!0)}),t._data(this,i,t.guid++)),!1},teardown:function(){return this!==document&&t.event.remove(document,i+"."+t._data(this,i)),!1}}}),t.event.special.ready={setup:function(){this===document&&n("'ready' event is deprecated")}};var L=t.fn.andSelf||t.fn.addBack,z=t.fn.find;if(t.fn.andSelf=function(){return n("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),L.apply(this,arguments)},t.fn.find=function(t){var e=z.apply(this,arguments);return e.context=this.context,e.selector=this.selector?this.selector+" "+t:t,e},t.Callbacks){var H=t.Deferred,q=[["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory"),t.Callbacks("memory")]];t.Deferred=function(e){var i=H(),r=i.promise();return i.pipe=r.pipe=function(){var e=arguments;return n("deferred.pipe() is deprecated"),t.Deferred(function(n){t.each(q,function(a,o){var s=t.isFunction(e[a])&&e[a];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},i.isResolved=function(){return n("deferred.isResolved is deprecated"),"resolved"===i.state()},i.isRejected=function(){return n("deferred.isRejected is deprecated"),"rejected"===i.state()},e&&e.call(i,i),i}}}(t,window)}).call(e,i(0))},function(t,e,i){(function(t){/**
 * @fileOverview jquery-autocomplete, the jQuery Autocompleter
 * @author <a href="mailto:dylan@dyve.net">Dylan Verheul</a>
 * @version 2.4.4
 * @requires jQuery 1.6+
 * @license MIT | GPL | Apache 2.0, see LICENSE.txt
 * @see https://github.com/dyve/jquery-autocomplete
 */
!function(t){"use strict";t.fn.autocomplete_verheul=function(e){var i;arguments.length>1?(i=e,e=arguments[1],e.url=i):"string"==typeof e&&(i=e,e={url:i});var n=t.extend({},t.fn.autocomplete_verheul.defaults,e);return this.each(function(){var e=t(this);e.data("autocompleter",new t.Autocompleter(e,t.meta?t.extend({},n,e.data()):n))})},t.fn.autocomplete_verheul.defaults={inputClass:"acInput",loadingClass:"acLoading",resultsClass:"acResults",selectClass:"acSelect",queryParamName:"q",extraParams:{},remoteDataType:!1,lineSeparator:"\n",cellSeparator:"|",minChars:2,maxItemsToShow:10,delay:400,useCache:!0,maxCacheLength:10,matchSubset:!0,matchCase:!1,matchInside:!0,mustMatch:!1,selectFirst:!1,selectOnly:!1,showResult:null,preventDefaultReturn:1,preventDefaultTab:0,autoFill:!1,filterResults:!0,filter:!0,sortResults:!0,sortFunction:null,onItemSelect:null,onNoMatch:null,onFinish:null,matchStringConverter:null,beforeUseConverter:null,autoWidth:"min-width",useDelimiter:!1,delimiterChar:",",delimiterKeyCode:188,processData:null,onError:null,enabled:!0};var e=function(e){var i,n,r=typeof e;return"string"===r?(i=e,n={}):t.isArray(e)?(i=e[0],n=e.slice(1)):"object"===r&&(i=e.value,n=e.data),i=String(i),"object"!=typeof n&&(n={}),{value:i,data:n}},i=function(t,e,i){var n=parseInt(t,10);return i=i||{},(isNaN(n)||i.min&&n<i.min)&&(n=e),n},n=function(t,e){return[t,encodeURIComponent(e)].join("=")},r=function(e,i){var r=[];return t.each(i,function(t,e){r.push(n(t,e))}),r.length&&(e+=-1===e.indexOf("?")?"?":"&",e+=r.join("&")),e},a=function(t,e,i){return t=String(t.value),e=String(e.value),i||(t=t.toLowerCase(),e=e.toLowerCase()),t>e?1:t<e?-1:0},o=function(t,e,i){var n,r,a,o,s,l,c=[];for(l=String(t).replace("\r\n","\n").split(e),n=0;n<l.length;n++){for(o=l[n].split(i),a=[],r=0;r<o.length;r++)a.push(decodeURIComponent(o[r]));s=a.shift(),c.push({value:s,data:a})}return c};t.Autocompleter=function(e,n){if(!e||!(e instanceof t)||1!==e.length||"INPUT"!==e.get(0).tagName.toUpperCase()&&"TEXTAREA"!==e.get(0).tagName.toUpperCase())throw new Error("Invalid parameter for jquery.Autocompleter, jQuery object with one element with INPUT or TEXTAREA tag expected.");var r=this;this.options=n,this.cacheData_={},this.cacheLength_=0,this.selectClass_="jquery-autocomplete-selected-item",this.keyTimeout_=null,this.finishTimeout_=null,this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1,this.finishOnBlur_=!0,this.options.minChars=i(this.options.minChars,t.fn.autocomplete_verheul.defaults.minChars,{min:0}),this.options.maxItemsToShow=i(this.options.maxItemsToShow,t.fn.autocomplete_verheul.defaults.maxItemsToShow,{min:0}),this.options.maxCacheLength=i(this.options.maxCacheLength,t.fn.autocomplete_verheul.defaults.maxCacheLength,{min:1}),this.options.delay=i(this.options.delay,t.fn.autocomplete_verheul.defaults.delay,{min:0}),2!=this.options.preventDefaultReturn&&(this.options.preventDefaultReturn=this.options.preventDefaultReturn?1:0),2!=this.options.preventDefaultTab&&(this.options.preventDefaultTab=this.options.preventDefaultTab?1:0),this.dom={},this.dom.$elem=e,this.dom.$elem.attr("autocomplete","off").addClass(this.options.inputClass),this.dom.$results=t("<div></div>").hide().addClass(this.options.resultsClass).css({position:"absolute"}),t("body").append(this.dom.$results),e.keydown(function(t){switch(r.lastKeyPressed_=t.keyCode,r.lastKeyPressed_){case r.options.delimiterKeyCode:r.options.useDelimiter&&r.active_&&r.selectCurrent();break;case 35:case 36:case 16:case 17:case 18:case 37:case 39:break;case 38:return t.preventDefault(),r.active_?r.focusPrev():r.activate(),!1;case 40:return t.preventDefault(),r.active_?r.focusNext():r.activate(),!1;case 9:if(r.active_&&(r.selectCurrent(),r.options.preventDefaultTab))return t.preventDefault(),!1;if(2===r.options.preventDefaultTab)return t.preventDefault(),!1;break;case 13:if(r.active_&&(r.selectCurrent(),r.options.preventDefaultReturn))return t.preventDefault(),!1;if(2===r.options.preventDefaultReturn)return t.preventDefault(),!1;break;case 27:if(r.active_)return t.preventDefault(),r.deactivate(!0),!1;break;default:r.activate()}}),e.on("paste",function(){r.activate()});var a=function(){r.deactivate(!0)};e.blur(function(){r.finishOnBlur_&&(r.finishTimeout_=setTimeout(a,200))}),e.parents("form").on("submit",a)},t.Autocompleter.prototype.position=function(){var e=this.dom.$elem.offset(),i=this.dom.$results.outerHeight(),n=t(window).outerHeight(),r=e.top+this.dom.$elem.outerHeight(),a=r+i,o={top:r,left:e.left};if(a>n){var s=e.top-i;s>=0&&(o.top=s)}this.dom.$results.css(o)},t.Autocompleter.prototype.cacheRead=function(t){var e,i,n,r,a;if(this.options.useCache)for(t=String(t),e=t.length,i=this.options.matchSubset?1:e;i<=e;){for(r=this.options.matchInside?e-i:0,a=0;a<=r;){if(n=t.substr(0,i),void 0!==this.cacheData_[n])return this.cacheData_[n];a++}i++}return!1},t.Autocompleter.prototype.cacheWrite=function(t,e){return!!this.options.useCache&&(this.cacheLength_>=this.options.maxCacheLength&&this.cacheFlush(),t=String(t),void 0!==this.cacheData_[t]&&this.cacheLength_++,this.cacheData_[t]=e,this.cacheData_[t])},t.Autocompleter.prototype.cacheFlush=function(){this.cacheData_={},this.cacheLength_=0},t.Autocompleter.prototype.callHook=function(e,i){var n=this.options[e];return!(!n||!t.isFunction(n))&&n(i,this)},t.Autocompleter.prototype.activate=function(){if(this.options.enabled){var t=this;this.keyTimeout_&&clearTimeout(this.keyTimeout_),this.keyTimeout_=setTimeout(function(){t.activateNow()},this.options.delay)}},t.Autocompleter.prototype.activateNow=function(){var t=this.beforeUseConverter(this.dom.$elem.val());t!==this.lastProcessedValue_&&t!==this.lastSelectedValue_&&this.fetchData(t)},t.Autocompleter.prototype.fetchData=function(t){var e=this,i=function(t,i){e.options.processData&&(t=e.options.processData(t)),e.showResults(e.filterResults(t,i),i)};this.lastProcessedValue_=t,t.length<this.options.minChars?i([],t):this.options.data?i(this.options.data,t):this.fetchRemoteData(t,function(e){i(e,t)})},t.Autocompleter.prototype.fetchRemoteData=function(e,i){var n=this.cacheRead(e);if(n)i(n);else{var r=this,a="json"===r.options.remoteDataType?"json":"text",o=function(t){var n=!1;!1!==t&&(n=r.parseRemoteData(t),r.cacheWrite(e,n)),r.dom.$elem.removeClass(r.options.loadingClass),i(n)};this.dom.$elem.addClass(this.options.loadingClass),t.ajax({url:this.makeUrl(e),success:o,error:function(e,i,n){t.isFunction(r.options.onError)?r.options.onError(e,i,n):o(!1)},dataType:a})}},t.Autocompleter.prototype.setExtraParam=function(e,i){var n=t.trim(String(e));return n&&(this.options.extraParams||(this.options.extraParams={}),this.options.extraParams[n]!==i&&(this.options.extraParams[n]=i,this.cacheFlush())),this},t.Autocompleter.prototype.makeUrl=function(e){var i=this.options.url,n=t.extend({},this.options.extraParams);return!1===this.options.queryParamName?i+=encodeURIComponent(e):n[this.options.queryParamName]=e,r(i,n)},t.Autocompleter.prototype.parseRemoteData=function(e){var i,n=e;if("json"===this.options.remoteDataType){switch(i=typeof e){case"object":n=e;break;case"string":n=t.parseJSON(e);break;default:throw new Error("Unexpected remote data type: "+i)}return n}return o(n,this.options.lineSeparator,this.options.cellSeparator)},t.Autocompleter.prototype.defaultFilter=function(t,e){if(!t.value)return!1;if(this.options.filterResults){var i=this.matchStringConverter(e),n=this.matchStringConverter(t.value);this.options.matchCase||(i=i.toLowerCase(),n=n.toLowerCase());var r=n.indexOf(i);return this.options.matchInside?r>-1:0===r}return!0},t.Autocompleter.prototype.filterResult=function(e,i){return!1===this.options.filter||(t.isFunction(this.options.filter)?this.options.filter(e,i):this.defaultFilter(e,i))},t.Autocompleter.prototype.filterResults=function(t,i){var n,r,a=[];for(n=0;n<t.length;n++)r=e(t[n]),this.filterResult(r,i)&&a.push(r);return this.options.sortResults&&(a=this.sortResults(a,i)),this.options.maxItemsToShow>0&&this.options.maxItemsToShow<a.length&&(a.length=this.options.maxItemsToShow),a},t.Autocompleter.prototype.sortResults=function(e,i){var n=this,r=this.options.sortFunction;return t.isFunction(r)||(r=function(t,e,i){return a(t,e,n.options.matchCase)}),e.sort(function(t,e){return r(t,e,i,n.options)}),e},t.Autocompleter.prototype.matchStringConverter=function(e,i,n){var r=this.options.matchStringConverter;return t.isFunction(r)&&(e=r(e,i,n)),e},t.Autocompleter.prototype.beforeUseConverter=function(e){e=this.getValue(e);var i=this.options.beforeUseConverter;return t.isFunction(i)&&(e=i(e)),e},t.Autocompleter.prototype.enableFinishOnBlur=function(){this.finishOnBlur_=!0},t.Autocompleter.prototype.disableFinishOnBlur=function(){this.finishOnBlur_=!1},t.Autocompleter.prototype.createItemFromResult=function(e){var i=this,n=t("<li/>");return n.html(this.showResult(e.value,e.data)),n.data({value:e.value,data:e.data}).click(function(){i.selectItem(n)}).mousedown(i.disableFinishOnBlur).mouseup(i.enableFinishOnBlur),n},t.Autocompleter.prototype.getItems=function(){return t(">ul>li",this.dom.$results)},t.Autocompleter.prototype.showResults=function(e,i){var n,r,a,o,s=e.length,l=this,c=t("<ul></ul>"),u=!1,h=!1;if(s){for(n=0;n<s;n++)r=e[n],a=this.createItemFromResult(r),c.append(a),!1===u&&(u=String(r.value),h=a,a.addClass(this.options.firstItemClass)),n===s-1&&a.addClass(this.options.lastItemClass);this.dom.$results.html(c).show(),this.position(),this.options.autoWidth&&(o=this.dom.$elem.outerWidth()-this.dom.$results.outerWidth()+this.dom.$results.width(),this.dom.$results.css(this.options.autoWidth,o)),this.getItems().hover(function(){l.focusItem(this)},function(){}),(this.autoFill(u,i)||this.options.selectFirst||this.options.selectOnly&&1===s)&&this.focusItem(h),this.active_=!0}else this.hideResults(),this.active_=!1},t.Autocompleter.prototype.showResult=function(e,i){return t.isFunction(this.options.showResult)?this.options.showResult(e,i):t("<p></p>").text(e).html()},t.Autocompleter.prototype.autoFill=function(t,e){var i,n,r,a;if(this.options.autoFill&&8!==this.lastKeyPressed_&&(i=String(t).toLowerCase(),n=String(e).toLowerCase(),r=t.length,a=e.length,i.substr(0,a)===n)){var o=this.getDelimiterOffsets(),s=o.start?" ":"";this.setValue(s+t);var l=a+o.start+s.length,c=r+o.start+s.length;return this.selectRange(l,c),!0}return!1},t.Autocompleter.prototype.focusNext=function(){this.focusMove(1)},t.Autocompleter.prototype.focusPrev=function(){this.focusMove(-1)},t.Autocompleter.prototype.focusMove=function(e){var n=this.getItems();if(e=i(e,0))for(var r=0;r<n.length;r++)if(t(n[r]).hasClass(this.selectClass_))return void this.focusItem(r+e);this.focusItem(0)},t.Autocompleter.prototype.focusItem=function(e){var i,n=this.getItems();n.length&&(n.removeClass(this.selectClass_).removeClass(this.options.selectClass),"number"==typeof e?(e<0?e=0:e>=n.length&&(e=n.length-1),i=t(n[e])):i=t(e),i&&i.addClass(this.selectClass_).addClass(this.options.selectClass))},t.Autocompleter.prototype.selectCurrent=function(){var e=t("li."+this.selectClass_,this.dom.$results);1===e.length?this.selectItem(e):this.deactivate(!1)},t.Autocompleter.prototype.selectItem=function(t){var e=t.data("value"),i=t.data("data"),n=this.displayValue(e,i),r=this.beforeUseConverter(n);this.lastProcessedValue_=r,this.lastSelectedValue_=r;var a=this.getDelimiterOffsets(),o=this.options.delimiterChar,s=this.dom.$elem,l=0;this.options.useDelimiter&&(s.val().substring(a.start-1,a.start)==o&&" "!=o&&(n=" "+n),s.val().substring(a.end,a.end+1)!=o&&this.lastKeyPressed_!=this.options.delimiterKeyCode?n+=o:l=1),this.setValue(n),this.setCaret(a.start+n.length+l),this.callHook("onItemSelect",{value:e,data:i}),this.deactivate(!0),s.focus()},t.Autocompleter.prototype.displayValue=function(e,i){return t.isFunction(this.options.displayValue)?this.options.displayValue(e,i):e},t.Autocompleter.prototype.hideResults=function(){this.dom.$results.hide()},t.Autocompleter.prototype.deactivate=function(t){this.finishTimeout_&&clearTimeout(this.finishTimeout_),this.keyTimeout_&&clearTimeout(this.keyTimeout_),t&&(this.lastProcessedValue_!==this.lastSelectedValue_&&(this.options.mustMatch&&this.setValue(""),this.callHook("onNoMatch")),this.active_&&this.callHook("onFinish"),this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1),this.hideResults()},t.Autocompleter.prototype.selectRange=function(t,e){var i=this.dom.$elem.get(0);if(i.setSelectionRange)i.focus(),i.setSelectionRange(t,e);else if(i.createTextRange){var n=i.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()}},t.Autocompleter.prototype.setCaret=function(t){this.selectRange(t,t)},t.Autocompleter.prototype.getCaret=function(){var t,e,i,n,r,a,o=this.dom.$elem,s=o[0];return s.createTextRange?(e=document.selection,"textarea"!=s.tagName.toLowerCase()?(t=o.val(),i=e.createRange().duplicate(),i.moveEnd("character",t.length),n=""===i.text?t.length:t.lastIndexOf(i.text),i=e.createRange().duplicate(),i.moveStart("character",-t.length),r=i.text.length):(i=e.createRange(),a=i.duplicate(),a.moveToElementText(s),a.setEndPoint("EndToEnd",i),n=a.text.length-i.text.length,r=n+i.text.length)):(n=o[0].selectionStart,r=o[0].selectionEnd),{start:n,end:r}},t.Autocompleter.prototype.setValue=function(t){if(this.options.useDelimiter){var e=this.dom.$elem.val(),i=this.getDelimiterOffsets();t=e.substring(0,i.start)+t+e.substring(i.end)}this.dom.$elem.val(t)},t.Autocompleter.prototype.getValue=function(t){if(this.options.useDelimiter){var e=this.getDelimiterOffsets();return t.substring(e.start,e.end).trim()}return t},t.Autocompleter.prototype.getDelimiterOffsets=function(){var t=this.dom.$elem.val();if(this.options.useDelimiter){var e=t.substring(0,this.getCaret().start),i=e.lastIndexOf(this.options.delimiterChar)+1,n=t.substring(this.getCaret().start),r=n.indexOf(this.options.delimiterChar);-1==r&&(r=t.length),r+=this.getCaret().start}else i=0,r=t.length;return{start:i,end:r}}}(t)}).call(e,i(0))},function(t,e,i){var n,r,a;!function(o,s,l){!function(o){r=[i(0)],n=o,void 0!==(a="function"==typeof n?n.apply(e,r):n)&&(t.exports=a)}(function(t){"use strict";var e,i,n,r,a,l,c,u,h,d,f,p,m,g,v,_,y,b,w,x,k,C,S,T,A,M,O,E,$,j,D,P={},R=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new n("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new n("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new n("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},A='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',i=function(){var e,i;return e=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(e.prototype=t.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],arguments.length>2&&(i=Array.prototype.slice.call(arguments,1,-1),i.unshift(e.prototype),t.extend.apply(t,i))):e.prototype=arguments[0],e.prototype.cls=e,e},t.SPFormatClass=n=i({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var n,r,a,o,s,l=this,c=t;return this.format.replace(this.fre,function(){var t;return r=arguments[1],a=arguments[3],n=l.precre.exec(r),n?(s=n[2],r=n[1]):s=!1,void 0===(o=c[r])?"":a&&e&&e[a]?(t=e[a],t.get?e[a].get(o)||o:e[a][o]||o):(h(o)&&(o=i.get("numberFormatter")?i.get("numberFormatter")(o):m(o,s,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),o)})}}),t.spformat=function(t,e){return new n(t,e)},r=function(t,e,i){return t<e?e:t>i?i:t},a=function(t,e){var i;return 2===e?(i=s.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*e+e)/4,i%1?(t[s.floor(i)]+t[s.floor(i)-1])/2:t[i-1]):(i=(t.length*e+2)/4,i%1?(t[s.floor(i)]+t[s.floor(i)-1])/2:t[i-1])},l=function(t){var e;switch(t){case"undefined":t=void 0;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},c=function(t){var e,i=[];for(e=t.length;e--;)i[e]=l(t[e]);return i},u=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},h=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=function(e,i,n,r,a){var o,s;for(e=(!1===i?parseFloat(e).toString():e.toFixed(i)).split(""),o=(o=t.inArray(".",e))<0?e.length:o,o<e.length&&(e[o]=a),s=o-n;s>0;s-=n)e.splice(s,0,r);return e.join("")},d=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},p=function(e){return t.isArray(e)?e:[e]},f=function(t){var e;o.createStyleSheet?o.createStyleSheet().cssText=t:(e=o.createElement("style"),e.type="text/css",o.getElementsByTagName("head")[0].appendChild(e),e["string"==typeof o.body.style.WebkitAppearance?"innerText":"innerHTML"]=t)},t.fn.simpledraw=function(e,i,n,r){var a,s;if(n&&(a=this.data("_jqs_vcanvas")))return a;if(!1===t.fn.sparkline.canvas)return!1;if(void 0===t.fn.sparkline.canvas){var l=o.createElement("canvas");if(l.getContext&&l.getContext("2d"))t.fn.sparkline.canvas=function(t,e,i,n){return new $(t,e,i,n)};else{if(!o.namespaces||o.namespaces.v)return t.fn.sparkline.canvas=!1,!1;o.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),t.fn.sparkline.canvas=function(t,e,i,n){return new j(t,e,i)}}}return void 0===e&&(e=t(this).innerWidth()),void 0===i&&(i=t(this).innerHeight()),a=t.fn.sparkline.canvas(e,i,this,r),s=t(this).data("_jqs_mhandler"),s&&s.registerCanvas(a),a},t.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},t.RangeMapClass=g=i({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,i,n,r=this.rangelist;if(void 0!==(n=this.map[t]))return n;if(r)for(e=r.length;e--;)if(i=r[e],i[0]<=t&&i[1]>=t)return i[2]}}),t.range_map=function(t){return new g(t)},v=i({init:function(e,i){var n=t(e);this.$el=n,this.options=i,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!i.get("disableTooltips"),this.highlightEnabled=!i.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(e){var i=t(e.canvas);this.canvas=e,this.$canvas=i,i.mouseenter(t.proxy(this.mouseenter,this)),i.mouseleave(t.proxy(this.mouseleave,this)),i.click(t.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(e){var i=t.Event("sparklineClick");i.originalEvent=e,i.sparklines=this.splist,this.$el.trigger(i)},mouseenter:function(e){t(o.body).unbind("mousemove.jqs"),t(o.body).bind("mousemove.jqs",t.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new _(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){t(o.body).unbind("mousemove.jqs");var e,i,n=this.splist,r=n.length,a=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;i<r;i++)e=n[i],e.clearRegionHighlight()&&(a=!0);a&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var e,i,n,r,a,o=this.splist,s=o.length,l=!1,c=this.$canvas.offset(),u=this.currentPageX-c.left,h=this.currentPageY-c.top;if(this.over){for(n=0;n<s;n++)i=o[n],(r=i.setRegionHighlight(this.currentEl,u,h))&&(l=!0);if(l){if(a=t.Event("sparklineRegionChange"),a.sparklines=this.splist,this.$el.trigger(a),this.tooltip){for(e="",n=0;n<s;n++)i=o[n],e+=i.getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===r&&this.mouseleave()}}}),_=i({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,n=e.get("tooltipClassname","jqstooltip"),r=this.sizeStyle;this.container=e.get("tooltipContainer")||o.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),t("#jqssizetip").remove(),t("#jqstooltip").remove(),this.sizetip=t("<div/>",{id:"jqssizetip",style:r,class:n}),this.tooltip=t("<div/>",{id:"jqstooltip",class:n}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,t(window).unbind("resize.jqs scroll.jqs"),t(window).bind("resize.jqs scroll.jqs",t.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=t(window).scrollTop(),this.scrollLeft=t(window).scrollLeft(),this.scrollRight=this.scrollLeft+t(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(void 0===t){if(void 0===this.mousex)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,t(window).unbind("resize.jqs scroll.jqs")}}),M=function(){f(A)},t(M),D=[],t.fn.sparkline=function(e,i){return this.each(function(){var n,r,a=new t.fn.sparkline.options(this,i),s=t(this);if(n=function(){var i,n,r,l,c,u,h;if("html"===e||void 0===e?(h=this.getAttribute(a.get("tagValuesAttribute")),void 0!==h&&null!==h||(h=s.html()),i=h.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):i=e,n="auto"===a.get("width")?i.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&t.data(this,"_jqs_vcanvas")||(l=o.createElement("span"),l.innerHTML="a",s.html(l),r=t(l).innerHeight()||t(l).height(),t(l).remove(),l=null):r=a.get("height"),a.get("disableInteraction")?c=!1:(c=t.data(this,"_jqs_mhandler"),c?a.get("composite")||c.reset():(c=new v(this,a),t.data(this,"_jqs_mhandler",c))),a.get("composite")&&!t.data(this,"_jqs_vcanvas"))return void(t.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),t.data(this,"_jqs_errnotify",!0)));u=new(t.fn.sparkline[a.get("type")])(this,i,a,n,r),u.render(),c&&c.registerSparkline(u)},t(this).html()&&!a.get("disableHiddenCheck")&&t(this).is(":hidden")||!t(this).parents("body").length){if(!a.get("composite")&&t.data(this,"_jqs_pending"))for(r=D.length;r;r--)D[r-1][0]==this&&D.splice(r-1,1);D.push([this,n]),t.data(this,"_jqs_pending",!0)}else n.call(this)})},t.fn.sparkline.defaults=e(),t.sparkline_display_visible=function(){var e,i,n,r=[];for(i=0,n=D.length;i<n;i++)e=D[i][0],t(e).is(":visible")&&!t(e).parents().is(":hidden")?(D[i][1].call(e),t.data(D[i][0],"_jqs_pending",!1),r.push(i)):t(e).closest("html").length||t.data(e,"_jqs_pending")||(t.data(D[i][0],"_jqs_pending",!1),r.push(i));for(i=r.length;i;i--)D.splice(r[i-1],1)},t.fn.sparkline.options=i({init:function(e,i){var n,r,a,o;this.userOptions=i=i||{},this.tag=e,this.tagValCache={},r=t.fn.sparkline.defaults,a=r.common,this.tagOptionsPrefix=i.enableTagOptions&&(i.tagOptionsPrefix||a.tagOptionsPrefix),o=this.getTagSetting("type"),n=o===P?r[i.type||a.type]:r[o],this.mergedOptions=t.extend({},a,n,i)},getTagSetting:function(t){var e,i,n,r,a=this.tagOptionsPrefix;if(!1===a||void 0===a)return P;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(void 0===(e=this.tag.getAttribute(a+t))||null===e)e=P;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),i=e.length;i--;)e[i]=l(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(n=e.substr(1,e.length-2).split(","),e={},i=n.length;i--;)r=n[i].split(":",2),e[r[0].replace(/(^\s*)|(\s*$)/g,"")]=l(r[1].replace(/(^\s*)|(\s*$)/g,""));else e=l(e);this.tagValCache.key=e}return e},get:function(t,e){var i,n=this.getTagSetting(t);return n!==P?n:void 0===(i=this.mergedOptions[t])?e:i}}),t.fn.sparkline._base=i({disabled:!1,init:function(e,i,n,r,a){this.el=e,this.$el=t(e),this.values=i,this.options=n,this.width=r,this.height=a,this.currentRegion=void 0},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var n,r=this.currentRegion,a=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:(n=this.getRegion(t,e,i),r!==n&&(void 0!==r&&a&&this.removeHighlight(),this.currentRegion=n,void 0!==n&&a&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return void 0!==this.currentRegion&&(this.removeHighlight(),this.currentRegion=void 0,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var e,i,r,a,o,s,l,c,u,h,d,f,p,m,g=this.options,v="",_=[];if(void 0===this.currentRegion)return"";if(e=this.getCurrentRegionFields(),d=g.get("tooltipFormatter"))return d(this,g,e);if(g.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+g.get("tooltipChartTitle")+"</div>\n"),!(i=this.options.get("tooltipFormat")))return"";if(t.isArray(i)||(i=[i]),t.isArray(e)||(e=[e]),l=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),l&&c){for(u=[],s=e.length;s--;)h=e[s][c],-1!=(m=t.inArray(h,l))&&(u[m]=e[s]);e=u}for(r=i.length,p=e.length,s=0;s<r;s++)for(f=i[s],"string"==typeof f&&(f=new n(f)),a=f.fclass||"jqsfield",m=0;m<p;m++)e[m].isNull&&g.get("tooltipSkipNull")||(t.extend(e[m],{prefix:g.get("tooltipPrefix"),suffix:g.get("tooltipSuffix")}),o=f.render(e[m],g.get("tooltipValueLookups"),g),_.push('<div class="'+a+'">'+o+"</div>"));return _.length?v+_.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var i,n,a,o,l=e.get("highlightColor"),c=e.get("highlightLighten");if(l)return l;if(c&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(a=[],n=4===t.length?16:1,o=0;o<3;o++)a[o]=r(s.round(parseInt(i[o+1],16)*n*c),0,255);return"rgb("+a.join(",")+")"}return t}}),y={changeHighlight:function(e){var i,n=this.currentRegion,r=this.target,a=this.regionShapes[n];a&&(i=this.renderRegion(n,e),t.isArray(i)||t.isArray(a)?(r.replaceWithShapes(a,i),this.regionShapes[n]=t.map(i,function(t){return t.id})):(r.replaceWithShape(a,i),this.regionShapes[n]=i.id))},render:function(){var e,i,n,r,a=this.values,o=this.target,s=this.regionShapes;if(this.cls._super.render.call(this)){for(n=a.length;n--;)if(e=this.renderRegion(n))if(t.isArray(e)){for(i=[],r=e.length;r--;)e[r].append(),i.push(e[r].id);s[n]=i}else e.append(),s[n]=e.id;else s[n]=null;o.render()}}},t.fn.sparkline.line=b=i(t.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){b._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){var n,r=this.regionMap;for(n=r.length;n--;)if(null!==r[n]&&e>=r[n][0]&&e<=r[n][1])return r[n][2]},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,i=this.currentRegion,n=this.target,r=this.vertices[i],a=this.options,o=a.get("spotRadius"),s=a.get("highlightSpotColor"),l=a.get("highlightLineColor");r&&(o&&s&&(t=n.drawCircle(r[0],r[1],o,void 0,s),this.highlightSpotId=t.id,n.insertAfterShape(this.lastShapeId,t)),l&&(e=n.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=e.id,n.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,e,i,n,r,a=this.values,o=a.length,l=this.xvalues,c=this.yvalues,u=this.yminmax;for(t=0;t<o;t++)e=a[t],i="string"==typeof a[t],n="object"==typeof a[t]&&a[t]instanceof Array,r=i&&a[t].split(":"),i&&2===r.length?(l.push(Number(r[0])),c.push(Number(r[1])),u.push(Number(r[1]))):n?(l.push(e[0]),c.push(e[1]),u.push(e[1])):(l.push(t),null===a[t]||"null"===a[t]?c.push(null):(c.push(Number(e)),u.push(Number(e))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=s.max.apply(s,u),this.miny=this.minyorg=s.min.apply(s,u),this.maxx=s.max.apply(s,l),this.minx=s.min.apply(s,l),this.xvalues=l,this.yvalues=c,this.yminmax=u},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");void 0!==e&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),void 0!==t.get("chartRangeMin")&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),void 0!==t.get("chartRangeMax")&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),void 0!==t.get("chartRangeMinX")&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),void 0!==t.get("chartRangeMaxX")&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,i,n,r){var a=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),l=e+s.round(i-i*((o-this.miny)/r)),c=s.round(i*(o-a)/r);this.target.drawRect(t,l,n,c,void 0,this.options.get("normalRangeColor")).append()},render:function(){var e,i,n,r,a,o,l,c,u,h,d,f,p,m,v,_,y,w,x,k,C,S,T,A,M,O=this.options,E=this.target,$=this.canvasWidth,j=this.canvasHeight,D=this.vertices,P=O.get("spotRadius"),R=this.regionMap;if(b._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),T=this.xvalues,A=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(r=a=0,e=this.maxx-this.minx==0?1:this.maxx-this.minx,i=this.maxy-this.miny==0?1:this.maxy-this.miny,n=this.yvalues.length-1,P&&($<4*P||j<4*P)&&(P=0),P&&(C=O.get("highlightSpotColor")&&!O.get("disableInteraction"),(C||O.get("minSpotColor")||O.get("spotColor")&&A[n]===this.miny)&&(j-=s.ceil(P)),(C||O.get("maxSpotColor")||O.get("spotColor")&&A[n]===this.maxy)&&(j-=s.ceil(P),r+=s.ceil(P)),(C||(O.get("minSpotColor")||O.get("maxSpotColor"))&&(A[0]===this.miny||A[0]===this.maxy))&&(a+=s.ceil(P),$-=s.ceil(P)),(C||O.get("spotColor")||O.get("minSpotColor")||O.get("maxSpotColor")&&(A[n]===this.miny||A[n]===this.maxy))&&($-=s.ceil(P))),j--,void 0===O.get("normalRangeMin")||O.get("drawNormalOnTop")||this.drawNormalRange(a,r,j,$,i),l=[],c=[l],m=v=null,_=A.length,M=0;M<_;M++)u=T[M],d=T[M+1],h=A[M],f=a+s.round((u-this.minx)*($/e)),p=M<_-1?a+s.round((d-this.minx)*($/e)):$,v=f+(p-f)/2,R[M]=[m||0,v,M],m=v,null===h?M&&(null!==A[M-1]&&(l=[],c.push(l)),D.push(null)):(h<this.miny&&(h=this.miny),h>this.maxy&&(h=this.maxy),l.length||l.push([f,r+j]),o=[f,r+s.round(j-j*((h-this.miny)/i))],l.push(o),D.push(o));for(y=[],w=[],x=c.length,M=0;M<x;M++)l=c[M],l.length&&(O.get("fillColor")&&(l.push([l[l.length-1][0],r+j]),w.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),y.push(l));for(x=w.length,M=0;M<x;M++)E.drawShape(w[M],O.get("fillColor"),O.get("fillColor")).append();for(void 0!==O.get("normalRangeMin")&&O.get("drawNormalOnTop")&&this.drawNormalRange(a,r,j,$,i),x=y.length,M=0;M<x;M++)E.drawShape(y[M],O.get("lineColor"),void 0,O.get("lineWidth")).append();if(P&&O.get("valueSpots"))for(k=O.get("valueSpots"),void 0===k.get&&(k=new g(k)),M=0;M<_;M++)(S=k.get(A[M]))&&E.drawCircle(a+s.round((T[M]-this.minx)*($/e)),r+s.round(j-j*((A[M]-this.miny)/i)),P,void 0,S).append();P&&O.get("spotColor")&&null!==A[n]&&E.drawCircle(a+s.round((T[T.length-1]-this.minx)*($/e)),r+s.round(j-j*((A[n]-this.miny)/i)),P,void 0,O.get("spotColor")).append(),this.maxy!==this.minyorg&&(P&&O.get("minSpotColor")&&(u=T[t.inArray(this.minyorg,A)],E.drawCircle(a+s.round((u-this.minx)*($/e)),r+s.round(j-j*((this.minyorg-this.miny)/i)),P,void 0,O.get("minSpotColor")).append()),P&&O.get("maxSpotColor")&&(u=T[t.inArray(this.maxyorg,A)],E.drawCircle(a+s.round((u-this.minx)*($/e)),r+s.round(j-j*((this.maxyorg-this.miny)/i)),P,void 0,O.get("maxSpotColor")).append())),this.lastShapeId=E.getLastShapeId(),this.canvasTop=r,E.render()}}}),t.fn.sparkline.bar=w=i(t.fn.sparkline._base,y,{type:"bar",init:function(e,i,n,a,o){var h,d,f,p,m,v,_,y,b,x,k,C,S,T,A,M,O,E,$,j,D,P,R=parseInt(n.get("barWidth"),10),N=parseInt(n.get("barSpacing"),10),I=n.get("chartRangeMin"),L=n.get("chartRangeMax"),z=n.get("chartRangeClip"),H=1/0,q=-1/0;for(w._super.init.call(this,e,i,n,a,o),v=0,_=i.length;v<_;v++)j=i[v],((h="string"==typeof j&&j.indexOf(":")>-1)||t.isArray(j))&&(A=!0,h&&(j=i[v]=c(j.split(":"))),j=u(j,null),d=s.min.apply(s,j),f=s.max.apply(s,j),d<H&&(H=d),f>q&&(q=f));this.stacked=A,this.regionShapes={},this.barWidth=R,this.barSpacing=N,this.totalBarWidth=R+N,this.width=a=i.length*R+(i.length-1)*N,this.initTarget(),z&&(S=void 0===I?-1/0:I,T=void 0===L?1/0:L),m=[],p=A?[]:m;var F=[],B=[];for(v=0,_=i.length;v<_;v++)if(A)for(M=i[v],i[v]=$=[],F[v]=0,p[v]=B[v]=0,O=0,E=M.length;O<E;O++)null!==(j=$[O]=z?r(M[O],S,T):M[O])&&(j>0&&(F[v]+=j),H<0&&q>0?j<0?B[v]+=s.abs(j):p[v]+=j:p[v]+=s.abs(j-(j<0?q:H)),m.push(j));else j=z?r(i[v],S,T):i[v],null!==(j=i[v]=l(j))&&m.push(j);this.max=C=s.max.apply(s,m),this.min=k=s.min.apply(s,m),this.stackMax=q=A?s.max.apply(s,F):C,this.stackMin=H=A?s.min.apply(s,m):k,void 0!==n.get("chartRangeMin")&&(n.get("chartRangeClip")||n.get("chartRangeMin")<k)&&(k=n.get("chartRangeMin")),void 0!==n.get("chartRangeMax")&&(n.get("chartRangeClip")||n.get("chartRangeMax")>C)&&(C=n.get("chartRangeMax")),this.zeroAxis=b=n.get("zeroAxis",!0),x=k<=0&&C>=0&&b?0:0==b?k:k>0?k:C,this.xaxisOffset=x,y=A?s.max.apply(s,p)+s.max.apply(s,B):C-k,this.canvasHeightEf=b&&k<0?this.canvasHeight-2:this.canvasHeight-1,k<x?(P=A&&C>=0?q:C,(D=(P-x)/y*this.canvasHeight)!==s.ceil(D)&&(this.canvasHeightEf-=2,D=s.ceil(D))):D=this.canvasHeight,this.yoffset=D,t.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new g(this.colorMapByValue))),this.range=y},getRegion:function(t,e,i){var n=s.floor(e/this.totalBarWidth);return n<0||n>=this.values.length?void 0:n},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=p(this.values[i]),r=[];for(e=n.length;e--;)t=n[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return r},calcColor:function(e,i,n){var r,a,o=this.colorMapByIndex,s=this.colorMapByValue,l=this.options;return r=this.stacked?l.get("stackedBarColor"):i<0?l.get("negBarColor"):l.get("barColor"),0===i&&void 0!==l.get("zeroColor")&&(r=l.get("zeroColor")),s&&(a=s.get(i))?r=a:o&&o.length>n&&(r=o[n]),t.isArray(r)?r[e%r.length]:r},renderRegion:function(e,i){var n,r,a,o,l,c,u,h,f,p,m=this.values[e],g=this.options,v=this.xaxisOffset,_=[],y=this.range,b=this.stacked,w=this.target,x=e*this.totalBarWidth,k=this.canvasHeightEf,C=this.yoffset;if(m=t.isArray(m)?m:[m],u=m.length,h=m[0],o=d(null,m),p=d(v,m,!0),o)return g.get("nullColor")?(a=i?g.get("nullColor"):this.calcHighlightColor(g.get("nullColor"),g),n=C>0?C-1:C,w.drawRect(x,n,this.barWidth-1,0,a,a)):void 0;for(l=C,c=0;c<u;c++){if(h=m[c],b&&h===v){if(!p||f)continue;f=!0}r=y>0?s.floor(k*(s.abs(h-v)/y))+1:1,h<v||h===v&&0===C?(n=l,l+=r):(n=C-r,C-=r),a=this.calcColor(c,h,e),i&&(a=this.calcHighlightColor(a,g)),_.push(w.drawRect(x,n,this.barWidth-1,r-1,a,a))}return 1===_.length?_[0]:_}}),t.fn.sparkline.tristate=x=i(t.fn.sparkline._base,y,{type:"tristate",init:function(e,i,n,r,a){var o=parseInt(n.get("barWidth"),10),s=parseInt(n.get("barSpacing"),10);x._super.init.call(this,e,i,n,r,a),this.regionShapes={},this.barWidth=o,this.barSpacing=s,this.totalBarWidth=o+s,this.values=t.map(i,Number),this.width=r=i.length*o+(i.length-1)*s,t.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new g(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,i){return s.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n=this.values,r=this.options,a=this.colorMapByIndex,o=this.colorMapByValue;return o&&(i=o.get(t))?i:a&&a.length>e?a[e]:n[e]<0?r.get("negBarColor"):n[e]>0?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,e){var i,n,r,a,o,l,c=this.values,u=this.options,h=this.target;if(i=h.pixelHeight,r=s.round(i/2),a=t*this.totalBarWidth,c[t]<0?(o=r,n=r-1):c[t]>0?(o=0,n=r-1):(o=r-1,n=2),null!==(l=this.calcColor(c[t],t)))return e&&(l=this.calcHighlightColor(l,u)),h.drawRect(a,o,this.barWidth-1,n-1,l,l)}}),t.fn.sparkline.discrete=k=i(t.fn.sparkline._base,y,{type:"discrete",init:function(e,i,n,r,a){k._super.init.call(this,e,i,n,r,a),this.regionShapes={},this.values=i=t.map(i,Number),this.min=s.min.apply(s,i),this.max=s.max.apply(s,i),this.range=this.max-this.min,this.width=r="auto"===n.get("width")?2*i.length:this.width,this.interval=s.floor(r/i.length),this.itemWidth=r/i.length,void 0!==n.get("chartRangeMin")&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.min)&&(this.min=n.get("chartRangeMin")),void 0!==n.get("chartRangeMax")&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.max)&&(this.max=n.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===n.get("lineHeight")?s.round(.3*this.canvasHeight):n.get("lineHeight"))},getRegion:function(t,e,i){return s.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],offset:t}},renderRegion:function(t,e){var i,n,a,o,l=this.values,c=this.options,u=this.min,h=this.max,d=this.range,f=this.interval,p=this.target,m=this.canvasHeight,g=this.lineHeight,v=m-g;return n=r(l[t],u,h),o=t*f,i=s.round(v-v*((n-u)/d)),a=c.get("thresholdColor")&&n<c.get("thresholdValue")?c.get("thresholdColor"):c.get("lineColor"),e&&(a=this.calcHighlightColor(a,c)),p.drawLine(o,i,o,i+g,a)}}),t.fn.sparkline.bullet=C=i(t.fn.sparkline._base,{type:"bullet",init:function(t,e,i,n,r){var a,o,l;C._super.init.call(this,t,e,i,n,r),this.values=e=c(e),l=e.slice(),l[0]=null===l[0]?l[2]:l[0],l[1]=null===e[1]?l[2]:l[1],a=s.min.apply(s,e),o=s.max.apply(s,e),a=void 0===i.get("base")?a<0?a:0:i.get("base"),this.min=a,this.max=o,this.range=o-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=n="auto"===i.get("width")?"4.0em":n,this.target=this.$el.simpledraw(n,r,i.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,e){var i=this.values[t],n=s.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("rangeColors")[t-2];return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,r,r)},renderPerformance:function(t){var e=this.values[1],i=s.round(this.canvasWidth*((e-this.min)/this.range)),n=this.options.get("performanceColor");return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,s.round(.3*this.canvasHeight),i-1,s.round(.4*this.canvasHeight)-1,n,n)},renderTarget:function(t){var e=this.values[0],i=s.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),n=s.round(.1*this.canvasHeight),r=this.canvasHeight-2*n,a=this.options.get("targetColor");return t&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(i,n,this.options.get("targetWidth")-1,r-1,a,a)},render:function(){var t,e,i=this.values.length,n=this.target;if(C._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),t.fn.sparkline.pie=S=i(t.fn.sparkline._base,{type:"pie",init:function(e,i,n,r,a){var o,l=0;if(S._super.init.call(this,e,i,n,r,a),this.shapes={},this.valueShapes={},this.values=i=t.map(i,Number),"auto"===n.get("width")&&(this.width=this.height),i.length>0)for(o=i.length;o--;)l+=i[o];this.total=l,this.initTarget(),this.radius=s.floor(s.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,e){var i,n,r,a,o,l=this.target,c=this.options,u=this.radius,h=c.get("borderWidth"),d=c.get("offset"),f=2*s.PI,p=this.values,m=this.total,g=d?2*s.PI*(d/360):0;for(a=p.length,r=0;r<a;r++){if(i=g,n=g,m>0&&(n=g+f*(p[r]/m)),t===r)return o=c.get("sliceColors")[r%c.get("sliceColors").length],e&&(o=this.calcHighlightColor(o,c)),l.drawPieSlice(u,u,u-h,i,n,void 0,o);g=n}},render:function(){var t,e,i=this.target,n=this.values,r=this.options,a=this.radius,o=r.get("borderWidth");if(S._super.render.call(this)){for(o&&i.drawCircle(a,a,s.floor(a-o/2),r.get("borderColor"),void 0,o).append(),e=n.length;e--;)n[e]&&(t=this.renderSlice(e).append(),this.valueShapes[e]=t.id,this.shapes[t.id]=e);i.render()}}}),t.fn.sparkline.box=T=i(t.fn.sparkline._base,{type:"box",init:function(e,i,n,r,a){T._super.init.call(this,e,i,n,r,a),this.values=t.map(i,Number),this.width="auto"===n.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&t.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&t.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&t.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,e,i,n,r,o,l,c,u,h,d,f=this.target,p=this.values,m=p.length,g=this.options,v=this.canvasWidth,_=this.canvasHeight,y=void 0===g.get("chartRangeMin")?s.min.apply(s,p):g.get("chartRangeMin"),b=void 0===g.get("chartRangeMax")?s.max.apply(s,p):g.get("chartRangeMax"),w=0;if(T._super.render.call(this)){if(g.get("raw"))g.get("showOutliers")&&p.length>5?(e=p[0],t=p[1],n=p[2],r=p[3],o=p[4],l=p[5],c=p[6]):(t=p[0],n=p[1],r=p[2],o=p[3],l=p[4]);else if(p.sort(function(t,e){return t-e}),n=a(p,1),r=a(p,2),o=a(p,3),i=o-n,g.get("showOutliers")){for(t=l=void 0,u=0;u<m;u++)void 0===t&&p[u]>n-i*g.get("outlierIQR")&&(t=p[u]),p[u]<o+i*g.get("outlierIQR")&&(l=p[u]);e=p[0],c=p[m-1]}else t=p[0],l=p[m-1];this.quartiles=[n,r,o],this.lwhisker=t,this.rwhisker=l,this.loutlier=e,this.routlier=c,d=v/(b-y+1),g.get("showOutliers")&&(w=s.ceil(g.get("spotRadius")),v-=2*s.ceil(g.get("spotRadius")),d=v/(b-y+1),e<t&&f.drawCircle((e-y)*d+w,_/2,g.get("spotRadius"),g.get("outlierLineColor"),g.get("outlierFillColor")).append(),c>l&&f.drawCircle((c-y)*d+w,_/2,g.get("spotRadius"),g.get("outlierLineColor"),g.get("outlierFillColor")).append()),f.drawRect(s.round((n-y)*d+w),s.round(.1*_),s.round((o-n)*d),s.round(.8*_),g.get("boxLineColor"),g.get("boxFillColor")).append(),f.drawLine(s.round((t-y)*d+w),s.round(_/2),s.round((n-y)*d+w),s.round(_/2),g.get("lineColor")).append(),f.drawLine(s.round((t-y)*d+w),s.round(_/4),s.round((t-y)*d+w),s.round(_-_/4),g.get("whiskerColor")).append(),f.drawLine(s.round((l-y)*d+w),s.round(_/2),s.round((o-y)*d+w),s.round(_/2),g.get("lineColor")).append(),f.drawLine(s.round((l-y)*d+w),s.round(_/4),s.round((l-y)*d+w),s.round(_-_/4),g.get("whiskerColor")).append(),f.drawLine(s.round((r-y)*d+w),s.round(.1*_),s.round((r-y)*d+w),s.round(.9*_),g.get("medianColor")).append(),g.get("target")&&(h=s.ceil(g.get("spotRadius")),f.drawLine(s.round((g.get("target")-y)*d+w),s.round(_/2-h),s.round((g.get("target")-y)*d+w),s.round(_/2+h),g.get("targetColor")).append(),f.drawLine(s.round((g.get("target")-y)*d+w-h),s.round(_/2),s.round((g.get("target")-y)*d+w+h),s.round(_/2),g.get("targetColor")).append()),f.render()}}}),O=i({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),E=i({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,i,n){e&&(this.width=e,this.height=i,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),t.data(n,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,r,a){return this.drawShape([[t,e],[i,n]],r,a)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,a){return this._genShape("Circle",[t,e,i,n,r,a])},drawPieSlice:function(t,e,i,n,r,a,o){return this._genShape("PieSlice",[t,e,i,n,r,a,o])},drawRect:function(t,e,i,n,r,a){return this._genShape("Rect",[t,e,i,n,r,a])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,i){t(i).html(e)},_calculatePixelDims:function(e,i,n){var r;r=this._pxregex.exec(i),this.pixelHeight=r?r[1]:t(n).height(),r=this._pxregex.exec(e),this.pixelWidth=r?r[1]:t(n).width()},_genShape:function(t,e){var i=R++;return e.unshift(i),new O(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),$=i(E,{init:function(e,i,n,r){$._super.init.call(this,e,i,n),this.canvas=o.createElement("canvas"),n[0]&&(n=n[0]),t.data(n,"_jqs_vcanvas",this),t(this.canvas).css({display:"inline-block",width:e,height:i,verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=r,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,t(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var n=this.canvas.getContext("2d");return void 0!==t&&(n.strokeStyle=t),n.lineWidth=void 0===i?1:i,void 0!==e&&(n.fillStyle=e),n},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(t,e,i,n,r){var a,o,s=this._getContext(i,n,r);for(s.beginPath(),s.moveTo(e[0][0]+.5,e[0][1]+.5),a=1,o=e.length;a<o;a++)s.lineTo(e[a][0]+.5,e[a][1]+.5);void 0!==i&&s.stroke(),void 0!==n&&s.fill(),void 0!==this.targetX&&void 0!==this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,i,n,r,a,o){var l=this._getContext(r,a,o);l.beginPath(),l.arc(e,i,n,0,2*s.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),void 0!==r&&l.stroke(),void 0!==a&&l.fill()},_drawPieSlice:function(t,e,i,n,r,a,o,s){var l=this._getContext(o,s);l.beginPath(),l.moveTo(e,i),l.arc(e,i,n,r,a,!1),l.lineTo(e,i),l.closePath(),void 0!==o&&l.stroke(),s&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,a,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],a,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,r,a=this.shapeseq,o={};for(n=t.length;n--;)o[t[n]]=!0;for(n=a.length;n--;)i=a[n],o[i]&&(a.splice(n,1),delete this.shapes[i],r=n);for(n=e.length;n--;)a.splice(r,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,n=this.shapeseq,r=this.shapes,a=n.length,o=this._getContext();for(o.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;i<a;i++)t=n[i],e=r[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),j=i(E,{init:function(e,i,n){var r;j._super.init.call(this,e,i,n),n[0]&&(n=n[0]),t.data(n,"_jqs_vcanvas",this),this.canvas=o.createElement("span"),t(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,r='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",r),this.group=t(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,n,r){var a,o,s,l,c,u,h=[];for(u=0,c=e.length;u<c;u++)h[u]=e[u][0]+","+e[u][1];return a=h.splice(0,1),r=void 0===r?1:r,o=void 0===i?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+i+'" ',s=void 0===n?' filled="false"':' fillColor="'+n+'" filled="true" ',l=h[0]===h[h.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+o+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+a+" l "+h.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(t,e,i,n,r,a,o){var s,l;return e-=n,i-=n,s=void 0===r?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+r+'" ',l=void 0===a?' filled="false"':' fillColor="'+a+'" filled="true" ','<v:oval  id="jqsshape'+t+'" '+s+l+' style="position:absolute;top:'+i+"px; left:"+e+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(t,e,i,n,r,a,o,l){var c,u,h,d,f,p,m;if(r===a)return"";if(a-r==2*s.PI&&(r=0,a=2*s.PI),u=e+s.round(s.cos(r)*n),h=i+s.round(s.sin(r)*n),d=e+s.round(s.cos(a)*n),f=i+s.round(s.sin(a)*n),u===d&&h===f){if(a-r<s.PI)return"";u=d=e+n,h=f=i}return u===d&&h===f&&a-r<s.PI?"":(c=[e-n,i-n,e+n,i+n,u,h,d,f],p=void 0===o?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',m=void 0===l?' filled="false"':' fillColor="'+l+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+p+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+e+","+i+" wa "+c.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,r,a,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],a,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(e,i){var n=t("#jqsshape"+e),r=this["_draw"+i.type].apply(this,i.args);n[0].outerHTML=r},replaceWithShapes:function(e,i){var n,r=t("#jqsshape"+e[0]),a="",o=i.length;for(n=0;n<o;n++)a+=this["_draw"+i[n].type].apply(this,i[n].args);for(r[0].outerHTML=a,n=1;n<e.length;n++)t("#jqsshape"+e[n]).remove()},insertAfterShape:function(e,i){var n=t("#jqsshape"+e),r=this["_draw"+i.type].apply(this,i.args);n[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(e){var i=t("#jqsshape"+e);this.group.removeChild(i[0])},getShapeAt:function(t,e,i){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math)},function(t,e,i){(function(t){!function(){function e(){var t="{}";if("userDataBehavior"==k){w.load("jStorage");try{t=w.getAttribute("jStorage")}catch(t){}try{T=w.getAttribute("jStorage_update")}catch(t){}b.jStorage=t}s(),u(),h()}function i(){"localStorage"==k||"globalStorage"==k?"addEventListener"in window?window.addEventListener("storage",n,!1):document.attachEvent("onstorage",n):"userDataBehavior"==k&&setInterval(n,1e3)}function n(){var t;clearTimeout(S),S=setTimeout(function(){if("localStorage"==k||"globalStorage"==k)t=b.jStorage_update;else if("userDataBehavior"==k){w.load("jStorage");try{t=w.getAttribute("jStorage_update")}catch(t){}}t&&t!=T&&(T=t,r())},25)}function r(){var t,i=v.parse(v.stringify(y.__jstorage_meta.CRC32));e(),t=v.parse(v.stringify(y.__jstorage_meta.CRC32));var n,r=[],o=[];for(n in i)if(i.hasOwnProperty(n)){if(!t[n]){o.push(n);continue}i[n]!=t[n]&&"2."==String(i[n]).substr(0,2)&&r.push(n)}for(n in t)t.hasOwnProperty(n)&&(i[n]||r.push(n));a(r,"updated"),a(o,"deleted")}function a(t,e){if(t=[].concat(t||[]),"flushed"==e){t=[];for(var i in C)C.hasOwnProperty(i)&&t.push(i);e="deleted"}for(var n=0,r=t.length;n<r;n++){if(C[t[n]])for(var a=0,o=C[t[n]].length;a<o;a++)C[t[n]][a](t[n],e);if(C["*"])for(var a=0,o=C["*"].length;a<o;a++)C["*"][a](t[n],e)}}function o(){var t=(+new Date).toString();if("localStorage"==k||"globalStorage"==k)try{b.jStorage_update=t}catch(t){k=!1}else"userDataBehavior"==k&&(w.setAttribute("jStorage_update",t),w.save("jStorage"));n()}function s(){if(b.jStorage)try{y=v.parse(String(b.jStorage))}catch(t){b.jStorage="{}"}else b.jStorage="{}";x=b.jStorage?String(b.jStorage).length:0,y.__jstorage_meta||(y.__jstorage_meta={}),y.__jstorage_meta.CRC32||(y.__jstorage_meta.CRC32={})}function l(){f();try{b.jStorage=v.stringify(y),w&&(w.setAttribute("jStorage",b.jStorage),w.save("jStorage")),x=b.jStorage?String(b.jStorage).length:0}catch(t){}}function c(t){if(!t||"string"!=typeof t&&"number"!=typeof t)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==t)throw new TypeError("Reserved key name");return!0}function u(){var t,e,i,n,r=1/0,s=!1,c=[];if(clearTimeout(_),y.__jstorage_meta&&"object"==typeof y.__jstorage_meta.TTL){t=+new Date,i=y.__jstorage_meta.TTL,n=y.__jstorage_meta.CRC32;for(e in i)i.hasOwnProperty(e)&&(i[e]<=t?(delete i[e],delete n[e],delete y[e],s=!0,c.push(e)):i[e]<r&&(r=i[e]));r!=1/0&&(_=setTimeout(u,r-t)),s&&(l(),o(),a(c,"deleted"))}}function h(){var t;if(y.__jstorage_meta.PubSub){var e,i=M;for(t=y.__jstorage_meta.PubSub.length-1;t>=0;t--)e=y.__jstorage_meta.PubSub[t],e[0]>M&&(i=e[0],d(e[1],e[2]));M=i}}function d(t,e){if(A[t])for(var i=0,n=A[t].length;i<n;i++)A[t][i](t,v.parse(v.stringify(e)))}function f(){if(y.__jstorage_meta.PubSub){for(var t=+new Date-2e3,e=0,i=y.__jstorage_meta.PubSub.length;e<i;e++)if(y.__jstorage_meta.PubSub[e][0]<=t){y.__jstorage_meta.PubSub.splice(e,y.__jstorage_meta.PubSub.length-e);break}y.__jstorage_meta.PubSub.length||delete y.__jstorage_meta.PubSub}}function p(t,e){y.__jstorage_meta||(y.__jstorage_meta={}),y.__jstorage_meta.PubSub||(y.__jstorage_meta.PubSub=[]),y.__jstorage_meta.PubSub.unshift([+new Date,t,e]),l(),o()}function m(t,e){for(var i,n=t.length,r=e^n,a=0;n>=4;)i=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),i^=i>>>24,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^i,n-=4,++a;switch(n){case 3:r^=(255&t.charCodeAt(a+2))<<16;case 2:r^=(255&t.charCodeAt(a+1))<<8;case 1:r^=255&t.charCodeAt(a),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}var g=t||window.$||(window.$={}),v={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(t){return String(t).evalJSON()}||g.parseJSON||g.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||g.toJSON};if(!("parse"in v&&"stringify"in v))throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var _,y={__jstorage_meta:{CRC32:{}}},b={jStorage:"{}"},w=null,x=0,k=!1,C={},S=!1,T=0,A={},M=+new Date,O={isXML:function(t){var e=(t?t.ownerDocument||t:0).documentElement;return!!e&&"HTML"!==e.nodeName},encode:function(t){if(!this.isXML(t))return!1;try{return(new XMLSerializer).serializeToString(t)}catch(e){try{return t.xml}catch(t){}}return!1},decode:function(t){var e,i="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(t){var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e};return!!i&&(e=i.call("DOMParser"in window&&new DOMParser||window,t,"text/xml"),!!this.isXML(e)&&e)}};g.jStorage={version:"0.4.4",set:function(t,e,i){if(c(t),i=i||{},void 0===e)return this.deleteKey(t),e;if(O.isXML(e))e={_is_xml:!0,xml:O.encode(e)};else{if("function"==typeof e)return;e&&"object"==typeof e&&(e=v.parse(v.stringify(e)))}return y[t]=e,y.__jstorage_meta.CRC32[t]="2."+m(v.stringify(e),2538058380),this.setTTL(t,i.TTL||0),a(t,"updated"),e},get:function(t,e){return c(t),t in y?y[t]&&"object"==typeof y[t]&&y[t]._is_xml?O.decode(y[t].xml):y[t]:void 0===e?null:e},deleteKey:function(t){return c(t),t in y&&(delete y[t],"object"==typeof y.__jstorage_meta.TTL&&t in y.__jstorage_meta.TTL&&delete y.__jstorage_meta.TTL[t],delete y.__jstorage_meta.CRC32[t],l(),o(),a(t,"deleted"),!0)},setTTL:function(t,e){var i=+new Date;return c(t),e=Number(e)||0,t in y&&(y.__jstorage_meta.TTL||(y.__jstorage_meta.TTL={}),e>0?y.__jstorage_meta.TTL[t]=i+e:delete y.__jstorage_meta.TTL[t],l(),u(),o(),!0)},getTTL:function(t){var e=+new Date;return c(t),t in y&&y.__jstorage_meta.TTL&&y.__jstorage_meta.TTL[t]?y.__jstorage_meta.TTL[t]-e||0:0},flush:function(){return y={__jstorage_meta:{CRC32:{}}},l(),o(),a(null,"flushed"),!0},storageObj:function(){function t(){}return t.prototype=y,new t},index:function(){var t,e=[];for(t in y)y.hasOwnProperty(t)&&"__jstorage_meta"!=t&&e.push(t);return e},storageSize:function(){return x},currentBackend:function(){return k},storageAvailable:function(){return!!k},listenKeyChange:function(t,e){c(t),C[t]||(C[t]=[]),C[t].push(e)},stopListening:function(t,e){if(c(t),C[t]){if(!e)return void delete C[t];for(var i=C[t].length-1;i>=0;i--)C[t][i]==e&&C[t].splice(i,1)}},subscribe:function(t,e){if(!(t=(t||"").toString()))throw new TypeError("Channel not defined");A[t]||(A[t]=[]),A[t].push(e)},publish:function(t,e){if(!(t=(t||"").toString()))throw new TypeError("Channel not defined");p(t,e)},reInit:function(){e()}},function(){var t=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),t=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(t)try{window.localStorage&&(b=window.localStorage,k="localStorage",T=b.jStorage_update)}catch(t){}else if("globalStorage"in window)try{window.globalStorage&&(b="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],k="globalStorage",T=b.jStorage_update)}catch(t){}else{if(w=document.createElement("link"),!w.addBehavior)return void(w=null);w.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(w);try{w.load("jStorage")}catch(t){w.setAttribute("jStorage","{}"),w.save("jStorage"),w.load("jStorage")}var e="{}";try{e=w.getAttribute("jStorage")}catch(t){}try{T=w.getAttribute("jStorage_update")}catch(t){}b.jStorage=e,k="userDataBehavior"}s(),u(),i(),h(),"addEventListener"in window&&window.addEventListener("pageshow",function(t){t.persisted&&n()},!1)}()}()}).call(e,i(0))},function(t,e,i){(function(t){!function(t){t.fn.extend({complexify:function(e,i){function n(t,e){for(var i=t.length-1;i>=0;i--)if(e[0]<=t.charCodeAt(i)&&t.charCodeAt(i)<=e[1])return e[1]-e[0]+1;return 0}function r(i){if("strict"===e.banMode){for(var n=0;n<e.bannedPasswords.length;n++)if(-1!==i.toLowerCase().indexOf(e.bannedPasswords[n].toLowerCase()))return!0;return!1}return t.inArray(i,e.bannedPasswords)>-1}function a(){var a=t(this).val(),c=0,u=!1;if(r(a))c=1;else for(var h=l.length-1;h>=0;h--)c+=n(a,l[h]);c=Math.log(Math.pow(c,a.length))*(1/e.strengthScaleFactor),u=c>o&&a.length>=e.minimumChars,c=c/s*100,c=c>100?100:c,i.call(this,u,c)}var o=49,s=120,l=[[32,32],[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,126],[128,255],[256,383],[384,591],[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1328,1423],[1424,1535],[1536,1791],[1792,1871],[1920,1983],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[7680,7935],[7936,8191],[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10240,10495],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[55296,56191],[56192,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65056,65071],[65072,65103],[65104,65135],[65136,65278],[65279,65279],[65280,65519],[65520,65533]],c={minimumChars:8,strengthScaleFactor:1,bannedPasswords:window.COMPLEXIFY_BANLIST||[],banMode:"strict"};return t.isFunction(e)&&!i&&(i=e,e={}),e=t.extend(c,e),this.each(function(){t(this).val()&&a.apply(this)}),this.each(function(){t(this).bind("keyup focus input propertychange mouseup",a)})}})}(t)}).call(e,i(0))},function(t,e,i){(function(t,e){+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()})}(t),function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.attr("data-target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a")[0],a=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(a),!a.isDefaultPrevented()){var o=t(n);this.activate(e.parent("li"),i),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,i,n){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var a=i.find("> .active"),o=n&&t.support.transition&&a.hasClass("fade");o?a.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new e(this)),"string"==typeof i&&r[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(t),function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:"body"},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),a=r.length;a--;){var o=r[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focus",l="hover"==o?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,a=r.test(n);a&&(n=n.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var o=this.getPosition(),s=i[0].offsetWidth,l=i[0].offsetHeight;if(a){var c=this.$element.parent(),u=n,h=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:c.outerWidth(),f="body"==this.options.container?window.innerHeight:c.outerHeight(),p="body"==this.options.container?0:c.offset().left;n="bottom"==n&&o.top+o.height+l-h>f?"top":"top"==n&&o.top-h-l<0?"bottom":"right"==n&&o.right+s>d?"left":"left"==n&&o.left-s<p?"right":n,i.removeClass(u).addClass(n)}var m=this.getCalculatedOffset(n,o,s,l);this.applyPlacement(m,n),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,n=this.tip(),r=n[0].offsetWidth,a=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top=t.top+o,t.left=t.left+s,n.offset(t).addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;if("top"==e&&c!=a&&(i=!0,t.top=t.top+a-c),/bottom|top/.test(e)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,n.offset(t),l=n[0].offsetWidth,c=n[0].offsetHeight),this.replaceArrow(u-r+l,l,"left")}else this.replaceArrow(c-a,c,"top");i&&n.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach()}var i=this,n=this.tip(),r=t.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),a="object"==typeof i&&i;r||n.data("bs.tooltip",r=new e(this,a)),"string"==typeof i&&r[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(t),function(t){"use strict";function e(){t(n).remove(),t(r).each(function(e){var n=i(t(this));n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",r="[data-toggle=dropdown]",a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var a=i(r),o=a.hasClass("open");if(e(),!o){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),a.trigger(n=t.Event("show.bs.dropdown")),n.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown"),r.focus()}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var a=i(n),o=a.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&a.find(r).focus(),n.click();var s=t("[role=menu] li:not(.divider):visible a",a);if(s.length){var l=s.index(s.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new a(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",a.prototype.keydown)}(t),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),r=n.data("bs.popover"),a="object"==typeof i&&i;r||n.data("bs.popover",r=new e(this,a)),"string"==typeof i&&r[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(e)}).call(e,i(0),i(0))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,i){"use strict";(function(t,e,n,r,a){function o(t){return t&&t.__esModule?t:{default:t}}function s(e,i,n){function r(t){var e=a(t),i={placeholder:"Click to select",closeOnSelect:!e.is("[MULTIPLE]"),dropdownAutoWidth:!0,containerCssClass:"select2-minwidth"};return t.select2(i)}t.fn.select2&&(void 0===e&&(e=20),void 0===i&&(i=3e3),n=n||a("select"),n.each(function(){var t=a(this).not("[multiple]"),n=t.find("option").length;n<e||n>i||t.hasClass("no-autocomplete")||r(t)}))}function l(){a("select[refresh_on_change='true']").off("change").change(function(){var t=a(this),e=t.val(),i=t.attr("refresh_on_change_values");if(i){i=i.split(",");var n=t.attr("last_selected_value");if(-1===a.inArray(e,i)&&-1===a.inArray(n,i))return}a(window).trigger("refresh_on_change"),a(document).trigger("convert_to_values"),t.get(0).form.submit()}),a(":checkbox[refresh_on_change='true']").off("click").click(function(){var t=a(this),e=t.val(),i=t.attr("refresh_on_change_values");if(i){i=i.split(",");var n=t.attr("last_selected_value");if(-1===a.inArray(e,i)&&-1===a.inArray(n,i))return}a(window).trigger("refresh_on_change"),t.get(0).form.submit()}),a("a[confirm]").off("click").click(function(){return confirm(a(this).attr("confirm"))})}var c=i(27),u=o(c),h=i(65),d=o(h),f=i(125),p=o(f),m=i(126),g=o(m),v=i(64),_=o(v),y=i(66),b=o(y),w=i(10);o(w);window.$=t,window._=n,window.Backbone=r,window.panels=u.default,n.extend(window,d.default),window.async_save_text=p.default,window.make_popupmenu=g.default.make_popupmenu,window.make_popup_menus=g.default.make_popup_menus,window.init_tag_click_function=_.default,window.init_refresh_on_change=l,a(document).ready(function(){function t(){void 0!==Galaxy.root?a.getJSON(Galaxy.root+"api/webhooks/onload/all",function(t){n.each(t,function(t){t.activate&&t.script&&(a("<script/>",{type:"text/javascript"}).text(t.script).appendTo("head"),a("<style/>",{type:"text/css"}).text(t.styles).appendTo("head"))})}):setTimeout(t,100)}l(),a.fn.tooltip&&(a(".unified-panel-header [title]").tooltip({placement:"bottom"}),a("[title]").tooltip()),make_popup_menus(),s(20,1500),a("a").click(function(){var t=a(this),e=parent.frames&&parent.frames.galaxy_main;if("galaxy_main"==t.attr("target")&&!e){var i=t.attr("href");-1==i.indexOf("?")?i+="?":i+="&",i+="use_panels=True",t.attr("href",i),t.attr("target","_self")}return t});var e=JSON.parse(sessionStorage.getItem("activeGalaxyTour"));if(e&&(e=b.default.hooked_tour_from_data(e))&&e.steps&&window&&window.self===window.top){var i=new Tour(n.extend({steps:e.steps},b.default.tour_opts));i.init(),i.restart()}t()})}).call(e,i(0),i(0),i(1),i(2),i(0))},function(t,e,i){"use strict";function n(t,e,i,n,r,a,s,l,c){void 0===r&&(r=30),void 0===s&&(s=4),o("#"+t).click(function(){if(!(o("#renaming-active").length>0)){var t,u=o("#"+e),h=u.text();t=a?o("<textarea></textarea>").attr({rows:s,cols:r}).text(o.trim(h)):o("<input type='text'></input>").attr({value:o.trim(h),size:r}),t.attr("id","renaming-active"),t.blur(function(){o(this).remove(),u.show(),c&&c(t)}),t.keyup(function(r){if(27===r.keyCode)o(this).trigger("blur");else if(13===r.keyCode){var a={};a[n]=o(this).val(),o(this).trigger("blur"),o.ajax({url:i,data:a,error:function(){alert("Text editing for elt "+e+" failed")},success:function(e){""!==e?u.text(e):u.html("<em>None</em>"),c&&c(t)}})}}),l&&l(t),u.hide(),t.insertAfter(u),t.focus(),t.select()}})}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=a.default;e.default=n},function(t,e,i){"use strict";(function(t){function n(e,i){var n=e.data("menu_options");e.data("menu_options",i),n||e.bind("click.show_popup",function(i){return s(".popmenu-wrapper").remove(),setTimeout(function(){var n=s("<ul class='dropdown-menu' id='"+e.attr("id")+"-menu'></ul>"),r=e.data("menu_options");t.size(r)<=0&&s("<li>No Options.</li>").appendTo(n),s.each(r,function(t,e){if(e){var i=e.action||e;n.append(s("<li></li>").append(s("<a>").attr("href",e.url).html(t).click(i)))}else n.append(s("<li></li>").addClass("head").append(s("<a href='#'></a>").html(t)))});var a=s("<div class='popmenu-wrapper' style='position: absolute;left: 0; top: -1000;'></div>").append(n).appendTo("body"),o=i.pageX-a.width()/2;o=Math.min(o,s(document).scrollLeft()+s(window).width()-s(a).width()-5),o=Math.max(o,s(document).scrollLeft()+5),a.css({top:i.pageY,left:o})},10),setTimeout(function(){var t=function(t){s(t).bind("click.close_popup",function(){s(".popmenu-wrapper").remove(),t.unbind("click.close_popup")})};t(s(window.document)),t(s(window.top.document));for(var e=window.top.frames.length;e--;){t(s(window.top.frames[e].document))}},50),!1})}function r(t){t=t||document,s(t).find("div[popupmenu]").each(function(){var e={},i=s(this);i.find("a").each(function(){var t=s(this),i=t.get(0),n=i.getAttribute("confirm"),r=i.getAttribute("href"),a=i.getAttribute("target");e[t.text()]=r?{url:r,action:function(e){if(!n||confirm(n)){if(a)return window.open(r,a),!1;t.click()}else e.preventDefault()}}:null});var r=s(t).find("#"+i.attr("popupmenu"));r.find("a").bind("click",function(t){return t.stopPropagation(),!0}),n(r,e),r.addClass("popup"),i.remove()})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),o=function(t){return t&&t.__esModule?t:{default:t}}(a),s=o.default;e.default={make_popupmenu:n,make_popup_menus:r}}).call(e,i(1))},,function(t,e){var i={__root:{"Analyze Data":!1,Workflow:!1,"Shared Data":!1,"Data Libraries":!1,Histories:!1,Workflows:!1,Visualizations:!1,Pages:!1,Visualization:!1,"New Track Browser":!1,"Saved Visualizations":!1,"Interactive Environments":!1,Admin:!1,Help:!1,Support:!1,Search:!1,"Mailing Lists":!1,Videos:!1,Wiki:!1,"How to Cite Galaxy":!1,"Interactive Tours":!1,User:!1,Login:!1,Register:!1,"Login or Register":!1,"Logged in as":!1,Preferences:!1,"Custom Builds":!1,Logout:!1,"Saved Histories":!1,"Saved Datasets":!1,"Saved Pages":!1,"Account and saved data":!1,"Account registration or login":!1,"Support, contact, and community":!1,"Administer this Galaxy":!1,"Visualize datasets":!1,"Access published resources":!1,"Chain tools into workflows":!1,"Analysis home view":!1,"History Lists":!1,"Histories Shared with Me":!1,"Current History":!1,"Create New":!1,"Copy History":!1,"Share or Publish":!1,"Show Structure":!1,"Extract Workflow":!1,"Delete Permanently":!1,"Dataset Actions":!1,"Copy Datasets":!1,"Dataset Security":!1,"Resume Paused Jobs":!1,"Collapse Expanded Datasets":!1,"Unhide Hidden Datasets":!1,"Delete Hidden Datasets":!1,"Purge Deleted Datasets":!1,Downloads:!1,"Export Tool Citations":!1,"Export History to File":!1,"Other Actions":!1,"Import from File":!1,Webhooks:!1,"This history is empty":!1,"No matching datasets found":!1,"An error occurred while getting updates from the server":!1,"Please contact a Galaxy administrator if the problem persists":!1,"search datasets":!1,"You are currently viewing a deleted history!":!1,"You are over your disk quota":!1,"Tool execution is on hold until your disk usage drops below your allocated quota":!1,All:!1,None:!1,"For all selected":!1,"Edit history tags":!1,"Edit history Annotation":!1,"Click to rename history":!1,"Operations on multiple datasets":!1,"Hide datasets":!1,"Unhide datasets":!1,"Delete datasets":!1,"Undelete datasets":!1,"Permanently delete datasets":!1,"This will permanently remove the data in your datasets. Are you sure?":!1,Dataset:!1,Annotation:!1,"This history is empty. Click 'Get Data' on the left tool menu to start":!1,"You must be logged in to create histories":!1,"Unable to purge dataset":!1,"Cannot display datasets removed from disk":!1,"This dataset must finish uploading before it can be viewed":!1,"This dataset is not yet viewable":!1,"View data":!1,Download:!1,"Download dataset":!1,"Additional files":!1,"View details":!1,"This is a new dataset and not all of its data are available yet":!1,"You do not have permission to view this dataset":!1,"The job creating this dataset was cancelled before completion":!1,"This job is waiting to run":!1,"This dataset is currently uploading":!1,"Metadata is being auto-detected":!1,"This job is currently running":!1,'This job is paused. Use the "Resume Paused Jobs" in the history menu to resume':!1,"An error occurred with this dataset":!1,"No data":!1,"An error occurred setting the metadata for this dataset":!1,"There was an error getting the data for this dataset":!1,"This dataset has been deleted and removed from disk":!1,"This dataset has been deleted":!1,"This dataset has been hidden":!1,format:!1,database:!1,"Edit attributes":!1,"Cannot edit attributes of datasets removed from disk":!1,"Undelete dataset to edit attributes":!1,"This dataset must finish uploading before it can be edited":!1,"This dataset is not yet editable":!1,Delete:!1,"Dataset is already deleted":!1,"View or report this error":!1,"Run this job again":!1,Visualize:!1,"Visualize in":!1,"Undelete it":!1,"Permanently remove it from disk":!1,"Unhide it":!1,"You may be able to":!1,"set it manually or retry auto-detection":!1,"Edit dataset tags":!1,"Edit dataset annotation":!1,"Tool Help":!1,"Search Tool Shed":!1,"Monitor installing repositories":!1,"Manage installed tools":!1,"Reset metadata":!1,"Download local tool":!1,"Tool lineage":!1,"Reload a tool's configuration":!1,"Review tool migration stages":!1,"View Tool Error Logs":!1,"Manage Display Whitelist":!1,"Manage Tool Dependencies":!1,Users:!1,Groups:!1,"API keys":!1,"Impersonate a user":!1,Data:!1,Quotas:!1,Roles:!1,"Local data":!1,"Form Definitions":!1,"Enable/Disable Scratchbook":!1,"Show/Hide Scratchbook":!1,Tags:!1,"Edit annotation":!1},__ja:{"Analyze Data":"",Workflow:"","Shared Data":"","Data Libraries":"",Histories:"",Workflows:"",Visualizations:"",Pages:"",Visualization:"","New Track Browser":" Track Browser","Saved Visualizations":"","Interactive Environments":"",Admin:"",Help:"",Support:"",Search:"","Mailing Lists":"",Videos:"","How to Cite Galaxy":"Galaxy ","Interactive Tours":"",User:"",Login:"",Register:"","Login or Register":"/",Preferences:"","Custom Builds":"",Logout:"","Saved Histories":"","Saved Datasets":"","Saved Pages":"","Account and saved data":"","Account registration or login":"","Support, contact, and community":"","Administer this Galaxy":" Galaxy ","Visualize datasets":"","Access published resources":"","Chain tools into workflows":"","Analysis home view":"","History Lists":"","Histories Shared with Me":"","Current History":"","Create New":"","Copy History":"","Share or Publish":"","Show Structure":"","Extract Workflow":"","Delete Permanently":"","Dataset Actions":"","Copy Datasets":"","Dataset Security":"","Resume Paused Jobs":"","Collapse Expanded Datasets":"","Unhide Hidden Datasets":"","Delete Hidden Datasets":"","Purge Deleted Datasets":"",Downloads:"","Export Tool Citations":"","Export History to File":"","Other Actions":"","Import from File":"",Webhooks:"Webhooks","This history is empty":"","No matching datasets found":"","Search datasets":"","You are currently viewing a deleted history!":"","You are over your disk quota":"",All:"",None:"","For all selected":"","Edit history tags":"","Edit history annotation":"","Click to rename history":"","Operations on multiple datasets":"","Permanently delete datasets":"","This will permanently remove the data in your datasets. Are you sure?":"",Dataset:"","This history is empty. Click 'Get Data' on the left tool menu to start":" '' ","You must be logged in to create histories":"","View data":"",Download:"","Download dataset":"","View details":"","This job is waiting to run":"","This job is currently running":"","An error occurred with this dataset":"","No data":"","This dataset has been deleted and removed from disk":"","This dataset has been deleted":"","This dataset has been hidden":"",format:"",database:"","Edit attributes":"",Delete:"","View or report this error":"","Run this job again":"",Visualize:"","Undelete it":"","Permanently remove it from disk":"","Unhide it":"","Search Tool Shed":"Tool Shed ","Search Tool Shed (Beta)":"Tool Shed (Beta) ","Monitor installing repositories":"","Manage installed tools":"","Reset metadata":"","Download local tool":"","Tool lineage":"","Reload a tool's configuration":"","Review tool migration stages":"","View Tool Error Logs":"","Manage Display Whitelist":"","Manage Tool Dependencies":"",Users:"",Groups:"","API keys":"API ","Impersonate a user":"",Data:"",Quotas:"",Roles:"","Local data":"","Form definitions":"",Administration:"",Server:"","Tools and Tool Shed":" Tool Shed","User Management":"","Form Definitions":""},__fr:{"Analyze Data":"Analyse de donnes",Workflow:"Workflow","Shared Data":"Donnes partages","Data Libraries":"Bibliothque de donnes",Histories:"Historiques",Workflows:"Workflows",Visualizations:"Visualisations",Pages:"Pages",Visualization:"Visualisation","New Track Browser":"Nouveau Navigateur de Tracks/Pistes","Saved Visualizations":"Visualisations sauvegardes","Interactive Environments":"Environnements interactifs",Admin:"Admin",Help:"Aide",Support:"Assistance",Search:"Recherche","Mailing Lists":"Liste de diffusion",Videos:"Vidos",Wiki:"Documentations","How to Cite Galaxy":"Comment citer Galaxy","Interactive Tours":"Guides interactifs",User:"Utilisateur",Login:"Authentification",Register:"Enregistrement","Login or Register":"Authentification et Enregistrement","Logged in as":"Authentifi en tant que",Preferences:"Prfrences","Custom Builds":"Mes gnomes Builds de rfrence",Logout:"Dconnexion","Saved Histories":"Historiques sauvegards","Saved Datasets":"Jeux de donnes sauvegards","Saved Pages":"Pages sauvegardes","Account and saved data":"Compte et donnes sauvegardes","Account registration or login":"Enregistrement ou authentification","Support, contact, and community":"Support,contact et communaut","Administer this Galaxy":"Outils Admin","Visualize datasets":"Visualiser les jeux de donnes","Access published resources":"Accder aux donnes partages","Chain tools into workflows":"Relier outils dans un workflow","Analysis home view":"Accueil analyse de donnes","History Lists":"Tableaux des historiques","Histories Shared with Me":"Historiques partags avec moi","Current History":"Cet Historique","Create New":"Crer un nouveau","Copy History":"Copier l'Historique","Share or Publish":"Partager et publier","Show Structure":"Montrer la structure","Extract Workflow":"Extraire un Workflow","Delete Permanently":"Supprimer dfinitivement","Dataset Actions":"Actions sur les jeux de donnes","Copy Datasets":"Copier des jeux de donnes","Dataset Security":"Permissions/Scurit","Resume Paused Jobs":"Reprendre les processus en pause","Collapse Expanded Datasets":"Rduire les donnes tendues","Unhide Hidden Datasets":"Afficher les donnes caches","Delete Hidden Datasets":"Supprimer les donnes caches","Purge Deleted Datasets":"Purger les donnes supprimes",Downloads:"Tlcharger","Export Tool Citations":"Exporter les citations des outils","Export History to File":"Exporter l'Historique dans un fichier","Other Actions":"Autres actions","Import from File":"Importer depuis un fichier",Webhooks:"Webhooks","This history is empty":"Cet historique est vide","No matching datasets found":"Aucunes donnes correspondantes n'ont t trouves","An error occurred while getting updates from the server":"Une erreur s'est produite lors de la rception des donnes depuis le serveur","Please contact a Galaxy administrator if the problem persists":"Veuillez contacter un administrateur de l'instance Galaxy si ce problme persiste","search datasets":"Rechercher des donnes","You are currently viewing a deleted history!":"Vous consultez actuellement un historique supprim!","You are over your disk quota":"Vous avez dpass votre quota d'espace disque","Tool execution is on hold until your disk usage drops below your allocated quota":"L'excution de l'outil est en attente tant que votre utilisation d'espace disque dpasse le quota attribu",All:"Tout",None:"Aucun","For all selected":"Pour toute la slection","Edit history tags":"Editer les mots-cls de l'historique","Edit history Annotation":"Editer l'annotation de l'historique","Click to rename history":"Cliquer pour renommer l'historique","Operations on multiple datasets":"Oprer sur plusieurs jeux de donnes en mme temps","Hide datasets":"Cacher les jeux de donnes","Unhide datasets":"Afficher les jeux de donnes cachs","Delete datasets":"Supprimer les jeux de donnes","Undelete datasets":"Restaurer les jeux de donnes supprims","Permanently delete datasets":"Supprimer dfinitivement les jeux de donnes","This will permanently remove the data in your datasets. Are you sure?":"Cela supprimera de manire permanente les donnes de votre historique. tes-vous certain?",Dataset:"Jeu de donnes",Annotation:"Annotation","This history is empty. Click 'Get Data' on the left tool menu to start":"Cet historique est vide. Cliquer sur 'Get Data' au niveau du menu d'outils  gauche pour dmarrer","You must be logged in to create histories":"Vous devez tre connect pour crer un historique","load your own data":"Charger vos propres donnes","get data from an external source":"Charger des donnes depuis une source externe","Include Deleted Datasets":"Inclure les jeux de donnes supprims","Include Hidden Datasets":"Inclure les jeux de donnes cachs","Unable to purge dataset":"Impossible de purger le jeu de donnes","Cannot display datasets removed from disk":"Impossible de visualiser les jeux de donnes supprims du disque","This dataset must finish uploading before it can be viewed":"Le jeu de donnes doit tre totalement tlvers avant de pouvoir tre visualiser","This dataset is not yet viewable":"Ce jeu de donnes n'est pas visualisable","View data":"Voir les donnes",Download:"Tlcharger","Download dataset":"Tlcharger le jeu de donnes","Additional files":"Fichiers additionnels","View details":"Voir les dtails","This is a new dataset and not all of its data are available yet":"Il s'agit d'un nouveau jeu de donnes et seule une partie des donnes est accessible pour le moment","You do not have permission to view this dataset":"Vous n'avez pas la permission de voir ce jeu de donnes","The job creating this dataset was cancelled before completion":"Le processus  l'origine de ce jeu de donnes a t annul prmaturment","This job is waiting to run":"Ce calcul est en attente de traitement","This dataset is currently uploading":"Ce jeu de donnes est en cours de tlversement","Metadata is being auto-detected":"Les mtadonnes sont auto-dtectes","This job is currently running":"Le traitement est en cours",'This job is paused. Use the "Resume Paused Jobs" in the history menu to resume':'Ce traitement est en pause. Utilisez le "Relancer les traitements en pause" dans le menu d\'historique pour le relancer',"An error occurred with this dataset":"Une erreur est survenue avec ce jeu de donnes","No data":"Aucune donne","An error occurred setting the metadata for this dataset":"Une erreur est survenue pendant la rcupration des mtadonnes de ce jeu de donnes","There was an error getting the data for this dataset":"Il est survenu une erreur durant la rcupration du contenu de ce jeu de donnes","This dataset has been deleted and removed from disk":"Ce jeu de donnes a t supprim et effac du disque","This dataset has been deleted":"Ce jeu de donnes a t supprim","This dataset has been hidden":"Ce jeu de donnes a t cach",format:"format",database:"gnome de rfrence","Edit attributes":"Editer les attributs","Cannot edit attributes of datasets removed from disk":"Impossible d'diter les attributs de jeux de donnes effacs du disque","Undelete dataset to edit attributes":"Restaurer le jeu de donnes pour en diter les attributs","This dataset must finish uploading before it can be edited":"Ce jeu de donnes doit tre entirement tlvers avant toute modification","This dataset is not yet editable":"Ce jeu de donnes n'est pas encore ditable",Delete:"Supprimer","Dataset is already deleted":"Le jeu de donnes est dj supprim","View or report this error":"Voir ou remonter cette erreur","Run this job again":"Excuter ce traitement  nouveau",Visualize:"Visualiser","Visualize in":"Visualiser via","Undelete it":"Restaurer","Permanently remove it from disk":"Supprimer dfinitivement du disque","Unhide it":"Rendre visible","You may be able to":"Vous devriez tre en mesure de","set it manually or retry auto-detection":"Traitez le manuellement ou retenter la dtection automatique","Edit dataset tags":"Editer les mots-cls du jeu de donnes","Edit dataset annotation":"Editer les annotations du jeu de donnes",Tags:"Mots-cls","Edit annotation":"Editer les annotations"},__zh:{"This history is empty":"","No matching datasets found":"","Search datasets":"","You are currently viewing a deleted history!":"","You are over your disk quota":"",All:"",None:"","For all selected":"","Click to rename history":"","Operations on multiple datasets":"","Permanently delete datasets":"","This will permanently remove the data in your datasets. Are you sure?":"",Dataset:"","This history is empty. Click 'Get Data' on the left tool menu to start":"","You must be logged in to create histories":"","View data":"",Download:"","Download dataset":"","View details":"","This job is waiting to run":"","This job is currently running":"","An error occurred with this dataset":"","No data":"","This dataset has been deleted":"","This dataset has been hidden":"",format:"",database:"","Edit attributes":"",Delete:"","View or report this error":"","Run this job again":"",Visualize:"","Undelete it":"","Permanently remove it from disk":"","Unhide it":""}};i.init=function(t){t||(t=window._i18n&&window._i18n.locale?window._i18n.locale:document.documentElement.lang?document.documentElement.lang:"root");var e=this["__"+t]||this.__root;if(e)for(var i in e)this[i]=e[i]},i.init(),t.exports=i},function(t,e,i){"use strict";(function(t){function i(t){t=t||{};var e=this;return e.userId=window.bootstrapped&&window.bootstrapped.user?window.bootstrapped.user.id:null,e.userId=e.userId||t.userId||null,e.consoleLogger=t.consoleLogger||null,e._init(t),e}function n(t){var e=String(t);return"[object Object]"==e&&(e=JSON.stringify(t)),e}function r(t){return this._init(t||{})}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.ALL=0,i.LOG=0,i.DEBUG=10,i.INFO=20,i.WARN=30,i.ERROR=40,i.METRIC=50,i.NONE=100,i.defaultOptions={logLevel:i.NONE,consoleLevel:i.NONE,defaultNamespace:"Galaxy",consoleNamespaceWhitelist:null,consoleFlattenMessages:!1,clientPrefix:"client.",maxCacheSize:3e3,postSize:1e3,addTime:!0,cacheKeyPrefix:"logs-",postUrl:"/api/metrics",delayPostInMs:6e5,getPingData:void 0,onServerResponse:void 0},i.prototype._init=function(t){var e=this;e.options={};for(var n in i.defaultOptions)i.defaultOptions.hasOwnProperty(n)&&(e.options[n]=t.hasOwnProperty(n)?t[n]:i.defaultOptions[n]);return e.options.logLevel=e._parseLevel(e.options.logLevel),e.options.consoleLevel=e._parseLevel(e.options.consoleLevel),e._sending=!1,e._waiting=null,e._postSize=e.options.postSize,e._initCache(),e},i.prototype._initCache=function(){try{this.cache=new r({maxSize:this.options.maxCacheSize,key:this.options.cacheKeyPrefix+this.userId})}catch(t){this._emitToConsole("warn","MetricsLogger",["Could not intitialize logging cache:",t]),this.options.logLevel=i.NONE}},i.prototype._parseLevel=function(t){var e=void 0===t?"undefined":a(t);if("number"===e)return t;if("string"===e){var n=t.toUpperCase();if(i.hasOwnProperty(n))return i[n]}throw new Error("Unknown log level: "+t)},i.prototype.emit=function(t,e,i){var n=this;return e=e||n.options.defaultNamespace,t&&i?(t=n._parseLevel(t),t>=n.options.logLevel&&n._addToCache(t,e,i),n.consoleLogger&&t>=n.options.consoleLevel&&n._emitToConsole(t,e,i),n):n},i.prototype._addToCache=function(t,e,i){this._emitToConsole("debug","MetricsLogger",["_addToCache:",arguments,this.options.addTime,this.cache.length()]);var n=this;try{n.cache.add(n._buildEntry(t,e,i))>=n._postSize&&n._postCache()}catch(t){n._emitToConsole("warn","MetricsLogger",["Metrics logger could not stringify logArguments:",e,i]),n._emitToConsole("error","MetricsLogger",[t])}return n},i.prototype._buildEntry=function(t,e,i){this._emitToConsole("debug","MetricsLogger",["_buildEntry:",arguments]);var n={level:t,namespace:this.options.clientPrefix+e,args:i};return this.options.addTime&&(n.time=(new Date).toISOString()),n},i.prototype._postCache=function(e){if(e=e||{},this._emitToConsole("info","MetricsLogger",["_postCache",e,this._postSize]),!this.options.postUrl||this._sending)return t.when({});var i=this,n=e.count||i._postSize,r=i.cache.get(n),a=r.length,o="function"==typeof i.options.getPingData?i.options.getPingData():{};return o.metrics=JSON.stringify(r),i._sending=!0,t.post(i.options.postUrl,o).always(function(){i._sending=!1}).fail(function(t,e,n){i._postSize=i.options.maxCacheSize,i.emit("error","MetricsLogger",["_postCache error:",t.readyState,t.status,t.responseJSON||t.responseText])}).done(function(t){"function"==typeof i.options.onServerResponse&&i.options.onServerResponse(t),i.cache.remove(a),i._postSize=i.options.postSize})},i.prototype._delayPost=function(){var t=this;t._waiting=setTimeout(function(){t._waiting=null},t.options.delayPostInMs)},i.prototype._emitToConsole=function(t,e,r){var a=this,o=a.options.consoleNamespaceWhitelist;if(!a.consoleLogger)return a;if(o&&-1===o.indexOf(e))return a;var s=Array.prototype.slice.call(r,0);return s.unshift(e),a.options.consoleFlattenMessages&&(s=[s.map(n).join(" ")]),t>=i.METRIC&&"function"==typeof a.consoleLogger.info?a.consoleLogger.info.apply(a.consoleLogger,s):t>=i.ERROR&&"function"==typeof a.consoleLogger.error?a.consoleLogger.error.apply(a.consoleLogger,s):(t>=i.WARN&&"function"==typeof a.consoleLogger.warn?a.consoleLogger.warn.apply(a.consoleLogger,s):t>=i.INFO&&"function"==typeof a.consoleLogger.info?a.consoleLogger.info.apply(a.consoleLogger,s):t>=i.DEBUG&&"function"==typeof a.consoleLogger.debug?a.consoleLogger.debug.apply(a.consoleLogger,s):"function"==typeof a.consoleLogger.log&&a.consoleLogger.log.apply(a.consoleLogger,s),a)},i.prototype.log=function(){this.emit(1,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.debug=function(){this.emit(i.DEBUG,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.info=function(){this.emit(i.INFO,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.warn=function(){this.emit(i.WARN,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.error=function(){this.emit(i.ERROR,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.metric=function(){this.emit(i.METRIC,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},r.defaultOptions={maxSize:5e3},r.prototype._init=function(t){if(!this._hasStorage())throw new Error("LoggingCache needs localStorage");if(!t.key)throw new Error("LoggingCache needs key for localStorage");return this.key=t.key,this._initStorage(),this.maxSize=t.maxSize||r.defaultOptions.maxSize,this},r.prototype._hasStorage=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(t){return!1}},r.prototype._initStorage=function(){return null===localStorage.getItem(this.key)?this.empty():this},r.prototype.add=function(t){var e=this,i=e._fetchAndParse(),n=i.length+1-e.maxSize;return n>0&&i.splice(0,n),i.push(t),e._unparseAndStore(i),i.length},r.prototype._fetchAndParse=function(){var t=this;return JSON.parse(localStorage.getItem(t.key))},r.prototype._unparseAndStore=function(t){var e=this;return localStorage.setItem(e.key,JSON.stringify(t))},r.prototype.length=function(){return this._fetchAndParse().length},r.prototype.get=function(t){return this._fetchAndParse().slice(0,t)},r.prototype.remove=function(t){var e=this._fetchAndParse(),i=e.splice(0,t);return this._unparseAndStore(e),i},r.prototype.empty=function(){return localStorage.setItem(this.key,"[]"),this},r.prototype.stringify=function(t){return JSON.stringify(this.get(t))},r.prototype.print=function(){console.log(JSON.stringify(this._fetchAndParse(),null,"  "))},e.default={MetricsLogger:i,LoggingCache:r}}).call(e,i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=(r(a),i(131)),s=r(o),l=i(133),c=r(l),u=i(229),h=r(u),d=t.View.extend({initialize:function(t){var e=this;this.options=t,this.setElement(this._template()),this.$navbarBrandLink=this.$(".navbar-brand-link"),this.$navbarBrandImage=this.$(".navbar-brand-image"),this.$navbarBrandTitle=this.$(".navbar-brand-title"),this.$navbarTabs=this.$(".navbar-tabs"),this.$quoteMeter=this.$(".quota-meter-container"),this.collection=new s.default.Collection,this.collection.on("add",function(t){e.$navbarTabs.append(new s.default.Tab({model:t}).render().$el)}).on("reset",function(){e.$navbarTabs.empty()}).on("dispatch",function(t){e.collection.each(function(e){t(e)})}).fetch(this.options),Galaxy.frame=this.frame=new c.default({collection:this.collection}),Galaxy.quotaMeter=this.quotaMeter=new h.default.UserQuotaMeter({model:Galaxy.user,el:this.$quoteMeter}),n(window).on("click",function(t){var e=n(t.target).closest("a[download]");1==e.length&&(0===n("iframe[id=download]").length&&n("body").append(n("<iframe/>").attr("id","download").hide()),n("iframe[id=download]").attr("src",e.attr("href")),t.preventDefault())}).on("beforeunload",function(){var t="";if(e.collection.each(function(e){var i=e.get("onbeforeunload")&&e.get("onbeforeunload")();i&&(t+=i+" ")}),""!==t)return t})},render:function(){return this.$navbarBrandTitle.html("Galaxy "+(this.options.brand&&"/ "+this.options.brand||"")),this.$navbarBrandLink.attr("href",this.options.logo_url),this.$navbarBrandImage.attr("src",this.options.logo_src),this.quotaMeter.render(),this},_template:function(){return'<div id="masthead" class="navbar navbar-fixed-top navbar-inverse"><div class="navbar-header"><div class="navbar-tabs"/></div><div class="navbar-brand"><a class="navbar-brand-link"><img class="navbar-brand-image"/><span class="navbar-brand-title"/></a></div><div class="quota-meter-container"/><div class="navbar-icons"/></div>'}});e.default={View:d}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n,r,a){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(132),l=o(s),c=i(21),u=o(c),h=i(4),d=o(h),f=i(3),p=o(f),m=t.Collection.extend({model:t.Model.extend({defaults:{visible:!0,target:"_parent"}}),fetch:function(t){t=t||{},this.reset();var e=new l.default.GenericNavView;this.add(e.render()),this.add({id:"analysis",title:(0,d.default)("Analyze Data"),url:"",tooltip:(0,d.default)("Analysis home view")}),this.add({id:"workflow",title:(0,d.default)("Workflow"),tooltip:(0,d.default)("Chain tools into workflows"),disabled:!Galaxy.user.id,url:"workflow"}),this.add({id:"shared",title:(0,d.default)("Shared Data"),url:"library/index",tooltip:(0,d.default)("Access published resources"),menu:[{title:(0,d.default)("Data Libraries"),url:"library/list"},{title:(0,d.default)("Histories"),url:"histories/list_published"},{title:(0,d.default)("Workflows"),url:"workflows/list_published"},{title:(0,d.default)("Visualizations"),url:"visualizations/list_published"},{title:(0,d.default)("Pages"),url:"pages/list_published"}]}),this.add({id:"visualization",title:(0,d.default)("Visualization"),url:"visualizations/list",tooltip:(0,d.default)("Visualize datasets"),disabled:!Galaxy.user.id,menu:[{title:(0,d.default)("New Track Browser"),url:"visualization/trackster",target:"_frame"},{title:(0,d.default)("Saved Visualizations"),url:"visualizations/list",target:"_frame"},{title:(0,d.default)("Interactive Environments"),url:"visualization/gie_list",target:"galaxy_main"}]}),u.default.add({url:"api/webhooks/masthead/all",callback:function(t){n(document).ready(function(){n.each(t.models,function(t,e){var i=e.toJSON();if(i.activate){var n={id:i.name,icon:i.config.icon,url:i.config.url,tooltip:i.config.tooltip,onclick:i.config.function&&new Function(i.config.function)};Galaxy.page?Galaxy.page.masthead.collection.add(n):Galaxy.masthead&&Galaxy.masthead.collection.add(n),p.default.appendScriptStyle(i)}})})}}),Galaxy.user.get("is_admin")&&this.add({id:"admin",title:(0,d.default)("Admin"),url:"admin",tooltip:(0,d.default)("Administer this Galaxy"),cls:"admin-only"});var i={id:"help",title:(0,d.default)("Help"),tooltip:(0,d.default)("Support, contact, and community"),menu:[{title:(0,d.default)("Support"),url:t.support_url,target:"_blank"},{title:(0,d.default)("Search"),url:t.search_url,target:"_blank"},{title:(0,d.default)("Mailing Lists"),url:t.mailing_lists,target:"_blank"},{title:(0,d.default)("Videos"),url:t.screencasts_url,target:"_blank"},{title:(0,d.default)("Wiki"),url:t.wiki_url,target:"_blank"},{title:(0,d.default)("How to Cite Galaxy"),url:t.citation_url,target:"_blank"},{title:(0,d.default)("Interactive Tours"),url:"tours"}]};t.terms_url&&i.menu.push({title:(0,d.default)("Terms and Conditions"),url:t.terms_url,target:"_blank"}),t.biostar_url&&i.menu.unshift({title:(0,d.default)("Ask a question"),url:"biostar/biostar_question_redirect",target:"_blank"}),t.biostar_url&&i.menu.unshift({title:(0,d.default)("Galaxy Biostar"),url:t.biostar_url_redirect,target:"_blank"}),this.add(i);var a={};a=Galaxy.user.id?{id:"user",title:(0,d.default)("User"),cls:"loggedin-only",tooltip:(0,d.default)("Account and saved data"),menu:[{title:(0,d.default)("Logged in as")+" "+Galaxy.user.get("email")},{title:(0,d.default)("Preferences"),url:"user"},{title:(0,d.default)("Custom Builds"),url:"custom_builds"},{title:(0,d.default)("Logout"),url:"user/logout?session_csrf_token="+Galaxy.session_csrf_token,target:"_top",divider:!0},{title:(0,d.default)("Saved Histories"),url:"histories/list",target:"_top"},{title:(0,d.default)("Saved Datasets"),url:"datasets/list",target:"_top"},{title:(0,d.default)("Saved Pages"),url:"pages/list",target:"_top"}]}:t.allow_user_creation?{id:"user",title:(0,d.default)("Login or Register"),cls:"loggedout-only",tooltip:(0,d.default)("Account registration or login"),menu:[{title:(0,d.default)("Login"),url:"user/login",target:"galaxy_main",noscratchbook:!0},{title:(0,d.default)("Register"),url:"user/create",target:"galaxy_main",noscratchbook:!0}]}:{id:"user",title:(0,d.default)("Login"),cls:"loggedout-only",tooltip:(0,d.default)("Login"),url:"user/login",target:"galaxy_main",noscratchbook:!0},this.add(a);var o=this.get(t.active_view);return o&&o.set("active",!0),(new r.Deferred).resolve().promise()}}),g=t.View.extend({initialize:function(t){this.model=t.model,this.setElement(this._template()),this.$dropdown=this.$(".dropdown"),this.$toggle=this.$(".dropdown-toggle"),this.$menu=this.$(".dropdown-menu"),this.$note=this.$(".dropdown-note"),this.listenTo(this.model,"change",this.render,this)},events:{"click .dropdown-toggle":"_toggleClick"},render:function(){var t=this;return n(".tooltip").remove(),this.$el.attr("id",this.model.id).css({visibility:this.model.get("visible")&&"visible"||"hidden"}),this.model.set("url",this._formatUrl(this.model.get("url"))),this.$note.html(this.model.get("note")||"").removeClass().addClass("dropdown-note").addClass(this.model.get("note_cls")).css({display:this.model.get("show_note")&&"block"||"none"}),this.$toggle.html(this.model.get("title")||"").removeClass().addClass("dropdown-toggle").addClass(this.model.get("cls")).addClass(this.model.get("icon")&&"dropdown-icon fa "+this.model.get("icon")).addClass(this.model.get("toggle")&&"toggle").attr("target",this.model.get("target")).attr("href",this.model.get("url")).attr("title",this.model.get("tooltip")).tooltip("destroy"),this.model.get("tooltip")&&this.$toggle.tooltip({placement:"bottom"}),this.$dropdown.removeClass().addClass("dropdown").addClass(this.model.get("disabled")&&"disabled").addClass(this.model.get("active")&&"active"),this.model.get("menu")&&this.model.get("show_menu")?(this.$menu.show(),n("#dd-helper").show().off().on("click",function(){n("#dd-helper").hide(),t.model.set("show_menu",!1)})):(t.$menu.hide(),n("#dd-helper").hide()),this.$menu.empty().removeClass("dropdown-menu"),this.model.get("menu")&&(a.each(this.model.get("menu"),function(e){t.$menu.append(t._buildMenuItem(e)),e.divider&&t.$menu.append(n("<li/>").addClass("divider"))}),t.$menu.addClass("dropdown-menu"),t.$toggle.append(n("<b/>").addClass("caret"))),this},_buildMenuItem:function(t){var e=this;return t=a.defaults(t||{},{title:"",url:"",target:"_parent",noscratchbook:!1}),t.url=e._formatUrl(t.url),n("<li/>").append(n("<a/>").attr("href",t.url).attr("target",t.target).html(t.title).on("click",function(i){i.preventDefault(),e.model.set("show_menu",!1),t.onclick?t.onclick():Galaxy.frame.add(t)}))},_toggleClick:function(t){var e=this,i=this.model;if(t.preventDefault(),n(".tooltip").hide(),i.trigger("dispatch",function(t){i.id!==t.id&&t.get("menu")&&t.set("show_menu",!1)}),i.get("disabled")){var r=function(t,e){return n("<div/>").append(n("<a/>").attr("href",Galaxy.root+e).html(t)).html()};this.$toggle.popover&&this.$toggle.popover("destroy"),this.$toggle.popover({html:!0,placement:"bottom",content:"Please "+r("login","user/login?use_panels=True")+" or "+r("register","user/create?use_panels=True")+" to use this feature."}).popover("show"),setTimeout(function(){e.$toggle.popover("destroy")},5e3)}else i.get("menu")?i.set("show_menu",!0):i.get("onclick")?i.get("onclick")():Galaxy.frame.add(i.attributes)},_formatUrl:function(t){return"string"==typeof t&&-1===t.indexOf("//")&&"/"!=t.charAt(0)?Galaxy.root+t:t},_template:function(){return'<ul class="nav navbar-nav"><li class="dropdown"><a class="dropdown-toggle"/><ul class="dropdown-menu"/><div class="dropdown-note"/></li></ul>'}});e.default={Collection:m,Tab:g}}).call(e,i(2),i(0),i(0),i(1))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(8),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=t.View.extend({initialize:function(){this.modal=null},makeModalIframe:function(t){var e=window.Galaxy.config.communication_server_host,i=window.Galaxy.config.communication_server_port,r=escape(window.Galaxy.user.attributes.username),s=escape(window.Galaxy.config.persistent_communication_rooms),l="?username="+r+"&persistent_communication_rooms="+s,c=e+":"+i+l,u=null,h=null,d='<iframe class="f-iframe fade in communication-iframe" src="'+c+'"> </iframe>';return n(".chat-modal").length>0&&n(".chat-modal").remove(),o.modal=new a.default.View({body:d,height:350,width:600,closing_events:!0,title_separator:!1,cls:"ui-modal chat-modal"}),o.modal.show(),u=n(".chat-modal .modal-header"),h=n(".chat-modal .modal-body"),u.addClass("modal-header-body"),h.addClass("modal-header-body"),u.find("h4").remove(),u.removeAttr("min-height padding border"),u.append('<i class="fa fa-comment" aria-hidden="true" title="Communicate with other users"></i><i class="fa fa-expand expand-compress-modal" aria-hidden="true" title="Maximize"></i><i class="fa fa-times close-modal" aria-hidden="true" title="Close"></i>'),n(".close-modal").click(function(t){n(".chat-modal").css("display","none")}),n(".expand-compress-modal").click(function(t){n(".expand-compress-modal").hasClass("fa-expand")?(n(".chat-modal .modal-dialog").width("1000px"),n(".chat-modal .modal-body").height("575px"),n(".expand-compress-modal").removeClass("fa-expand").addClass("fa-compress"),n(".expand-compress-modal").attr("title","Minimize"),n(".expand-compress-modal").css("margin-left","96.2%")):(n(".chat-modal .modal-dialog").width("600px"),n(".chat-modal .modal-body").height("350px"),n(".expand-compress-modal").removeClass("fa-compress").addClass("fa-expand"),n(".expand-compress-modal").attr("title","Maximize"),n(".expand-compress-modal").css("margin-left","93.2%"))}),this},render:function(){var t=this;return{id:"show-chat-online",icon:"fa-comment-o",tooltip:"Chat online",visible:!1,onclick:t.makeModalIframe}}});e.default={GenericNavView:o}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(69),s=a(o),l=i(22),c=a(l),u=i(23),h=a(u),d=i(138),f=a(d),p=i(4),m=a(p);e.default=t.View.extend({initialize:function(t){var e=this;t=t||{},this.frames=new s.default.View({visible:!1}),this.setElement(this.frames.$el),this.buttonActive=t.collection.add({id:"enable-scratchbook",icon:"fa-th",tooltip:(0,m.default)("Enable/Disable Scratchbook"),onclick:function(){e.active=!e.active,e.buttonActive.set({toggle:e.active,show_note:e.active,note_cls:e.active&&"fa fa-check"}),!e.active&&e.frames.hide()},onbeforeunload:function(){if(e.frames.length()>0)return"You opened "+e.frames.length()+" frame(s) which will be lost."}}),this.buttonLoad=t.collection.add({id:"show-scratchbook",icon:"fa-eye",tooltip:(0,m.default)("Show/Hide Scratchbook"),show_note:!0,visible:!1,onclick:function(t){e.frames.visible?e.frames.hide():e.frames.show()}}),this.frames.on("add remove",function(){this.visible&&0==this.length()&&this.hide(),e.buttonLoad.set({note:this.length(),visible:this.length()>0})}).on("show hide ",function(){e.buttonLoad.set({toggle:this.visible,icon:this.visible&&"fa-eye"||"fa-eye-slash"})}),this.history_cache={}},addDataset:function(t){var e=this,i=null;if(Galaxy&&Galaxy.currHistoryPanel){var r=Galaxy.currHistoryPanel.collection.historyId;this.history_cache[r]={name:Galaxy.currHistoryPanel.model.get("name"),dataset_ids:[]},Galaxy.currHistoryPanel.collection.each(function(t){!t.get("deleted")&&t.get("visible")&&e.history_cache[r].dataset_ids.push(t.get("id"))})}var a=function(t,i){if(t){var n=e.history_cache[t.get("history_id")];if(n&&n.dataset_ids){var r=n.dataset_ids,a=r.indexOf(t.get("id"));if(-1!==a&&a+i>=0&&a+i<r.length)return r[a+i]}}},o=function(t,n,r){var o=a(t,n);o?e._loadDataset(o,function(t,e){i=t,r.model.set(e)}):r.model.trigger("change")};this._loadDataset(t,function(t,r){i=t,e.add(n.extend({menu:[{icon:"fa fa-chevron-circle-left",tooltip:"Previous in History",onclick:function(t){o(i,-1,t)},disabled:function(){return!a(i,-1)}},{icon:"fa fa-chevron-circle-right",tooltip:"Next in History",onclick:function(t){o(i,1,t)},disabled:function(){return!a(i,1)}}]},r))})},_loadDataset:function(t,e){var i=this,a=new c.default.Dataset({id:t});r.when(a.fetch()).then(function(){var r=n.find(["tabular","interval"],function(t){return-1!==a.get("data_type").indexOf(t)}),o=a.get("name"),s=i.history_cache[a.get("history_id")];s&&(o=s.name+": "+o),e(a,r?{title:o,url:null,content:c.default.createTabularDatasetChunkedView({model:new c.default.TabularDataset(a.toJSON()),embedded:!0,height:"100%"}).$el}:{title:o,url:Galaxy.root+"datasets/"+t+"/display/?preview=True",content:null})})},addTrackster:function(t){var e=this,i=new h.default.Visualization({id:t});r.when(i.fetch()).then(function(){var t=new f.default.TracksterUI(Galaxy.root),r={title:i.get("name"),type:"other",content:function(e){var r={container:e,name:i.get("title"),id:i.id,dbkey:i.get("dbkey"),stand_alone:!1},a=i.get("latest_revision"),o=a.config.view.drawables;n.each(o,function(t){t.dataset={hda_ldda:t.hda_ldda,id:t.dataset_id}}),view=t.create_visualization(r,a.config.viewport,a.config.view.drawables,a.config.bookmarks,!1)}};e.add(r)})},add:function(t){if("_blank"==t.target)window.open(t.url);else if("_top"==t.target||"_parent"==t.target||"_self"==t.target)window.location=t.url;else if(!this.active||t.noscratchbook){var e=r(window.parent.document).find("#galaxy_main");"galaxy_main"==t.target||"center"==t.target?0===e.length?window.location=t.url+(-1==t.url.indexOf("?")?"?":"&")+"use_panels=True":e.attr("src",t.url):window.location=t.url}else this.frames.add(t)}})}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.Model.extend({defaults:{url_base:"",async:!1,async_ops:[],categorical_filters:[],filters:{},sort_key:null,show_item_checkboxes:!1,advanced_search:!1,cur_page:1,num_pages:1,operation:void 0,item_ids:void 0},can_async_op:function(t){return-1!==i.indexOf(this.attributes.async_ops,t)},add_filter:function(t,e,i){if(i){var n,r=this.attributes.filters[t];if(null===r||void 0===r)n=e;else if("string"==typeof r)if("All"==r||r==e)n=e;else{var a=[];a[0]=r,a[1]=e,n=a}else n=r,-1===n.indexOf(e)&&n.push(e);this.attributes.filters[t]=n}else this.attributes.filters[t]=e},remove_filter:function(t,e){var n=this.attributes.filters[t];if(null===n||void 0===n)return!1;if("string"==typeof n)this.attributes.filters[t]="";else{var r=i.indexOf(n,e);-1!==r&&(n[r]="")}},get_url_data:function(){var t={async:this.attributes.async,sort:this.attributes.sort_key,page:this.attributes.cur_page,show_item_checkboxes:this.attributes.show_item_checkboxes,advanced_search:this.attributes.advanced_search};this.attributes.operation&&(t.operation=this.attributes.operation),this.attributes.item_ids&&(t.id=this.attributes.item_ids);var e=this;return i.each(i.pairs(e.attributes.filters),function(e){t["f-"+e[0]]=e[1]}),t},get_url:function(t){return this.get("url_base")+"?"+n.param(this.get_url_data())+"&"+n.param(t)}})}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={grid:function(t){var e="";return e=t.embedded?this.grid_header(t)+this.grid_table(t):'<div class="loading-elt-overlay"></div><table><tr><td width="75%">'+this.grid_header(t)+'</td><td></td><td></td></tr><tr><td width="100%" id="grid-message" valign="top"></td><td></td><td></td></tr></table>'+this.grid_table(t),t.info_text&&(e+='<br><div class="toolParamHelp" style="clear: both;">'+t.info_text+"</div>"),e},grid_table:function(t){return'<form method="post" onsubmit="return false;"><table id="grid-table" class="grid"><thead id="grid-table-header"></thead><tbody id="grid-table-body"></tbody><tfoot id="grid-table-footer"></tfoot></table></form>'},grid_header:function(t){var e='<div class="grid-header">';if(t.embedded||(e+="<h2>"+t.title+"</h2>"),t.global_actions){e+='<ul class="manage-table-actions">';var i=t.global_actions.length>=3;i&&(e+='<li><a class="action-button" id="popup-global-actions" class="menubutton">Actions</a></li><div popupmenu="popup-global-actions">');for(var n in t.global_actions){var r=t.global_actions[n];e+='<li><a class="action-button use-target" target="'+r.target+'" href="'+r.url_args+'" onclick="return false;" >'+r.label+"</a></li>"}i&&(e+="</div>"),e+="</ul>"}return t.insert&&(e+=t.insert),e+=this.grid_filters(t),e+="</div>"},header:function(t){var e="<tr>";t.show_item_checkboxes&&(e+="<th>",t.items.length>0&&(e+='<input type="checkbox" id="check_all" name=select_all_checkbox value="true"><input type="hidden" name=select_all_checkbox value="true">'),e+="</th>");for(var i in t.columns){var n=t.columns[i];n.visible&&(e+='<th id="'+n.key+'-header">',n.href?e+='<a href="'+n.href+'" class="sort-link" sort_key="'+n.key+'">'+n.label+"</a>":e+=n.label,e+='<span class="sort-arrow">'+n.extra+"</span></th>")}return e+="</tr>"},body:function(e){var i="",n=0;0==e.items.length&&(i+='<tr><td colspan="100"><em>No Items</em></td></tr>',n=1);for(var r in e.items){var a=e.items[r],o=a.encode_id;i+="<tr ",e.current_item_id==a.id&&(i+='class="current"'),i+=">",e.show_item_checkboxes&&(i+='<td style="width: 1.5em;"><input type="checkbox" name="id" value="'+o+'" id="'+o+'" class="grid-row-select-checkbox" /></td>');for(var s in e.columns){var l=e.columns[s];if(l.visible){var c="";l.nowrap&&(c='style="white-space:nowrap;"');var u=a.column_config[l.label],h=u.link,d=u.value,f=u.target;"string"===t.type(d)&&(d=d.replace(/\/\//g,"/"));var p="",m="";l.attach_popup&&(p="grid-"+r+"-popup",m="menubutton",""!=h&&(m+=" split"),m+=" popup"),i+="<td "+c+">",h?(0!=e.operations.length&&(i+='<div id="'+p+'" class="'+m+'" style="float: left;">'),i+='<a class="menubutton-label use-target" target="'+f+'" href="'+h+'" onclick="return false;">'+d+"</a>",0!=e.operations.length&&(i+="</div>")):i+='<div id="'+p+'" class="'+m+'"><label id="'+l.label_id_prefix+o+'" for="'+o+'">'+(d||"")+"</label></div>",i+="</td>"}}i+="</tr>",n++}return i},footer:function(t){var e="";if(t.use_paging&&t.num_pages>1){var i=t.num_page_links,n=t.cur_page_num,r=t.num_pages,a=i/2,o=n-a,s=0;o<=0&&(o=1,s=a-(n-o));var l,c=a+s,u=n+c;u<=r?l=0:(u=r,l=c-(u+1-n)),0!=l&&(o-=l)<1&&(o=1),e+='<tr id="page-links-row">',t.show_item_checkboxes&&(e+="<td></td>"),e+='<td colspan="100"><span id="page-link-container">Page:',o>1&&(e+='<span class="page-link" id="page-link-1"><a href="javascript:void(0);" page_num="1" onclick="return false;">1</a></span> ...');for(var h=o;h<u+1;h++)h==t.cur_page_num?e+='<span class="page-link inactive-link" id="page-link-'+h+'">'+h+"</span>":e+='<span class="page-link" id="page-link-'+h+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+h+'">'+h+"</a></span>";u<r&&(e+='...<span class="page-link" id="page-link-'+r+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+r+'">'+r+"</a></span>"),e+="</span>",e+='<span class="page-link" id="show-all-link-span"> | <a href="javascript:void(0);" onclick="return false;" page_num="all">Show All</a></span></td></tr>'}if(t.show_item_checkboxes){e+='<tr><input type="hidden" id="operation" name="operation" value=""><td></td><td colspan="100">For <span class="grid-selected-count"></span> selected items: ';for(var d in t.operations){var f=t.operations[d];f.allow_multiple&&(e+='<input type="button" value="'+f.label+'" class="operation-button action-button">&nbsp;')}e+="</td></tr>"}var p=!1;for(d in t.operations)if(t.operations[d].global_operation){p=!0;break}if(p){e+='<tr><td colspan="100">';for(d in t.operations){var f=t.operations[d];f.global_operation&&(e+='<a class="action-button" href="'+f.global_operation+'">'+f.label+"</a>")}e+="</td></tr>"}return t.legend&&(e+='<tr><td colspan="100">'+t.legend+"</td></tr>"),e},message:function(t){var e=t.status;return-1!=["success","ok"].indexOf(e)&&(e="done"),'<p><div class="'+e+'message transient-message">'+n.escape(t.message)+'</div><div style="clear: both"></div></p>'},grid_filters:function(t){var e=t.default_filter_dict,i=t.filters,n="none";t.advanced_search&&(n="block");var r=!1;for(var a in t.columns){var o=t.columns[a];if("advanced"==o.filterable){var s=o.key,l=i[s],c=e[s];l&&c&&l!=c&&(n="block"),r=!0}}var u="block";"block"==n&&(u="none");var h='<div id="standard-search" style="display: '+u+';"><table><tr><td style="padding: 0;"><table>';for(var a in t.columns){var o=t.columns[a];"standard"==o.filterable&&(h+=this.grid_column_filter(t,o))}h+="</table></td></tr><tr><td>",r&&(h+='<a href="" class="advanced-search-toggle">Advanced Search</a>'),h+="</td></tr></table></div>",h+='<div id="advanced-search" style="display: '+n+'; margin-top: 5px; border: 1px solid #ccc;"><table><tr><td style="text-align: left" colspan="100"><a href="" class="advanced-search-toggle">Close Advanced Search</a></td></tr>';for(var a in t.columns){var o=t.columns[a];"advanced"==o.filterable&&(h+=this.grid_column_filter(t,o))}return h+="</table></div>"},grid_column_filter:function(e,i){var n=(e.default_filter_dict,e.filters),r=i.label,a=i.key;"advanced"==i.filterable&&(r=r.toLowerCase());var o="<tr>";if("advanced"==i.filterable&&(o+='<td align="left" style="padding-left: 10px">'+r+":</td>"),o+='<td style="padding-bottom: 1px;">',i.is_text){o+='<form class="text-filter-form" column_key="'+a+'" action="'+e.url+'" method="get" >';for(h in e.columns){var s=e.columns[h],l=n[s.key];l&&"All"!=l&&(s.is_text&&(l=JSON.stringify(l)),o+='<input type="hidden" id="'+s.key+'" name="f-'+s.key+'" value="'+l+'"/>')}o+='<span id="'+a+'-filtering-criteria">';var c=n[a];if(c){var u=t.type(c);if("string"==u&&"All"!=c&&(o+=this.filter_element(a,c)),"array"==u)for(var h in c){var d=c[h],f=c;f=f.slice(h),o+=this.filter_element(a,d)}}o+="</span>";var p="";if("standard"==i.filterable){p=i.label.toLowerCase();var m=p.length;m<20&&(m=20),m+=4}o+='<span class="search-box"><input class="search-box-input" id="input-'+a+'-filter" name="f-'+a+'" type="text" placeholder="'+p+'" size="'+m+'"/><button type="submit" style="background: transparent; border: none; padding: 4px; margin: 0px;"><i class="fa fa-search"></i></button></span></form>'}else{o+='<span id="'+a+'-filtering-criteria">';var g=!1;for(var v in e.categorical_filters[a]){var _=e.categorical_filters[a][v],y="",b="";for(var w in _)y=w,b=_[w];g&&(o+=" | "),g=!0;var d=n[a];d&&_[a]&&d==b?o+='<span class="categorical-filter '+a+'-filter current-filter">'+v+"</span>":o+='<span class="categorical-filter '+a+'-filter"><a href="javascript:void(0);" filter_key="'+y+'" filter_val="'+b+'">'+v+"</a></span>"}o+="</span>"}return o+="</td></tr>"},filter_element:function(t,e){return'<span class="text-filter-val">'+(e=a.default.sanitize(e))+'<a href="javascript:void(0);" filter_key="'+t+'" filter_val="'+e+'"><i class="fa fa-times" style="padding-left: 5px; padding-bottom: 6px;"/></a></span>'}}}).call(e,i(0),i(1))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=t.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new t.Model({id:a.default.uid(),min:null,max:null,step:null,precise:!1,split:1e4,value:null,onchange:function(){}}).set(e),this.setElement(this._template()),this.$el.attr("id",this.model.id),this.$text=this.$(".ui-form-slider-text"),this.$slider=this.$(".ui-form-slider-element");var r=[];this.$text.on("change",function(){i.value(n(this).val())}).on("keyup",function(t){r[t.which]=!1}).on("keydown",function(t){var e=t.which;r[e]=!0,i.model.get("is_workflow")&&r[16]&&52==e?(i.value("$"),event.preventDefault()):8==e||9==e||13==e||37==e||39==e||e>=48&&e<=57&&!r[16]||e>=96&&e<=105||(190==e||110==e)&&-1==n(this).val().indexOf(".")&&i.model.get("precise")||(189==e||109==e)&&-1==n(this).val().indexOf("-")||i._isParameter(n(this).val())||r[91]||r[17]||event.preventDefault()});var o=this.model.attributes;this.has_slider=null!==o.max&&null!==o.min&&o.max>o.min;var s=o.step;s||(s=o.precise&&this.has_slider?(o.max-o.min)/o.split:1),this.has_slider?(this.$text.addClass("ui-form-slider-left"),this.$slider.slider({min:o.min,max:o.max,step:s}).on("slide",function(t,e){i.value(e.value)})):this.$slider.hide(),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this.model.get("value");this.has_slider&&this.$slider.slider("value",t),t!==this.$text.val()&&this.$text.val(t)},value:function(t){var e=this.model.attributes;return void 0!==t&&(null===t||""===t||this._isParameter(t)||(isNaN(t)&&(t=0),!e.precise&&(t=Math.round(t)),null!==e.max&&(t=Math.min(t,e.max)),null!==e.min&&(t=Math.max(t,e.min))),this.model.set("value",t),this.model.trigger("change"),e.onchange(t)),this.model.get("value")},_isParameter:function(t){return this.model.get("is_workflow")&&"$"===String(t).substring(0,1)},_template:function(){return'<div class="ui-form-slider"><input class="ui-form-slider-text" type="text"/><div class="ui-form-slider-element"/></div>'}});e.default={View:o}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=r(a),s=i(72),l=r(s),c=l.default.BaseIcons.extend({initialize:function(t){t.type=t.display||"checkbox",t.multiple="checkbox"==t.type,l.default.BaseIcons.prototype.initialize.call(this,t)},_setValue:function(e){if(l.default.BaseIcons.prototype._setValue.call(this,e),void 0!==e&&null!==e&&this.header_index){var i=this,r=t.isArray(e)?e:[e];n.each(r,function(t){var e=i.header_index[t];n.each(e,function(t){i._setState(t,!0)})})}},_setState:function(t,e){var i=this.$(".button-"+t),n=this.$(".subgroup-"+t);i.data("is_expanded",e),e?(n.show(),i.removeClass("fa-plus-square").addClass("fa-minus-square")):(n.hide(),i.removeClass("fa-minus-square").addClass("fa-plus-square"))},_templateOptions:function(){function e(t,e){var i=t.find(".button-"+e);i.on("click",function(){n._setState(e,!i.data("is_expanded"))})}function i(r,a,s){s=s||[];for(var l in a){var c=a[l],u=c.options&&c.options.length>0,h=s.slice(0);n.header_index[c.value]=h.slice(0);var d=t("<div/>");if(u){var f=o.default.uid(),p=t("<span/>").addClass("button-"+f).addClass("ui-drilldown-button fa fa-plus-square"),m=t("<div/>").addClass("subgroup-"+f).addClass("ui-drilldown-subgroup");d.append(t("<div/>").append(p).append(n._templateOption({label:c.name,value:c.value}))),h.push(f),i(m,c.options,h),d.append(m),e(d,f)}else d.append(n._templateOption({label:c.name,value:c.value}));r.append(d)}}var n=this;this.header_index={};var r=t("<div/>");return i(r,this.model.get("data")),r},_template:function(){return t("<div/>").addClass("ui-options-list drilldown-container").attr("id",this.model.id)}});e.default={View:c}}).call(e,i(0),i(1))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=i(139),l=r(s),c=i(23),u=r(c),h=i(70),d=r(h),f=i(10),p=r(f),m=i(14),g=r(m),v=i(3),_=r(v);i(54),i(53),i(55),i(59),i(58),i(60),i(56),i(57),i(18);var y=null,b=null,w=function(){this.initialize&&this.initialize.apply(this,arguments)};w.extend=t.Model.extend;var x=w.extend({initialize:function(t){_.default.cssLoadFile("static/style/jquery.rating.css"),_.default.cssLoadFile("static/style/autocomplete_tagging.css"),_.default.cssLoadFile("static/style/jquery-ui/smoothness/jquery-ui.css"),_.default.cssLoadFile("static/style/library.css"),_.default.cssLoadFile("static/style/trackster.css"),this.baseURL=t},save_viz:function(){Galaxy.modal.show({title:"Saving...",body:"progress"});var t=[];n(".bookmark").each(function(){t.push({position:n(this).children(".position").text(),annotation:n(this).children(".annotation").text()})});var e=b.overview_drawable?b.overview_drawable.config.get_value("name"):null,i={view:b.to_dict(),viewport:{chrom:b.chrom,start:b.low,end:b.high,overview:e},bookmarks:t};return n.ajax({url:Galaxy.root+"visualization/save",type:"POST",dataType:"json",data:{id:b.vis_id,title:b.config.get_value("name"),dbkey:b.dbkey,type:"trackster",vis_json:JSON.stringify(i)}}).success(function(t){Galaxy.modal.hide(),b.vis_id=t.vis_id,b.has_changes=!1,window.history.pushState({},"",t.url+window.location.hash)}).error(function(){Galaxy.modal.show({title:"Could Not Save",body:"Could not save visualization. Please try again later.",buttons:{Cancel:function(){Galaxy.modal.hide()}}})})},createButtonMenu:function(){var t=this,e=d.default.create_icon_buttons_menu([{icon_class:"plus-button",title:"Add tracks",on_click:function(){u.default.select_datasets({dbkey:b.dbkey},function(t){o.each(t,function(t){b.add_drawable(l.default.object_from_template(t,b,b))})})}},{icon_class:"block--plus",title:"Add group",on_click:function(){b.add_drawable(new l.default.DrawableGroup(b,b,{name:"New Group"}))}},{icon_class:"bookmarks",title:"Bookmarks",on_click:function(){force_right_panel("0px"==n("div#right").css("right")?"hide":"show")}},{icon_class:"globe",title:"Circster",on_click:function(){window.location=t.baseURL+"visualization/circster?id="+b.vis_id}},{icon_class:"disk--arrow",title:"Save",on_click:function(){t.save_viz()}},{icon_class:"cross-circle",title:"Close",on_click:function(){t.handle_unsaved_changes(b)}}],{tooltip_config:{placement:"bottom"}});return this.buttonMenu=e,e},add_bookmark:function(t,e,i){var r=n("#right .unified-panel-body"),a=n("<div/>").addClass("bookmark").appendTo(r),o=n("<div/>").addClass("position").appendTo(a),s=(n("<a href=''/>").text(t).appendTo(o).click(function(){return b.go_to(t),!1}),n("<div/>").text(e).appendTo(a));if(i){var l=n("<div/>").addClass("delete-icon-container").prependTo(a).click(function(){return a.slideUp("fast"),a.remove(),b.has_changes=!0,!1});n("<a href=''/>").addClass("icon-button delete").appendTo(l);s.make_text_editable({num_rows:3,use_textarea:!0,help_text:"Edit bookmark note"}).addClass("annotation")}return b.has_changes=!0,a},create_visualization:function(t,e,i,r,a){var s=this,c=new l.default.TracksterView(o.extend(t,{header:!1}));return c.editor=!0,n.when(c.load_chroms_deferred).then(function(t){if(e){var n=e.chrom,o=e.start,u=e.end,h=e.overview;n&&void 0!==o&&u?c.change_chrom(n,o,u):c.change_chrom(t[0].chrom)}else c.change_chrom(t[0].chrom);if(i)for(var d=0;d<i.length;d++)c.add_drawable(l.default.object_from_template(i[d],c,c));for(var d=0;d<c.drawables.length;d++)if(c.drawables[d].config.get_value("name")===h){c.set_overview(c.drawables[d]);break}if(r)for(var f,d=0;d<r.length;d++)f=r[d],s.add_bookmark(f.position,f.annotation,a);c.has_changes=!1}),this.set_up_router({view:c}),c},set_up_router:function(e){new u.default.TrackBrowserRouter(e),t.history.start()},init_keyboard_nav:function(t){n(document).keyup(function(e){if(!n(e.srcElement).is(":input"))switch(e.which){case 37:t.move_fraction(.25);break;case 38:Math.round(t.viewport_container.height()/15);t.viewport_container.scrollTop(t.viewport_container.scrollTop()-20);break;case 39:t.move_fraction(-.25);break;case 40:Math.round(t.viewport_container.height()/15);t.viewport_container.scrollTop(t.viewport_container.scrollTop()+20)}})},handle_unsaved_changes:function(t){if(t.has_changes){var e=this;Galaxy.modal.show({title:"Close visualization",body:"There are unsaved changes to your visualization which will be lost if you do not save them.",buttons:{Cancel:function(){Galaxy.modal.hide()},"Leave without Saving":function(){n(window).off("beforeunload"),window.location=Galaxy.root+"visualization"},Save:function(){n.when(e.save_viz()).then(function(){window.location=Galaxy.root+"visualization"})}}})}else window.location=Galaxy.root+"visualization"}}),k=t.View.extend({initialize:function(){y=new x(Galaxy.root),y.createButtonMenu(),y.buttonMenu.$el.attr("style","float: right"),n("#center .unified-panel-header-inner").append(y.buttonMenu.$el),n("#right .unified-panel-title").append("Bookmarks"),n("#right .unified-panel-icons").append("<a id='add-bookmark-button' class='icon-button menu-button plus-button' href='javascript:void(0);' title='Add bookmark'></a>"),n("#right-border").click(function(){b.resize_window()}),force_right_panel("hide"),galaxy_config.app.id?this.view_existing():p.default.get("dataset_id")?this.choose_existing_or_new():this.view_new()},choose_existing_or_new:function(){var t=this,e=p.default.get("dbkey"),i={},n={dbkey:e,dataset_id:p.default.get("dataset_id"),hda_ldda:p.default.get("hda_ldda"),gene_region:p.default.get("gene_region")};e&&(i["f-dbkey"]=e),Galaxy.modal.show({title:"View Data in a New or Saved Visualization?",body:"<p><ul style='list-style: disc inside none'>You can add this dataset as:<li>a new track to one of your existing, saved Trackster sessions if they share the genome build: <b>"+(e||"Not available.")+"</b></li><li>or create a new session with this dataset as the only track</li></ul></p>",buttons:{Cancel:function(){window.location=Galaxy.root+"visualizations/list"},"View in saved visualization":function(){t.view_in_saved(n)},"View in new visualization":function(){t.view_new()}}})},view_in_saved:function(t){var e=new g.default({url_base:Galaxy.root+"visualization/list_tracks",dict_format:!0,embedded:!0});Galaxy.modal.show({title:"Add Data to Saved Visualization",body:e.$el,buttons:{Cancel:function(){window.location=Galaxy.root+"visualizations/list"},"Add to visualization":function(){n(parent.document).find("input[name=id]:checked").each(function(){t.id=n(this).val(),window.location=Galaxy.root+"visualization/trackster?"+n.param(t)})}}})},view_existing:function(){var t=galaxy_config.app.viz_config;b=y.create_visualization({container:n("#center .unified-panel-body"),name:t.title,vis_id:t.vis_id,dbkey:t.dbkey},t.viewport,t.tracks,t.bookmarks,!0),this.init_editor()},view_new:function(){var t=this;n.ajax({url:Galaxy.root+"api/genomes?chrom_info=True",data:{},error:function(){alert("Couldn't create new browser.")},success:function(e){Galaxy.modal.show({title:"New Visualization",body:t.template_view_new(e),buttons:{Cancel:function(){window.location=Galaxy.root+"visualizations/list"},Create:function(){t.create_browser(n("#new-title").val(),n("#new-dbkey").val()),Galaxy.modal.hide()}}});var i=e.map(function(t){return t[1]});galaxy_config.app.default_dbkey&&o.contains(i,galaxy_config.app.default_dbkey)&&n("#new-dbkey").val(galaxy_config.app.default_dbkey),n("#new-title").focus(),n("select[name='dbkey']").select2(),n("#overlay").css("overflow","auto")}})},template_view_new:function(t){for(var e='<form id="new-browser-form" action="javascript:void(0);" method="post" onsubmit="return false;"><div class="form-row"><label for="new-title">Browser name:</label><div class="form-row-input"><input type="text" name="title" id="new-title" value="Unnamed"></input></div><div style="clear: both;"></div></div><div class="form-row"><label for="new-dbkey">Reference genome build (dbkey): </label><div class="form-row-input"><select name="dbkey" id="new-dbkey">',i=0;i<t.length;i++)e+='<option value="'+t[i][1]+'">'+t[i][0]+"</option>";return e+='</select></div><div style="clear: both;"></div></div><div class="form-row">Is the build not listed here? <a href="'+Galaxy.root+'user/dbkeys?use_panels=True">Add a Custom Build</a></div></form>'},create_browser:function(t,e){n(document).trigger("convert_to_values"),b=y.create_visualization({container:n("#center .unified-panel-body"),name:t,dbkey:e},galaxy_config.app.gene_region),this.init_editor(),b.editor=!0},init_editor:function(){n("#center .unified-panel-title").text(b.config.get_value("name")+" ("+b.dbkey+")"),galaxy_config.app.add_dataset&&n.ajax({url:Galaxy.root+"api/datasets/"+galaxy_config.app.add_dataset,data:{hda_ldda:"hda",data_type:"track_config"},dataType:"json",success:function(t){b.add_drawable(l.default.object_from_template(t,b,b))}}),n("#add-bookmark-button").click(function(){var t=b.chrom+":"+b.low+"-"+b.high;return y.add_bookmark(t,"Bookmark description",!0)}),y.init_keyboard_nav(b),n(window).on("beforeunload",function(){if(b.has_changes)return"There are unsaved changes to your visualization that will be lost if you leave this page."})}});e.default={TracksterUI:x,GalaxyApp:k}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){e||(e=0);var i=Math.pow(10,e);return Math.round(t*i)/i}function o(e){var i=t.Deferred();return t.ajax({type:"HEAD",url:e,beforeSend:function(t){t.setRequestHeader("Range","bytes=0-10")},success:function(t,e,n){i.resolve(206===n.status)}}),i}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(s),c=i(23),u=r(c),h=i(140),d=r(h),f=i(24),p=r(f),m=i(141),g=r(m),v=i(142),_=r(v),y=i(143),b=r(y),w=i(22),x=r(w),k=i(73),C=r(k),S=i(30),T=r(S),A=i(224),M=r(A);i(18);var O=l.extend,E={},$=function(t,e){E[t.attr("id")]=e},j=function(e,i,n,r){n=".group",E[e.attr("id")]=r,e.bind("drag",{handle:"."+i,relative:!0},function(e,i){var r,a,o,s,l,c=(t(this),t(this).parent()),u=c.children(".track,.group"),h=E[t(this).attr("id")];if(a=t(this).parents(n),0!==a.length){o=a.position().top,s=o+a.outerHeight();var d=E[a.attr("id")];if(i.offsetY<o)return t(this).insertBefore(a),d.remove_drawable(h),void d.container.add_drawable_before(h,d);if(i.offsetY>s)return t(this).insertAfter(a),d.remove_drawable(h),void d.container.add_drawable(h)}for(a=null,l=0;l<u.length;l++)if(r=t(u.get(l)),o=r.position().top,s=o+r.outerHeight(),r.is(n)&&this!==r.get(0)&&i.offsetY>=o&&i.offsetY<=s)return i.offsetY-o<s-i.offsetY?r.find(".content-div").prepend(this):r.find(".content-div").append(this),h.container&&h.container.remove_drawable(h),void E[r.attr("id")].add_drawable(h);for(l=0;l<u.length&&(r=t(u.get(l)),!(i.offsetY<r.position().top)||r.hasClass("reference-track")||r.hasClass("intro"));l++);l===u.length?this!==u.get(l-1)&&(c.append(this),E[c.attr("id")].move_drawable(h,l)):this!==u.get(l)&&(t(this).insertBefore(u.get(l)),E[c.attr("id")].move_drawable(h,i.deltaY>0?l-1:l))}).bind("dragstart",function(){t(this).addClass("dragging")}).bind("dragend",function(){t(this).removeClass("dragging")})},D="A converter for this dataset is not installed. Please check your datatypes_conf.xml file.",P=["Histogram","Line","Filled","Intensity"],R=function t(e,i,n){if(t.id_counter||(t.id_counter=0),this.id=t.id_counter++,this.view=e,this.container=i,this.drag_handle_class=n.drag_handle_class,this.is_overview=!1,this.action_icons={},this.config=T.default.ConfigSettingCollection.from_models_and_saved_values(this.config_params,n.prefs),this.config.get_value("name")||this.config.set_value("name",n.name),this.config_onchange&&this.config.on("change",this.config_onchange,this),this.container_div=this.build_container_div(),this.header_div=null,!1!==n.header){var r=new d.default.TrackHeaderView({model:this,id:this.id});this.header_div=r.$el,this.container_div.append(this.header_div);var a=r.icons_div;this.action_icons=r.action_icons,this.container_div.hover(function(){a.show()},function(){a.hide()})}};R.prototype.action_icons_def=[{name:"toggle_icon",title:"Hide/show content",css_class:"toggle",on_click_fn:function(t){t.config.get_value("content_visible")?(t.action_icons.toggle_icon.addClass("toggle-expand").removeClass("toggle"),t.hide_contents(),t.config.set_value("content_visible",!1)):(t.action_icons.toggle_icon.addClass("toggle").removeClass("toggle-expand"),t.config.set_value("content_visible",!0),t.show_contents())}},{name:"settings_icon",title:"Edit settings",css_class:"gear",on_click_fn:function(t){new T.default.ConfigSettingCollectionView({collection:t.config}).render_in_modal("Configure Track")}},{name:"remove_icon",title:"Remove",css_class:"remove-icon",on_click_fn:function(e){t(".tooltip").remove(),e.remove()}}],O(R.prototype,{config_params:[{key:"name",label:"Name",type:"text",default_value:""},{key:"content_visible",type:"bool",default_value:!0,hidden:!0}],config_onchange:function(){},init:function(){},changed:function(){this.view.changed()},can_draw:function(){return!(!this.enabled||!this.config.get_value("content_visible"))},request_draw:function(){},_draw:function(t){},to_dict:function(){},set_name:function(t){this.old_name=this.config.get_value("name"),this.config.set_value("name",t)},revert_name:function(){this.old_name&&this.config.set_value("name",this.old_name)},remove:function(){this.changed(),this.container.remove_drawable(this);var e=this.view;this.container_div.hide(0,function(){t(this).remove(),e.update_intro_div()})},build_container_div:function(){},update_icons:function(){},hide_contents:function(){},show_contents:function(){},get_drawables:function(){}});var N=function(t,e,i){R.call(this,t,e,i),this.obj_type=i.obj_type,this.drawables=[]};O(N.prototype,R.prototype,{unpack_drawables:function(t){this.drawables=[];for(var e,i=0;i<t.length;i++)e=nt(t[i],this.view,this),this.add_drawable(e)},init:function(){for(var t=0;t<this.drawables.length;t++)this.drawables[t].init()},_draw:function(t){for(var e=0;e<this.drawables.length;e++)this.drawables[e]._draw(t)},to_dict:function(){for(var t=[],e=0;e<this.drawables.length;e++)t.push(this.drawables[e].to_dict());return{prefs:this.config.to_key_value_dict(),obj_type:this.obj_type,drawables:t}},add_drawable:function(t){this.drawables.push(t),t.container=this,this.changed()},add_drawable_before:function(t,e){this.changed();var i=this.drawables.indexOf(e);return-1!==i&&(this.drawables.splice(i,0,t),!0)},replace_drawable:function(t,e,i){var n=this.drawables.indexOf(t);return-1!==n&&(this.drawables[n]=e,i&&t.container_div.replaceWith(e.container_div),this.changed()),n},remove_drawable:function(t){var e=this.drawables.indexOf(t);return-1!==e&&(this.drawables.splice(e,1),t.container=null,this.changed(),!0)},move_drawable:function(t,e){var i=this.drawables.indexOf(t);return-1!==i&&(this.drawables.splice(i,1),this.drawables.splice(e,0,t),this.changed(),!0)},get_drawables:function(){return this.drawables},get_tracks:function(t){for(var e,i=this.drawables.slice(0),n=[];0!==i.length;)e=i.shift(),e instanceof t?n.push(e):e.drawables&&(i=i.concat(e.drawables));return n}});var I=function(e,i,n){if(O(n,{obj_type:"DrawableGroup",drag_handle_class:"group-handle"}),N.call(this,e,i,n),this.content_div=t("<div/>").addClass("content-div").attr("id","group_"+this.id+"_content_div").appendTo(this.container_div),$(this.container_div,this),$(this.content_div,this),j(this.container_div,this.drag_handle_class,".group",this),this.filters_manager=new b.default.FiltersManager(this),this.header_div.after(this.filters_manager.parent_div),this.filters_manager.parent_div.after(t("<div style='clear: both'/>")),this.saved_filters_managers=[],"drawables"in n&&this.unpack_drawables(n.drawables),"filters"in n){var r=this.filters_manager;this.filters_manager=new b.default.FiltersManager(this,n.filters),r.parent_div.replaceWith(this.filters_manager.parent_div),n.filters.visible&&this.setup_multitrack_filtering()}};O(I.prototype,R.prototype,N.prototype,{action_icons_def:[R.prototype.action_icons_def[0],R.prototype.action_icons_def[1],{name:"composite_icon",title:"Show composite track",css_class:"layers-stack",on_click_fn:function(e){t(".tooltip").remove(),e.show_composite_track()}},{name:"filters_icon",title:"Filters",css_class:"ui-slider-050",on_click_fn:function(t){t.filters_manager.visible()?(t.filters_manager.clear_filters(),t._restore_filter_managers()):(t.setup_multitrack_filtering(),t.request_draw({clear_tile_cache:!0})),t.filters_manager.toggle()}},R.prototype.action_icons_def[2]],build_container_div:function(){var e=t("<div/>").addClass("group").attr("id","group_"+this.id);return this.container&&this.container.content_div.append(e),e},hide_contents:function(){this.tiles_div.hide()},show_contents:function(){this.tiles_div.show(),this.request_draw()},update_icons:function(){var e=this.drawables.length;if(0===e)this.action_icons.composite_icon.hide(),this.action_icons.filters_icon.hide();else if(1===e)this.action_icons.composite_icon.toggle(this.drawables[0]instanceof Y),this.action_icons.filters_icon.hide();else{var i,n,r,a=this.drawables[0].get_type(),o=0;for(i=0;i<e;i++){if(r=this.drawables[i],r.get_type()!==a){can_composite=!1;break}r instanceof Z&&o++}if(this.drawables[0]instanceof K?this.action_icons.composite_icon.show():(this.action_icons.composite_icon.hide(),t(".tooltip").remove()),o>1&&o===this.drawables.length){var s,l={};for(r=this.drawables[0],n=0;n<r.filters_manager.filters.length;n++)s=r.filters_manager.filters[n],l[s.name]=[s];for(i=1;i<this.drawables.length;i++)for(r=this.drawables[i],n=0;n<r.filters_manager.filters.length;n++)s=r.filters_manager.filters[n],s.name in l&&l[s.name].push(s);this.filters_manager.remove_all();var c,u;for(var h in l)c=l[h],c.length===o&&(u=new b.default.NumberFilter({name:c[0].name,index:c[0].index}),this.filters_manager.add_filter(u));this.action_icons.filters_icon.toggle(this.filters_manager.filters.length>0)}else this.action_icons.filters_icon.hide()}},_restore_filter_managers:function(){for(var t=0;t<this.drawables.length;t++)this.drawables[t].filters_manager=this.saved_filters_managers[t];this.saved_filters_managers=[]},setup_multitrack_filtering:function(){if(this.filters_manager.filters.length>0){this.saved_filters_managers=[];for(var t=0;t<this.drawables.length;t++){var e=this.drawables[t];this.saved_filters_managers.push(e.filters_manager),e.filters_manager=this.filters_manager}}this.filters_manager.init_filters()},show_composite_track:function(){var t=new Y(this.view,this.view,{name:this.config.get_value("name"),drawables:this.drawables});this.container.replace_drawable(this,t,!0);t.request_draw()},add_drawable:function(t){N.prototype.add_drawable.call(this,t),this.update_icons()},remove_drawable:function(t){N.prototype.remove_drawable.call(this,t),this.update_icons()},to_dict:function(){this.filters_manager.visible()&&this._restore_filter_managers();var t=O(N.prototype.to_dict.call(this),{filters:this.filters_manager.to_dict()});return this.filters_manager.visible()&&this.setup_multitrack_filtering(),t},request_draw:function(t){l.each(this.drawables,function(e){e.request_draw(t)})}});var L=n.View.extend({initialize:function(t){O(t,{obj_type:"View"}),N.call(this,"View",t.container,t),this.chrom=null,this.vis_id=t.vis_id,this.dbkey=t.dbkey,this.stand_alone=void 0===t.stand_alone||t.stand_alone,this.label_tracks=[],this.tracks_to_be_redrawn=[],this.max_low=0,this.max_high=0,this.zoom_factor=3,this.min_separation=30,this.has_changes=!1,this.load_chroms_deferred=null,this.render(),this.canvas_manager=new u.default.CanvasManager(this.container.get(0).ownerDocument),this.reset(),this.config=T.default.ConfigSettingCollection.from_models_and_saved_values([{key:"name",label:"Name",type:"text",default_value:""},{key:"a_color",label:"A Color",type:"color",default_value:"#FF0000"},{key:"c_color",label:"C Color",type:"color",default_value:"#00FF00"},{key:"g_color",label:"G Color",type:"color",default_value:"#0000FF"},{key:"t_color",label:"T Color",type:"color",default_value:"#FF00FF"},{key:"n_color",label:"N Color",type:"color",default_value:"#AAAAAA"}],{name:t.name})},render:function(){this.requested_redraw=!1;var e=this.container,i=this;this.top_container=t("<div/>").addClass("top-container").appendTo(e),this.browser_content_div=t("<div/>").addClass("content").appendTo(e),this.bottom_container=t("<div/>").addClass("bottom-container").appendTo(e),this.top_labeltrack=t("<div/>").addClass("top-labeltrack").appendTo(this.top_container),this.viewport_container=t("<div/>").addClass("viewport-container").attr("id","viewport-container").appendTo(this.browser_content_div),this.content_div=this.viewport_container,$(this.viewport_container,i),this.intro_div=t("<div/>").addClass("intro").appendTo(this.viewport_container);t("<div/>").text("Add Datasets to Visualization").addClass("action-button").appendTo(this.intro_div).click(function(){u.default.select_datasets({dbkey:i.dbkey},function(t){l.each(t,function(t){i.add_drawable(nt(t,i,i))})})});this.nav_container=t("<div/>").addClass("trackster-nav-container").prependTo(this.top_container),this.nav=t("<div/>").addClass("trackster-nav").appendTo(this.nav_container),this.stand_alone&&(this.nav_container.addClass("stand-alone"),this.nav.addClass("stand-alone")),this.overview=t("<div/>").addClass("overview").appendTo(this.bottom_container),this.overview_viewport=t("<div/>").addClass("overview-viewport").appendTo(this.overview),this.overview_close=t("<a/>").attr("title","Close overview").addClass("icon-button overview-close tooltip").hide().appendTo(this.overview_viewport),this.overview_highlight=t("<div/>").addClass("overview-highlight").hide().appendTo(this.overview_viewport),this.overview_box_background=t("<div/>").addClass("overview-boxback").appendTo(this.overview_viewport),this.overview_box=t("<div/>").addClass("overview-box").appendTo(this.overview_viewport),this.default_overview_height=this.overview_box.height(),this.nav_controls=t("<div/>").addClass("nav-controls").appendTo(this.nav),this.chrom_select=t("<select/>").attr({name:"chrom"}).addClass("chrom-nav").append("<option value=''>Loading</option>").appendTo(this.nav_controls);var n=function(e){"focusout"!==e.type&&13!==(e.keyCode||e.which)&&27!==(e.keyCode||e.which)||(27!==(e.keyCode||e.which)&&i.go_to(t(this).val()),t(this).hide(),t(this).val(""),i.location_span.show(),i.chrom_select.show()),e.stopPropagation()};this.nav_input=t("<input/>").addClass("nav-input").hide().bind("keyup focusout",n).appendTo(this.nav_controls),this.location_span=t("<span/>").addClass("location").attr("title","Click to change location").tooltip({placement:"bottom"}).appendTo(this.nav_controls),this.location_span.click(function(){i.location_span.hide(),i.chrom_select.hide(),i.nav_input.val(i.chrom+":"+i.low+"-"+i.high),i.nav_input.css("display","inline-block"),i.nav_input.select(),i.nav_input.focus(),i.nav_input.autocomplete({source:function(e,n){var r=[],a=t.map(i.get_tracks(Z),function(t){return t.data_manager.search_features(e.term).success(function(t){r=r.concat(t)})});t.when.apply(t,a).done(function(){n(t.map(r,function(t){return{label:t[0],value:t[1]}}))})},minLength:2})}),void 0!==this.vis_id&&(this.hidden_input=t("<input/>").attr("type","hidden").val(this.vis_id).appendTo(this.nav_controls)),this.zo_link=t("<a/>").attr("id","zoom-out").attr("title","Zoom out").tooltip({placement:"bottom"}).click(function(){i.zoom_out()}).appendTo(this.nav_controls),this.zi_link=t("<a/>").attr("id","zoom-in").attr("title","Zoom in").tooltip({placement:"bottom"}).click(function(){i.zoom_in()}).appendTo(this.nav_controls),this.load_chroms_deferred=this.load_chroms({low:0}),this.chrom_select.bind("change",function(){i.change_chrom(i.chrom_select.val())}),this.browser_content_div.click(function(e){t(this).find("input").trigger("blur")}),this.browser_content_div.bind("dblclick",function(t){i.zoom_in(t.pageX,this.viewport_container)}),this.overview_box.bind("dragstart",function(t,e){this.current_x=e.offsetX}).bind("drag",function(t,e){var n=e.offsetX-this.current_x;this.current_x=e.offsetX;var r=Math.round(n/i.viewport_container.width()*(i.max_high-i.max_low));i.move_delta(-r)}),this.overview_close.click(function(){i.reset_overview()}),this.viewport_container.bind("draginit",function(t,e){if(t.clientX>i.viewport_container.width()-16)return!1}).bind("dragstart",function(t,e){e.original_low=i.low,e.current_height=t.clientY,e.current_x=e.offsetX}).bind("drag",function(e,n){var r=t(this),a=n.offsetX-n.current_x,o=r.scrollTop()-(e.clientY-n.current_height);r.scrollTop(o),n.current_height=e.clientY,n.current_x=n.offsetX;var s=Math.round(a/i.viewport_container.width()*(i.high-i.low));i.move_delta(s)}),this.top_labeltrack.bind("dragstart",function(e,n){return t("<div/>").addClass("zoom-area").css("height",i.browser_content_div.height()+i.top_labeltrack.height()+1).appendTo(t(this))}).bind("drag",function(e,n){t(n.proxy).css({left:Math.min(e.pageX,n.startX)-i.container.offset().left,width:Math.abs(e.pageX-n.startX)});var r=Math.min(e.pageX,n.startX)-i.container.offset().left,a=Math.max(e.pageX,n.startX)-i.container.offset().left,o=i.high-i.low,s=i.viewport_container.width();i.update_location(Math.round(r/s*o)+i.low,Math.round(a/s*o)+i.low)}).bind("dragend",function(e,n){var r=Math.min(e.pageX,n.startX),a=Math.max(e.pageX,n.startX),o=i.high-i.low,s=i.viewport_container.width(),l=i.low;i.low=Math.round(r/s*o)+l,i.high=Math.round(a/s*o)+l,t(n.proxy).remove(),i.request_redraw()}),this.add_label_track(new X(this,{content_div:this.top_labeltrack})),t(window).bind("resize",function(){this.resize_timer&&clearTimeout(this.resize_timer),this.resize_timer=setTimeout(function(){i.resize_window()},500)}),t(document).bind("redraw",function(){i.redraw()}),this.reset(),t(window).trigger("resize")},get_base_color:function(t){return this.config.get_value(t.toLowerCase()+"_color")||this.config.get_value("n_color")}});O(L.prototype,N.prototype,{changed:function(){this.has_changes=!0},update_intro_div:function(){this.intro_div.toggle(0===this.drawables.length)},trigger_navigate:function(t,e,i,n){if(this.timer&&clearTimeout(this.timer),n){var r=this;this.timer=setTimeout(function(){r.trigger("navigate",t+":"+e+"-"+i)},500)}else view.trigger("navigate",t+":"+e+"-"+i)},update_location:function(t,e){this.location_span.text(p.default.commatize(t)+" - "+p.default.commatize(e)),this.nav_input.val(this.chrom+":"+p.default.commatize(t)+"-"+p.default.commatize(e));var i=this.chrom_select.val();""!==i&&this.trigger_navigate(i,this.low,this.high,!0)},load_chroms:function(e){e.num=100;var i=this,n=t.Deferred();return t.ajax({url:Galaxy.root+"api/genomes/"+this.dbkey,data:e,dataType:"json",success:function(e){if(0!==e.chrom_info.length){if(e.reference){var r=new J(i);i.add_label_track(r),i.reference_track=r}i.chrom_data=e.chrom_info,i.chrom_select.html(""),i.chrom_select.append(t('<option value="">Select Chrom/Contig</option>'));for(var a=0,o=i.chrom_data.length;a<o;a++){var s=i.chrom_data[a].chrom,l=t("<option>");l.text(s),l.val(s),i.chrom_select.append(l)}e.prev_chroms&&i.chrom_select.append(t('<option value="previous">Previous 100</option>')),e.next_chroms&&i.chrom_select.append(t('<option value="next">Next 100</option>')),i.chrom_start_index=e.start_index,n.resolve(e.chrom_info)}},error:function(){alert("Could not load chroms for this dbkey: "+i.dbkey)}}),n},change_chrom:function(e,i,n){var r=this;if(!r.chrom_data)return void r.load_chroms_deferred.then(function(){r.change_chrom(e,i,n)});if(e&&"None"!==e){if("previous"===e)return void r.load_chroms({low:this.chrom_start_index-100});if("next"===e)return void r.load_chroms({low:this.chrom_start_index+100});var a=t.grep(r.chrom_data,function(t,i){return t.chrom===e})[0];if(void 0===a)return void r.load_chroms({chrom:e},function(){r.change_chrom(e,i,n)});if(e!==r.chrom){r.chrom=e,r.chrom_select.val(r.chrom),r.max_high=a.len-1,r.reset();for(var o=0,s=r.drawables.length;o<s;o++){var l=r.drawables[o];l.init&&l.init()}r.reference_track&&r.reference_track.init()}void 0===i&&void 0===n?(r.low=0,r.high=r.max_high):(r.low=void 0!==i?Math.max(i,0):0,void 0===n?(r.low=Math.max(r.low-15,0),r.high=r.low+30):r.high=Math.min(n,r.max_high)),r.request_redraw()}},go_to:function(t){t=t.replace(/,/g,""),t=t.replace(/:|\-/g," ");var e=t.split(/\s+/),i=e[0],n=e[1]?parseInt(e[1],10):void 0,r=e[2]?parseInt(e[2],10):void 0;this.change_chrom(i,n,r)},move_fraction:function(t){var e=this,i=e.high-e.low;this.move_delta(t*i)},move_delta:function(t){var e=this,i=e.high-e.low;e.low-t<e.max_low?(e.low=e.max_low,e.high=e.max_low+i):e.high-t>e.max_high?(e.high=e.max_high,e.low=e.max_high-i):(e.high-=t,e.low-=t),e.request_redraw({data_fetch:!1}),this.redraw_on_move_fn&&clearTimeout(this.redraw_on_move_fn),this.redraw_on_move_fn=setTimeout(function(){e.request_redraw()},200);var n=e.chrom_select.val();this.trigger_navigate(n,e.low,e.high,!0)},add_drawable:function(t){N.prototype.add_drawable.call(this,t),t.init(),this.changed(),this.update_intro_div();var e=this;t.config.on("change",function(){e.changed()})},add_label_track:function(t){t.view=this,t.init(),this.label_tracks.push(t)},remove_drawable:function(e,i){if(N.prototype.remove_drawable.call(this,e),i){var n=this;e.container_div.hide(0,function(){t(this).remove(),n.update_intro_div()})}},reset:function(){this.low=this.max_low,this.high=this.max_high,this.viewport_container.find(".yaxislabel").remove()},request_redraw:function(t,e){var i=this,n=e?[e]:i.drawables;l.each(n,function(e){var n=l.find(i.tracks_to_be_redrawn,function(t){return t[0]===e});n?n[1]=t:i.tracks_to_be_redrawn.push([e,t])}),this.requested_redraw||(requestAnimationFrame(function(){i._redraw()}),this.requested_redraw=!0)},_redraw:function(){this.requested_redraw=!1;var t=this.low,e=this.high;t<this.max_low&&(t=this.max_low),e>this.max_high&&(e=this.max_high);var i=this.high-this.low;0!==this.high&&i<this.min_separation&&(e=t+this.min_separation),this.low=Math.floor(t),this.high=Math.ceil(e),this.update_location(this.low,this.high),this.resolution_px_b=this.viewport_container.width()/(this.high-this.low);var n=this.low/(this.max_high-this.max_low)*this.overview_viewport.width()||0,r=(this.high-this.low)/(this.max_high-this.max_low)*this.overview_viewport.width()||0;this.overview_box.css({left:n,width:Math.max(13,r)}).show(),r<13&&this.overview_box.css("left",n-(13-r)/2),this.overview_highlight&&this.overview_highlight.css({left:n,width:r}),l.each(this.tracks_to_be_redrawn,function(t){var e=t[0],i=t[1];e&&e._draw(i)}),this.tracks_to_be_redrawn=[],l.each(this.label_tracks,function(t){t._draw()})},zoom_in:function(t,e){if(!(0===this.max_high||this.high-this.low<=this.min_separation)){var i=this.high-this.low,n=i/2+this.low,r=i/this.zoom_factor/2;t&&(n=t/this.viewport_container.width()*(this.high-this.low)+this.low),this.low=Math.round(n-r),this.high=Math.round(n+r),this.changed(),this.request_redraw()}},zoom_out:function(){if(0!==this.max_high){var t=this.high-this.low,e=t/2+this.low,i=t*this.zoom_factor/2;this.low=Math.round(e-i),this.high=Math.round(e+i),this.changed(),this.request_redraw()}},resize_viewport:function(){this.viewport_container.height(this.container.height()-this.top_container.height()-this.bottom_container.height())},resize_window:function(){this.resize_viewport(),this.request_redraw()},set_overview:function(t){if(this.overview_drawable){if(this.overview_drawable.dataset.id===t.dataset.id)return;this.overview_viewport.find(".track").remove()}var e=t.copy({content_div:this.overview_viewport}),i=this;e.header_div.hide(),e.is_overview=!0,i.overview_drawable=e,this.overview_drawable.postdraw_actions=function(){i.overview_highlight.show().height(i.overview_drawable.content_div.height()),i.overview_viewport.height(i.overview_drawable.content_div.height()+i.overview_box.outerHeight()),i.overview_close.show(),i.resize_window()},i.overview_drawable.request_draw(),this.changed()},reset_overview:function(){t(".tooltip").remove(),this.overview_viewport.find(".track-tile").remove(),this.overview_viewport.height(this.default_overview_height),this.overview_box.height(this.default_overview_height),this.overview_close.hide(),this.overview_highlight.hide(),view.resize_window(),view.overview_drawable=null}});var z=C.default.Tool.extend({defaults:{track:null},initialize:function(t){C.default.Tool.prototype.initialize.call(this,t);var e=!0;void 0!==t.tool_state&&void 0!==t.tool_state.hidden&&(e=t.tool_state.hidden),this.set("hidden",e),this.remove_inputs(["data","hidden_data","conditional"])},state_dict:function(t){return l.extend(this.get_inputs_dict(),{hidden:!this.is_visible()})}}),H=n.View.extend({events:{"change :input":"update_value"},render:function(){var e=this.$el.addClass("param-row"),i=this.model;t("<div>").addClass("param-label").text(i.get("label")).appendTo(e);t("<div/>").addClass("param-input").html(i.get("html")).appendTo(e).find(":input").val(i.get("value")),t("<div style='clear: both;'/>").appendTo(e)},update_value:function(e){this.model.set_value(t(e.target).val())}}),q=n.View.extend({initialize:function(t){this.model.on("change:hidden",this.set_visible,this)},render:function(){var e=this,i=this.model,n=this.$el.addClass("dynamic-tool").hide();n.bind("drag",function(t){t.stopPropagation()}).click(function(t){t.stopPropagation()}).bind("dblclick",function(t){t.stopPropagation()}).keydown(function(t){t.stopPropagation()});t("<div class='tool-name'>").appendTo(n).text(i.get("name"));i.get("inputs").each(function(t){var e=new H({model:t});e.render(),n.append(e.$el)}),n.find("input").click(function(){t(this).select()});var r=t("<div>").addClass("param-row").appendTo(n),a=t("<input type='submit'>").attr("value","Run on complete dataset").appendTo(r);t("<input type='submit'>").attr("value","Run on visible region").appendTo(r).click(function(){e.run_on_region()}),a.click(function(){e.run_on_dataset()}),i.is_visible()&&this.$el.show()},set_visible:function(){this.$el.toggle(this.model.is_visible())},update_params:function(){for(var t=0;t<this.params.length;t++)this.params[t].update_value()},run_on_dataset:function(){var t=this.model;this.run({target_dataset_id:this.model.get("track").dataset.id,action:"rerun",tool_id:t.id},null,function(e){Galaxy.modal.show({title:t.get("name")+" is Running",body:t.get("name")+" is running on the complete dataset. Tool outputs are in dataset's history.",buttons:{Close:function(){Galaxy.modal.hide()}}})})},run_on_region:function(){var t,e=this.model.get("track"),i=this.model,n=new u.default.GenomeRegion({chrom:e.view.chrom,start:e.view.low,end:e.view.high}),r={target_dataset_id:e.dataset.id,action:"rerun",tool_id:i.id,regions:[n.toJSON()]},a=e,o=i.get("name")+a.tool_region_and_parameters_str(n);if(a.container===view){var s=new I(view,view,{name:e.config.get_value("name")}),l=a.container.replace_drawable(a,s,!1);s.container_div.insertBefore(a.view.content_div.children()[l]),s.add_drawable(a),a.container_div.appendTo(s.content_div),t=s}else t=a.container;var c=new a.constructor(view,t,{name:o,hda_ldda:"hda"});c.init_for_tool_data(),c.change_mode(a.mode),c.set_filters_manager(a.filters_manager.copy(c)),c.update_icons(),t.add_drawable(c),c.tiles_div.text("Starting job."),this.run(r,c,function(t){c.set_dataset(new x.default.Dataset(t)),c.tiles_div.text("Running job."),c.init()})},run:function(e,i,n){e.inputs=this.model.get_inputs_dict();var r=new p.default.ServerStateDeferred({ajax_settings:{url:Galaxy.root+"api/tools",data:JSON.stringify(e),dataType:"json",contentType:"application/json",type:"POST"},interval:2e3,success_fn:function(t){return"pending"!==t}});t.when(r.go()).then(function(t){"no converter"===t?(i.container_div.addClass("error"),i.content_div.text(D)):t.error?(i.container_div.addClass("error"),i.content_div.text("Tool cannot be rerun: "+t.message)):n(t)})}}),F=function(t,e){_.default.Scaler.call(this,e),this.filter=t};F.prototype.gen_val=function(t){return this.filter.high===Number.MAX_VALUE||this.filter.low===-Number.MAX_VALUE||this.filter.low===this.filter.high?this.default_val:(parseFloat(t[this.filter.index])-this.filter.low)/(this.filter.high-this.filter.low)};var B=function(e,i,n,r,a){this.track=e,this.region=i,this.low=i.get("start"),this.high=i.get("end"),this.w_scale=n,this.canvas=r,this.html_elt=t("<div class='track-tile'/>").append(r),this.data=a,this.stale=!1};B.prototype.predisplay_actions=function(){};var V=function(t,e,i,n,r){B.call(this,t,e,i,n,r)};V.prototype.predisplay_actions=function(){};var U=function(t,e,i,n,r,a,o,s,l,c,u){B.call(this,t,e,i,n,r),this.mode=a,this.all_slotted=s,this.feature_mapper=l,this.has_icons=!1,this.incomplete_features=c,this.other_tiles_features_drawn={},this.seq_data=u};O(U.prototype,B.prototype),U.prototype.predisplay_actions=function(){};var W=function(e,i,r){O(r,{drag_handle_class:"draghandle"}),R.call(this,e,i,r),this.dataset=null,r.dataset&&(this.dataset=r.dataset instanceof n.Model?r.dataset:new x.default.Dataset(r.dataset)),this.dataset_check_type="converted_datasets_state",this.data_url_extra_params={},this.data_query_wait="data_query_wait"in r?r.data_query_wait:5e3,this.data_manager="data_manager"in r?r.data_manager:new u.default.GenomeDataManager({dataset:this.dataset,genome:new u.default.Genome({key:e.dbkey,chroms_info:{chrom_info:e.chrom_data}}),data_mode_compatible:this.data_and_mode_compatible,can_subset:this.can_subset}),this.min_height_px=16,this.max_height_px=800,this.visible_height_px=this.config.get_value("height"),this.content_div=t("<div class='track-content'>").appendTo(this.container_div),this.container&&(this.container.content_div.append(this.container_div),"resize"in r&&!r.resize||this.add_resize_handle())};O(W.prototype,R.prototype,{action_icons_def:[{name:"mode_icon",title:"Set display mode",css_class:"chevron-expand",on_click_fn:function(){}},R.prototype.action_icons_def[0],{name:"overview_icon",title:"Set as overview",css_class:"application-dock-270",on_click_fn:function(t){t.view.set_overview(t)}},R.prototype.action_icons_def[1],{name:"filters_icon",title:"Filters",css_class:"ui-slider-050",on_click_fn:function(t){t.filters_manager.visible()?t.filters_manager.clear_filters():t.filters_manager.init_filters(),t.filters_manager.toggle()}},{name:"tools_icon",title:"Tool",css_class:"hammer",on_click_fn:function(e){e.tool.toggle(),e.tool.is_visible()?e.set_name(e.config.get_value("name")+e.tool_region_and_parameters_str()):e.revert_name(),t(".tooltip").remove()}},{name:"param_space_viz_icon",title:"Tool parameter space visualization",css_class:"arrow-split",on_click_fn:function(e){var i="<strong>Tool</strong>:"+e.tool.get("name")+"<br/><strong>Dataset</strong>:"+e.config.get_value("name")+'<br/><strong>Region(s)</strong>: <select name="regions"><option value="cur">current viewing area</option><option value="bookmarks">bookmarks</option><option value="both">current viewing area and bookmarks</option></select>',r=function(){Galaxy.modal.hide(),t(window).unbind("keypress.check_enter_esc")},a=function(){var i,r=t('select[name="regions"] option:selected').val(),a=new u.default.GenomeRegion({chrom:view.chrom,start:view.low,end:view.high}),o=l.map(t(".bookmark"),function(e){return new u.default.GenomeRegion({from_str:t(e).children(".position").text()})});i="cur"===r?[a]:"bookmarks"===r?o:[a].concat(o),Galaxy.modal.hide(),window.location.href=Galaxy.root+"visualization/sweepster?"+t.param({dataset_id:e.dataset.id,hda_ldda:e.dataset.get("hda_ldda"),regions:JSON.stringify(new n.Collection(i).toJSON())})};Galaxy.modal.show({title:"Visualize tool parameter space and output from different parameter settings?",body:i,buttons:{No:r,Yes:a}})}},R.prototype.action_icons_def[2]],can_draw:function(){return this.dataset&&R.prototype.can_draw.call(this)},build_container_div:function(){return t("<div/>").addClass("track").attr("id","track_"+this.id)},set_dataset:function(t){this.dataset=t,this.data_manager.set("dataset",t)},on_resize:function(){this.request_draw({clear_tile_cache:!0})},add_resize_handle:function(){var e=this,i=!1,n=!1,r=t("<div class='track-resize'>");t(e.container_div).hover(function(){e.config.get_value("content_visible")&&(i=!0,r.show())},function(){i=!1,n||r.hide()}),r.hide().bind("dragstart",function(i,r){n=!0,r.original_height=t(e.content_div).height()}).bind("drag",function(i,n){var r=Math.min(Math.max(n.original_height+n.deltaY,e.min_height_px),e.max_height_px);t(e.tiles_div).css("height",r),e.visible_height_px=e.max_height_px===r?0:r,e.on_resize()}).bind("dragend",function(t,a){e.tile_cache.clear(),n=!1,i||r.hide(),e.config.set_value("height",e.visible_height_px),e.changed()}).appendTo(e.container_div)},hide_contents:function(){this.tiles_div.hide(),this.container_div.find(".yaxislabel, .track-resize").hide()},show_contents:function(){this.tiles_div.show(),this.container_div.find(".yaxislabel, .track-resize").show(),this.request_draw()},get_type:function(){return this instanceof X?"LabelTrack":this instanceof J?"ReferenceTrack":this instanceof K?"LineTrack":this instanceof et?"ReadTrack":this instanceof tt?"VariantTrack":this instanceof Y?"CompositeTrack":this instanceof Z?"FeatureTrack":""},show_message:function(e){return this.tiles_div.remove(),t("<span/>").addClass("message").html(e).appendTo(this.content_div)},init:function(e){var i=this;if(i.enabled=!1,i.tile_cache.clear(),i.data_manager.clear(),i.content_div.children().remove(),i.container_div.removeClass("nodata error pending"),i.tiles_div=t("<div/>").addClass("tiles").appendTo(i.content_div),i.dataset.id){var n=t.Deferred(),r={hda_ldda:i.dataset.get("hda_ldda"),data_type:this.dataset_check_type,chrom:i.view.chrom,retry:e};return t.getJSON(this.dataset.url(),r,function(e){if(e&&"error"!==e&&"error"!==e.kind)"no converter"===e?(i.container_div.addClass("error"),i.show_message(D)):"no data"===e||void 0!==e.data&&(null===e.data||0===e.data.length)?(i.container_div.addClass("nodata"),i.show_message("No data for this chrom/contig.")):"pending"===e?(i.container_div.addClass("pending"),i.show_message("Preparing data. This can take a while for a large dataset. If the visualization is saved and closed, preparation will continue in the background."),setTimeout(function(){i.init()},i.data_query_wait)):"data"!==e&&"data"!==e.status||(e.valid_chroms&&(i.valid_chroms=e.valid_chroms,i.update_icons()),i.tiles_div.text("Ready for display"),i.view.chrom?(i.tiles_div.text(""),i.tiles_div.css("height",i.visible_height_px+"px"),i.enabled=!0,t.when.apply(t,i.predraw_init()).done(function(){n.resolve(),i.container_div.removeClass("nodata error pending"),i.request_draw()})):n.resolve());else{i.container_div.addClass("error");var r=i.show_message("Cannot display dataset due to an error. ");e.message&&(r.append(t("<a href='javascript:void(0);'></a>").text("View error").click(function(){Galaxy.modal.show({title:"Trackster Error",body:"<pre>"+e.message+"</pre>",buttons:{Close:function(){Galaxy.modal.hide()}}})})),r.append(t("<span/>").text(" ")),r.append(t("<a href='javascript:void(0);'></a>").text("Try again").click(function(){i.init(!0)})))}}),this.update_icons(),n}},predraw_init:function(){var e=this;return t.getJSON(e.dataset.url(),{data_type:"data",stats:!0,chrom:e.view.chrom,low:0,high:e.view.max_high,hda_ldda:e.dataset.get("hda_ldda")},function(t){var i=t.data;if(i&&void 0!==i.min&&void 0!==i.max){var n=i.min,r=i.max;n=Math.floor(Math.min(0,Math.max(n,i.mean-2*i.sd))),r=Math.ceil(Math.max(0,Math.min(r,i.mean+2*i.sd))),e.config.set_default_value("min_value",n),e.config.set_default_value("max_value",r),e.config.set_value("min_value",n),e.config.set_value("max_value",r)}})},get_drawables:function(){return this}});var G=function(e,i,n){W.call(this,e,i,n);var r=this;if(j(r.container_div,r.drag_handle_class,".group",r),this.filters_manager=new b.default.FiltersManager(this,"filters"in n?n.filters:null),this.data_manager.set("filters_manager",this.filters_manager),this.filters_available=!1,this.tool=n.tool?new z(l.extend(n.tool,{track:this,tool_state:n.tool_state})):null,this.tile_cache=new u.default.Cache(10),this.left_offset=0,this.header_div&&(this.set_filters_manager(this.filters_manager),this.tool)){var a=new q({model:this.tool});a.render(),this.dynamic_tool_div=a.$el,this.header_div.after(this.dynamic_tool_div)}this.tiles_div=t("<div/>").addClass("tiles").appendTo(this.content_div),this.config.get_value("content_visible")||this.tiles_div.hide(),this.overlay_div=t("<div/>").addClass("overlay").appendTo(this.content_div),n.mode&&this.change_mode(n.mode)};O(G.prototype,R.prototype,W.prototype,{action_icons_def:W.prototype.action_icons_def.concat([{name:"show_more_rows_icon",title:"To minimize track height, not all feature rows are displayed. Click to display more rows.",css_class:"exclamation",on_click_fn:function(e){t(".tooltip").remove(),e.slotters[e.view.resolution_px_b].max_rows*=2,e.request_draw({clear_tile_cache:!0})},hide:!0}]),copy:function(t){var e=this.to_dict();O(e,{data_manager:this.data_manager});var i=new this.constructor(this.view,t,e);return i.change_mode(this.mode),i.enabled=this.enabled,i},set_filters_manager:function(t){this.filters_manager=t,this.header_div.after(this.filters_manager.parent_div)},to_dict:function(){return{track_type:this.get_type(),dataset:{id:this.dataset.id,hda_ldda:this.dataset.get("hda_ldda")},prefs:this.config.to_key_value_dict(),mode:this.mode,filters:this.filters_manager.to_dict(),tool_state:this.tool?this.tool.state_dict():{}}},set_min_max:function(){var e=this;return t.getJSON(e.dataset.url(),{data_type:"data",stats:!0,chrom:e.view.chrom,low:0,high:e.view.max_high,hda_ldda:e.dataset.get("hda_ldda")},function(t){var i=t.data;if(isNaN(parseFloat(e.config.get_value("min_value")))||isNaN(parseFloat(e.config.get_value("max_value")))){var n=i.min,r=i.max;n=Math.floor(Math.min(0,Math.max(n,i.mean-2*i.sd))),r=Math.ceil(Math.max(0,Math.min(r,i.mean+2*i.sd))),e.config.set_value("min_value",n),e.config.set_value("max_value",r)}})},change_mode:function(t){var e=this;return e.mode=t,e.config.set_value("mode",t),"Auto"===t&&this.data_manager.clear(),e.request_draw({clear_tile_cache:!0}),this.action_icons.mode_icon.attr("title","Set display mode (now: "+e.mode+")"),e},update_icons:function(){var t=this;t.action_icons.filters_icon.toggle(t.filters_available),t.action_icons.tools_icon.toggle(null!==t.tool),t.action_icons.param_space_viz_icon.toggle(null!==t.tool)},_gen_tile_cache_key:function(t,e){return t+"_"+e},request_draw:function(t){t&&t.clear_tile_cache&&this.tile_cache.clear(),this.view.request_redraw(t,this)},before_draw:function(){this.max_height_px=0},_draw:function(e){if(this.can_draw()){var i=e&&e.clear_after,n=this.view.low,r=this.view.high,a=this.view.container.width(),o=this.view.resolution_px_b,s=1/o;this.is_overview&&(n=this.view.max_low,r=this.view.max_high,o=a/(view.max_high-view.max_low),s=1/o),this.before_draw(),this.tiles_div.children().addClass("remove");for(var c,h,d=Math.floor(400*s),f=Math.floor(n/d),p=[],m=[];f*d<r;)c=new u.default.GenomeRegion({chrom:this.view.chrom,start:f*d,end:Math.min((f+1)*d,this.view.max_high)}),h=this.draw_helper(c,o,e),p.push(h),t.when(h).then(function(t){m.push(t)}),f+=1;i||this.tiles_div.children(".remove").removeClass("remove").remove();var g=this;t.when.apply(t,p).then(function(){g.tiles_div.children(".remove").remove(),m=l.filter(m,function(t){return null!==t}),0!==m.length&&g.postdraw_actions(m,a,o,i)})}},_add_yaxis_label:function(e,i){var n=this,r="max"===e?"top":"bottom",o="max"===e?"max":"min",s="max"===e?"max_value":"min_value",l=this.container_div.find(".yaxislabel."+r),c=a(n.config.get_value(s),1);i=i||function(){n.request_draw({clear_tile_cache:!0})},0!==l.length?l.text(c):(l=t("<div/>").text(c).make_text_editable({num_cols:12,on_finish:function(e){t(".tooltip").remove(),n.config.set_value(s,a(e,1)),i()},help_text:"Set "+o+" value"}).addClass("yaxislabel "+r).css("color",this.config.get_value("label_color")),this.container_div.prepend(l))},postdraw_actions:function(t,e,i,n){if(l.filter(t,function(t){return t instanceof V}).length>0){this.max_height_px=0;var r=this;l.each(t,function(t){t instanceof V||(t.html_elt.remove(),r.draw_helper(t.region,i,{force:!0,mode:"Coverage"}))}),r._add_yaxis_label("max")}else this.container_div.find(".yaxislabel").remove(),l.find(t,function(t){return t.has_icons})&&l.each(t,function(t){t.has_icons||t.html_elt.css("padding-top",20)})},get_mode:function(t){return this.mode},update_auto_mode:function(t){},_get_drawables:function(){return[this]},draw_helper:function(e,i,n){n||(n={});var r=n.force,a=n.mode||this.mode,o=1/i,s=this,c=this._get_drawables(),u=this._gen_tile_cache_key(i,e),h=r?void 0:s.tile_cache.get_elt(u);if(h)return function(t){return t&&"track"in t}(h)&&s.show_tile(h,i),h;if(!1===n.data_fetch)return null;var d=function(){var t=l.find(P,function(t){return t===a})?"Coverage":a,i=l.map(c,function(i){return i.data_manager.get_data(e,t,o,s.data_url_extra_params)});return view.reference_track&&i.push(view.reference_track.data_manager.get_data(e,a,o,view.reference_track.data_url_extra_params)),i},f=t.Deferred();return s.tile_cache.set_elt(u,f),t.when.apply(t,d()).then(function(){var r,a=d(),o=a;if(l.find(a,function(t){return p.default.is_deferred(t)}))return s.tile_cache.set_elt(u,void 0),void t.when(s.draw_helper(e,i,n)).then(function(t){f.resolve(t)});view.reference_track&&(r=view.reference_track.data_manager.subset_entry(a.pop(),e));var h=[],m=[];l.each(c,function(t,e){var n=t.mode,r=o[e];"Auto"===n&&(n=t.get_mode(r),t.update_auto_mode(n)),h.push(n),m.push(t.get_canvas_height(r,n,i,b))});var g,v=s.view.canvas_manager.new_canvas(),_=e.get("start"),y=e.get("end"),b=Math.ceil((y-_)*i)+s.left_offset,w=l.max(m);v.width=b,v.height=n.height||w;var x=v.getContext("2d");x.translate(s.left_offset,0),c.length>1&&(x.globalAlpha=.5,x.globalCompositeOperation="source-over"),l.each(c,function(t,n){g=t.draw_tile(o[n],x,h[n],e,i,r)}),void 0!==g&&(s.tile_cache.set_elt(u,g),s.show_tile(g,i)),f.resolve(g)}),f},get_canvas_height:function(t,e,i,n){return this.visible_height_px},_draw_line_track_tile:function(t,e,i,n,r){-1!==[void 0,null].indexOf(this.config.get_value("min_value"))&&this.config.set_value("min_value",0),-1!==[void 0,null,0].indexOf(this.config.get_value("max_value"))&&this.config.set_value("max_value",l.max(l.map(t.data,function(t){return t[1]}))||0);var a=e.canvas;return new _.default.LinePainter(t.data,n.get("start"),n.get("end"),this.config.to_key_value_dict(),i).draw(e,a.width,a.height,r),new V(this,n,r,a,t.data)},draw_tile:function(t,e,i,n,r,a){},show_tile:function(t,e){var i=t.html_elt;t.predisplay_actions();var n=Math.round((t.low-(this.is_overview?this.view.max_low:this.view.low))*e);this.left_offset&&(n-=this.left_offset),i.css("left",n),i.hasClass("remove")?i.removeClass("remove"):this.tiles_div.append(i),i.css("height","auto"),this.max_height_px=Math.max(this.max_height_px,i.height()-2),i.parent().children().css("height",this.max_height_px+"px");var r=this.max_height_px;0!==this.visible_height_px&&(r=Math.min(this.max_height_px,this.visible_height_px)),this.tiles_div.css("height",r+"px")},tool_region_and_parameters_str:function(t){var e=this;return" - region=["+(void 0!==t?t.toString():"all")+"], parameters=["+l.values(e.tool.get_inputs_dict()).join(", ")+"]"},data_and_mode_compatible:function(t,e){return"Auto"===e||("Coverage"===e?"bigwig"===t.dataset_type:"bigwig"!==t.dataset_type&&"no_detail"!==t.extra_info)},can_subset:function(t){return!t.message&&"no_detail"!==t.extra_info&&("bigwig"!==t.dataset_type||t.data[1][0]-t.data[0][0]==1)},init_for_tool_data:function(){this.data_manager.set("data_type","raw_data"),this.data_query_wait=1e3,this.dataset_check_type="state"}});var X=function(t,e){W.call(this,t,e,{resize:!1,header:!1}),this.container_div.addClass("label-track")};O(X.prototype,W.prototype,{init:function(){this.enabled=!0},predraw_init:function(){},_draw:function(e){for(var i=this.view,n=i.high-i.low,r=Math.floor(Math.pow(10,Math.floor(Math.log(n)/Math.log(10)))),a=Math.floor(i.low/r)*r,o=this.view.container.width(),s=t("<div/>").addClass("label-container");a<i.high;){var l=Math.floor((a-i.low)/n*o);s.append(t("<div/>").addClass("pos-label").text(p.default.commatize(a)).css({left:l})),a+=r}this.content_div.children(":first").remove(),this.content_div.append(s)}});var Y=function(t,e,i){if(G.call(this,t,e,i),this.drawables=[],"drawables"in i){for(var n,r=0;r<i.drawables.length;r++)n=i.drawables[r],this.drawables[r]=nt(n,t,null),n.left_offset>this.left_offset&&(this.left_offset=n.left_offset);this.enabled=!0}l.each(this.drawables,function(t){(t instanceof Z||t instanceof et)&&t.change_mode("Coverage")}),this.update_icons(),this.obj_type="CompositeTrack"};O(Y.prototype,G.prototype,{display_modes:P,build_config_params:function(){return l.union(R.prototype.config_params,[{key:"min_value",label:"Min Value",type:"float",default_value:void 0},{key:"max_value",label:"Max Value",type:"float",default_value:void 0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:30,hidden:!0}])},action_icons_def:[{name:"composite_icon",title:"Show individual tracks",css_class:"layers-stack",on_click_fn:function(e){t(".tooltip").remove(),e.show_group()}}].concat(G.prototype.action_icons_def),to_dict:N.prototype.to_dict,add_drawable:N.prototype.add_drawable,unpack_drawables:N.prototype.unpack_drawables,config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},on_resize:function(){var t=this.visible_height_px;l.each(this.drawables,function(e){e.visible_height_px=t}),W.prototype.on_resize.call(this)},change_mode:function(t){G.prototype.change_mode.call(this,t);for(var e=0;e<this.drawables.length;e++)this.drawables[e].change_mode(t)},init:function(){for(var e=[],i=0;i<this.drawables.length;i++)e.push(this.drawables[i].init());var n=this;t.when.apply(t,e).then(function(){n.enabled=!0,n.request_draw()})},update_icons:function(){this.action_icons.filters_icon.hide(),this.action_icons.tools_icon.hide(),this.action_icons.param_space_viz_icon.hide()},can_draw:R.prototype.can_draw,_get_drawables:function(){return this.drawables},show_group:function(){for(var t,e=new I(this.view,this.container,{name:this.config.get_value("name")}),i=0;i<this.drawables.length;i++)t=this.drawables[i],t.update_icons(),e.add_drawable(t),t.container=e,e.content_div.append(t.container_div);this.container.replace_drawable(this,e,!0);e.request_draw({clear_tile_cache:!0})},before_draw:function(){var t=l.min(l.map(this.drawables,function(t){return t.config.get_value("min_value")})),e=l.max(l.map(this.drawables,function(t){return t.config.get_value("max_value")}));this.config.set_value("min_value",t),this.config.set_value("max_value",e),l.each(this.drawables,function(i){i.config.set_value("min_value",t),i.config.set_value("max_value",e)})},update_all_min_max:function(){var t=this.config.get_value("min_value"),e=this.config.get_value("max_value");l.each(this.drawables,function(i){i.config.set_value("min_value",t),i.config.set_value("max_value",e)}),this.request_draw({clear_tile_cache:!0})},postdraw_actions:function(t,e,i,n){var r,a=-1;for(r=0;r<t.length;r++){var o=t[r].html_elt.find("canvas").height();o>a&&(a=o)}for(r=0;r<t.length;r++){var s=t[r];s.html_elt.find("canvas").height()!==a&&(this.draw_helper(s.region,i,{force:!0,height:a}),s.html_elt.remove())}var l=this,c=function(){l.update_all_min_max()};this._add_yaxis_label("min",c),this._add_yaxis_label("max",c)}});var J=function(t){G.call(this,t,{content_div:t.top_labeltrack},{resize:!1,header:!1}),this.left_offset=t.canvas_manager.char_width_px,this.container_div.addClass("reference-track"),this.data_url=Galaxy.root+"api/genomes/"+this.view.dbkey,this.data_url_extra_params={reference:!0},this.data_manager=new u.default.GenomeReferenceDataManager({data_url:this.data_url,can_subset:this.can_subset}),this.hide_contents()};O(J.prototype,R.prototype,G.prototype,{build_config_params:function(){return l.union(R.prototype.config_params,[{key:"height",type:"int",default_value:13,hidden:!0}])},init:function(){this.data_manager.clear(),this.enabled=!0},predraw_init:function(){},can_draw:R.prototype.can_draw,draw_helper:function(t,e,i){var n,r=this.tiles_div.is(":visible"),a=null;return e>this.view.canvas_manager.char_width_px?(this.tiles_div.show(),n=!0,a=G.prototype.draw_helper.call(this,t,e,i)):(n=!1,this.tiles_div.hide()),r!==n&&this.view.resize_viewport(),a},can_subset:function(t){return!0},draw_tile:function(t,e,i,n,r){var a=this.data_manager.subset_entry(t,n),o=a.data,s=e.canvas;e.font=e.canvas.manager.default_font,e.textAlign="center";for(var l=0,c=o.length;l<c;l++)e.fillStyle=this.view.get_base_color(o[l]),e.fillText(o[l],Math.floor(l*r),10);return new B(this,n,r,s,a)}});var K=function(e,i,n){this.mode="Histogram",G.call(this,e,i,n),this.left_offset=30;var r=this;t.when(o(Galaxy.root+"datasets/"+this.dataset.id+"/display")).then(function(t){t&&(r.data_manager=new M.default.BBIDataManager({dataset:r.dataset}))})};O(K.prototype,R.prototype,G.prototype,{display_modes:P,build_config_params:function(){return l.union(R.prototype.config_params,[{key:"color",label:"Color",type:"color"},{key:"min_value",label:"Min Value",type:"float",default_value:void 0},{key:"max_value",label:"Max Value",type:"float",default_value:void 0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:30,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},before_draw:function(){},draw_tile:function(t,e,i,n,r){return this._draw_line_track_tile(t,e,i,n,r)},can_subset:function(t){return t.data[1][0]-t.data[0][0]==1},postdraw_actions:function(t,e,i,n){this._add_yaxis_label("max"),this._add_yaxis_label("min")}});var Q=function(t,e,i){this.mode="Heatmap",G.call(this,t,e,i)};O(Q.prototype,R.prototype,G.prototype,{display_modes:["Heatmap"],build_config_params:function(){return l.union(R.prototype.config_params,[{key:"pos_color",label:"Positive Color",type:"color",default_value:"#FF8C00"},{key:"neg_color",label:"Negative Color",type:"color",default_value:"#4169E1"},{key:"min_value",label:"Min Value",type:"int",default_value:void 0},{key:"max_value",label:"Max Value",type:"int",default_value:void 0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:500,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},predraw_init:function(){var e=this;return t.getJSON(e.dataset.url(),{data_type:"data",stats:!0,chrom:e.view.chrom,low:0,high:e.view.max_high,hda_ldda:e.dataset.get("hda_ldda")},function(t){t.data})},draw_tile:function(t,e,i,n,r){var a=e.canvas;return new _.default.DiagonalHeatmapPainter(t.data,n.get("start"),n.get("end"),this.config.to_key_value_dict(),i).draw(e,a.width,a.height,r),new B(this,n,r,a,t.data)}});var Z=function(t,e,i){G.call(this,t,e,i),this.container_div.addClass("feature-track"),this.summary_draw_height=30,this.slotters={},this.start_end_dct={},this.left_offset=200,this.set_painter_from_config()};O(Z.prototype,R.prototype,G.prototype,{display_modes:["Auto","Coverage","Dense","Squish","Pack"],build_config_params:function(){return l.union(R.prototype.config_params,[{key:"block_color",label:"Block color",type:"color"},{key:"reverse_strand_color",label:"Antisense strand color",type:"color"},{key:"label_color",label:"Label color",type:"color",default_value:"black"},{key:"show_counts",label:"Show summary counts",type:"bool",default_value:!0,help:"Show the number of items in each bin when drawing summary histogram"},{key:"min_value",label:"Histogram minimum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"max_value",label:"Histogram maximum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"connector_style",label:"Connector style",type:"select",default_value:"fishbones",options:[{label:"Line with arrows",value:"fishbone"},{label:"Arcs",value:"arcs"}]},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:0,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.set_painter_from_config(),this.request_draw({clear_tile_cache:!0})},set_painter_from_config:function(){"arcs"===this.config.get_value("connector_style")?this.painter=_.default.ArcLinkedFeaturePainter:this.painter=_.default.LinkedFeaturePainter},postdraw_actions:function(e,i,n,r){G.prototype.postdraw_actions.call(this,e,i,n,r);var a,o=this;if(0===l.filter(e,function(t){return t instanceof V}).length){var s={};l.each(l.pluck(e,"incomplete_features"),function(t){l.each(t,function(t){s[t[0]]=t})});var c=this;l.each(e,function(e){var i=l.omit(s,l.map(e.incomplete_features,function(t){return t[0]}));if(i=l.omit(i,l.keys(e.other_tiles_features_drawn)),0!==l.size(i)){var n={data:l.values(i)},r=c.view.canvas_manager.new_canvas(),a=r.getContext("2d");r.height=Math.max(e.canvas.height,c.get_canvas_height(n,e.mode,e.w_scale,100)),r.width=e.canvas.width,a.drawImage(e.canvas,0,0),a.translate(o.left_offset,0);var u=c.draw_tile(n,a,e.mode,e.region,e.w_scale,e.seq_data);t(e.canvas).replaceWith(t(u.canvas)),e.canvas=r,l.extend(e.other_tiles_features_drawn,s)}})}if(o.filters_manager){var u,h=o.filters_manager.filters;for(u=0;u<h.length;u++)h[u].update_ui_elt();var d,f,p=!1;for(a=0;a<e.length;a++)if(e[a].data.length)for(d=e[a].data[0],u=0;u<h.length;u++)if(f=h[u],f.applies_to(d)&&f.min!==f.max){p=!0;break}o.filters_available!==p&&(o.filters_available=p,o.filters_available||o.filters_manager.hide(),o.update_icons())}if(e[0]instanceof U){var m=!0;for(a=0;a<e.length;a++)if(!e[a].all_slotted){m=!1;break}this.action_icons.show_more_rows_icon.toggle(!m)}else this.action_icons.show_more_rows_icon.hide()},update_auto_mode:function(t){"Auto"===this.mode&&("no_detail"===t&&(t="feature spans"),this.action_icons.mode_icon.attr("title","Set display mode (now: Auto/"+t+")"))},incremental_slots:function(t,e,i){var n=this.view.canvas_manager.dummy_context,r=this.slotters[t];return r&&r.mode===i||(r=new g.default.FeatureSlotter(t,i,100,function(t){return n.measureText(t)}),this.slotters[t]=r),r.slot_features(e)},get_mode:function(t){return"no_detail"===t.extra_info||this.is_overview?"no_detail":this.view.high-this.view.low>12e3?"Squish":"Pack"},get_canvas_height:function(t,e,i,n){if("Coverage"===e||"bigwig"===t.dataset_type)return this.summary_draw_height;var r=this.incremental_slots(i,t.data,e),a=new this.painter(null,null,null,this.config.to_key_value_dict(),e);return Math.max(this.min_height_px,a.get_required_height(r,n))},draw_tile:function(t,e,i,n,r,a,o){var s=this,l=e.canvas,c=n.get("start"),u=n.get("end"),h=this.left_offset;if("bigwig"===t.dataset_type)return this._draw_line_track_tile(t,e,i,n,r);var d=[],f=this.slotters[r].slots,p=!0;if(t.data)for(var m=this.filters_manager.filters,g=0,v=t.data.length;g<v;g++){for(var _,y=t.data[g],b=!1,w=0,x=m.length;w<x;w++)if(_=m[w],_.update_attrs(y),!_.keep(y)){b=!0;break}b||(d.push(y),y[0]in f||(p=!1))}var k=this.filters_manager.alpha_filter?new F(this.filters_manager.alpha_filter):null,C=this.filters_manager.height_filter?new F(this.filters_manager.height_filter):null,S=new this.painter(d,c,u,this.config.to_key_value_dict(),i,k,C,a,function(t){return s.view.get_base_color(t)}),T=null;if(e.fillStyle=this.config.get_value("block_color"),e.font=e.canvas.manager.default_font,e.textAlign="right",t.data){var A=S.draw(e,l.width,l.height,r,f);T=A.feature_mapper,incomplete_features=A.incomplete_features,T.translation=-h}return o?void 0:new U(s,n,r,l,t.data,i,t.message,p,T,incomplete_features,a)}});var tt=function(t,e,i){G.call(this,t,e,i),this.painter=_.default.VariantPainter,this.summary_draw_height=30,this.left_offset=30};O(tt.prototype,R.prototype,G.prototype,{display_modes:["Auto","Coverage","Dense","Squish","Pack"],build_config_params:function(){return l.union(R.prototype.config_params,[{key:"color",label:"Histogram color",type:"color"},{key:"show_sample_data",label:"Show sample data",type:"bool",default_value:!0},{key:"show_labels",label:"Show summary and sample labels",type:"bool",default_value:!0},{key:"summary_height",label:"Locus summary height",type:"float",default_value:20},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:0,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},draw_tile:function(t,e,i,n,r){if("bigwig"===t.dataset_type)return this._draw_line_track_tile(t,e,"Histogram",n,r);var a=this.view;return new this.painter(t.data,n.get("start"),n.get("end"),this.config.to_key_value_dict(),i,function(t){return a.get_base_color(t)}).draw(e,e.canvas.width,e.canvas.height,r),new B(this,n,r,e.canvas,t.data)},get_canvas_height:function(t,e,i,n){if("bigwig"===t.dataset_type)return this.summary_draw_height;var r=this.dataset.get_metadata("sample_names")?this.dataset.get_metadata("sample_names").length:0;return 0===r&&0!==t.data.length&&(r=t.data[0][7].match(/,/g),r=null===r?1:r.length+1),new this.painter(null,null,null,this.config.to_key_value_dict(),e).get_required_height(r)},predraw_init:function(){var t=[W.prototype.predraw_init.call(this)];return this.dataset.get_metadata("sample_names")||t.push(this.dataset.fetch()),t},postdraw_actions:function(e,i,n,r){G.prototype.postdraw_actions.call(this,e,i,n,r);var a=l.filter(e,function(t){return t instanceof V}),o=this.dataset.get_metadata("sample_names");if(0===a.length&&this.config.get_value("show_labels")&&o&&o.length>1){var s;if(0===this.container_div.find(".yaxislabel.variant").length&&(s=this.config.get_value("summary_height")/2,this.tiles_div.prepend(t("<div/>").text("Summary").addClass("yaxislabel variant top").css({"font-size":s+"px",top:(this.config.get_value("summary_height")-s)/2+"px"})),this.config.get_value("show_sample_data"))){var c=o.join("<br/>");this.tiles_div.prepend(t("<div/>").html(c).addClass("yaxislabel variant top sample").css({top:this.config.get_value("summary_height")}))}s=("Squish"===this.mode?5:10)+"px",t(this.tiles_div).find(".sample").css({"font-size":s,"line-height":s}),t(this.tiles_div).find(".yaxislabel").css("color",this.config.get_value("label_color"))}else this.container_div.find(".yaxislabel.variant").remove()}});var et=function(t,e,i){Z.call(this,t,e,i),this.painter=_.default.ReadPainter,this.update_icons()};O(et.prototype,R.prototype,G.prototype,Z.prototype,{build_config_params:function(){return l.union(R.prototype.config_params,[{key:"block_color",label:"Histogram color",type:"color"},{key:"detail_block_color",label:"Sense strand block color",type:"color",default_value:"#AAAAAA"},{key:"reverse_strand_color",label:"Antisense strand block color",type:"color",default_value:"#DDDDDD"},{key:"label_color",label:"Label color",type:"color",default_value:"black"},{key:"show_insertions",label:"Show insertions",type:"bool",default_value:!1},{key:"show_differences",label:"Show differences only",type:"bool",default_value:!0},{key:"show_counts",label:"Show summary counts",type:"bool",default_value:!0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"min_value",label:"Histogram minimum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"max_value",label:"Histogram maximum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"height",type:"int",default_value:0,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})}});var it={CompositeTrack:Y,DrawableGroup:I,DiagonalHeatmapTrack:Q,FeatureTrack:Z,LineTrack:K,ReadTrack:et,VariantTrack:tt,VcfTrack:tt},nt=function(t,e,i){if("copy"in t)return t.copy(i);var n=t.obj_type;return n||(n=t.track_type),new it[n](e,i,t)};e.default={TracksterView:L,DrawableGroup:I,LineTrack:K,FeatureTrack:Z,DiagonalHeatmapTrack:Q,ReadTrack:et,VariantTrack:tt,CompositeTrack:Y,object_from_template:nt}}).call(e,i(0),i(2))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(r),o=t.View.extend({className:"track-header",initialize:function(){this.model.config.get("name").on("change:value",this.update_name,this),this.render()},render:function(){this.$el.append(n("<div/>").addClass(this.model.drag_handle_class)),this.$el.append(n("<div/>").addClass("track-name").text(this.model.config.get_value("name"))),this.action_icons={},this.render_action_icons(),this.$el.dblclick(function(t){t.stopPropagation()}),this.$el.append(n("<div style='clear: both'/>"))},update_name:function(){this.$el.find(".track-name").text(this.model.config.get_value("name"))},render_action_icons:function(){var t=this;this.icons_div=n("<div/>").addClass("track-icons").hide().appendTo(this.$el),a.each(this.model.action_icons_def,function(e){t.add_action_icon(e.name,e.title,e.css_class,e.on_click_fn,e.prepend,e.hide)}),this.set_display_modes(this.model.display_modes)},add_action_icon:function(t,e,i,r,a,o){var s=this;this.action_icons[t]=n("<a/>").attr("title",e).addClass("icon-button").addClass(i).tooltip().click(function(){r(s.model)}).appendTo(this.icons_div),o&&this.action_icons[t].hide()},set_display_modes:function(t,e){if(t){this.model.display_modes=t,this.model.mode=e||this.model.config.get_value("mode")||this.model.display_modes[0],this.action_icons.mode_icon.attr("title","Set display mode (now: "+this.mode+")");for(var i=this.model,n={},r=0,a=i.display_modes.length;r<a;r++){var o=i.display_modes[r];n[o]=function(t){return function(){i.change_mode(t)}}(o)}make_popupmenu(this.action_icons.mode_icon,n)}}});e.default={TrackHeaderView:o}}).call(e,i(2),i(0))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),a=r.extend,o=function(t,e){this.slot=t,this.feature=e},s=function(t,e,i,n){this.slots={},this.start_end_dct={},this.w_scale=t,this.mode=e,this.include_label="Pack"===e,this.max_rows=i,this.measureText=n};a(s.prototype,{_get_draw_coords:function(t){var e=Math.floor(t[1]*this.w_scale),i=Math.ceil(t[2]*this.w_scale),n=t[3];if(void 0!==n&&this.include_label){var r=this.measureText(n).width+7;e-r>=0?(e-=r,"left"):(i+=r,"right")}return[e,i]},_find_slot:function(t){for(var e=t[0],i=t[1],n=0;n<=this.max_rows;n++){var r=!1,a=this.start_end_dct[n];if(void 0!==a)for(var o=0,s=a.length;o<s;o++){var l=a[o];if(i>l[0]&&e<l[1]){r=!0;break}}if(!r)return n}return-1},slot_features:function(t){for(var e,i,n=this.start_end_dct,r=[],a=0,s=0,l=t.length;s<l;s++){e=t[s],i=e[0];var c=this.slots[i];if(c){if(e[1]<c.feature[1]||c.feature[2]<e[2])for(var u=this._get_draw_coords(c.feature),h=this._get_draw_coords(e),d=this.start_end_dct[c.slot],f=0;f<d.length;f++){var p=d[f];p[0]===u[0]&&p[1]===u[1]&&(d[f]=h)}a=Math.max(a,this.slots[i].slot)}else r.push(s)}for(var s=0,l=r.length;s<l;s++){e=t[r[s]],i=e[0];var m=this._get_draw_coords(e),g=this._find_slot(m);g>=0&&(void 0===n[g]&&(n[g]=[]),n[g].push(m),this.slots[i]=new o(g,e),a=Math.max(a,g))}return a+1}}),e.default={FeatureSlotter:s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),a=function(t,e){var i=t[0],n=t[1],r=e[0],a=e[1];return i<r?n<=r?1001:n<=a?1003:1002:i>a?1006:n<=a?1005:1004},o=function(t,e){var i=a(t,e);return 1001!==i&&1006!==i},s=function(t,e,i,n,r,a){void 0===a&&(a=4);var o,s=n-e,l=r-i,c=Math.floor(Math.sqrt(s*s+l*l)/a),u=s/c,h=l/c;for(o=0;o<c;o++,e+=u,i+=h)o%2==0&&t.fillRect(e,i,a,1)},l=function(t,e,i,n){var r=e-n/2,a=e+n/2,o=i-Math.sqrt(3*n/2);t.beginPath(),t.moveTo(r,o),t.lineTo(a,o),t.lineTo(e,i),t.lineTo(r,o),t.strokeStyle=this.fillStyle,t.fill(),t.stroke(),t.closePath()},c=function(t){this.default_val=t||1};c.prototype.gen_val=function(t){return this.default_val};var u=function(t){this.incomplete_features=t.incomplete_features,this.feature_mapper=t.feature_mapper},h=function(t,e,i,n,a){this.data=t,this.view_start=e,this.view_end=i,this.prefs=r.extend({},this.default_prefs,n),this.mode=a};h.prototype.default_prefs={},h.prototype.draw=function(t,e,i,n){},h.prototype.get_start_draw_pos=function(t,e){return this._chrom_pos_to_draw_pos(t,e,-.5)},h.prototype.get_end_draw_pos=function(t,e){return this._chrom_pos_to_draw_pos(t,e,.5)},h.prototype.get_draw_pos=function(t,e){return this._chrom_pos_to_draw_pos(t,e,0)},h.prototype._chrom_pos_to_draw_pos=function(t,e,i){return Math.floor(e*(Math.max(0,t-this.view_start)+i))};var d=function(t,e,i,n,r){h.call(this,t,e,i,n,r)};d.prototype.default_prefs={min_value:void 0,max_value:void 0,mode:"Histogram",color:"#000",overflow_color:"#F66"},d.prototype.draw=function(t,e,i,n){var a=!1,o=this.prefs.min_value,s=this.prefs.max_value,l=s-o,c=i,u=this.view_start,h=this.mode,d=this.data;t.save();var f=Math.round(i+o/l*i);"Intensity"!==h&&(t.fillStyle="#aaa",t.fillRect(0,f,e,1)),t.beginPath();var p,m,g;g=d.length>1?r.map(d.slice(0,-1),function(t,e){return Math.ceil((d[e+1][0]-d[e][0])*n)}):[10];for(var v,_=this.prefs.block_color||this.prefs.color,y=parseInt(_.slice(1),16),b=(16711680&y)>>16,w=(65280&y)>>8,x=255&y,k=!1,C=!1,S=0,T=d.length;S<T;S++)if(t.fillStyle=t.strokeStyle=_,k=C=!1,v=g[S],p=Math.floor((d[S][0]-u-.5)*n),null!==(m=d[S][1])){if(m<o?(C=!0,m=o):m>s&&(k=!0,m=s),"Histogram"===h)m=Math.round(m/l*c),t.fillRect(p,f,v,-m);else if("Intensity"===h){var A=(m-o)/l,M=Math.round(b+(255-b)*(1-A)),O=Math.round(w+(255-w)*(1-A)),E=Math.round(x+(255-x)*(1-A));t.fillStyle="rgb("+M+","+O+","+E+")",t.fillRect(p,0,v,c)}else m=Math.round(c-(m-o)/l*c),a?t.lineTo(p,m):(a=!0,"Filled"===h?(t.moveTo(p,c),t.lineTo(p,m)):t.moveTo(p,m));if(t.fillStyle=this.prefs.overflow_color,k||C){var $;"Histogram"===h||"Intensity"===h?$=v:(p-=2,$=4),k&&t.fillRect(p,0,$,3),C&&t.fillRect(p,c-3,$,3)}t.fillStyle=_}else a&&"Filled"===h&&t.lineTo(p,c),a=!1;"Filled"===h?(a&&(t.lineTo(p,f),t.lineTo(0,f)),t.fill()):t.stroke(),t.restore()};var f=function(t){this.feature_positions={},this.slot_height=t,this.translation=0,this.y_translation=0};f.prototype.map_feature_data=function(t,e,i,n){this.feature_positions[e]||(this.feature_positions[e]=[]),this.feature_positions[e].push({data:t,x_start:i,x_end:n})},f.prototype.get_feature_data=function(t,e){var i,n=Math.floor((e-this.y_translation)/this.slot_height);if(!this.feature_positions[n])return null;t+=this.translation;for(var r=0;r<this.feature_positions[n].length;r++)if(i=this.feature_positions[n][r],t>=i.x_start&&t<=i.x_end)return i.data};var p=function(t,e,i,n,r,a,o){h.call(this,t,e,i,n,r),this.alpha_scaler=a||new c,this.height_scaler=o||new c,this.max_label_length=200};p.prototype.default_prefs={block_color:"#FFF",connector_color:"#FFF"},r.extend(p.prototype,{get_required_height:function(t,e){var i=this.get_row_height(),n=i,r=this.mode;return"no_detail"!==r&&"Squish"!==r&&"Pack"!==r||(i=t*n),i+this.get_top_padding(e)},get_top_padding:function(t){return 0},draw:function(t,e,i,n,r){var a=this.data,o=this.view_start,s=this.view_end;t.save(),t.fillStyle=this.prefs.block_color,t.textAlign="right";for(var l,c=this.get_row_height(),h=new f(c),d=[],p=0,m=a.length;p<m;p++){var g=a[p],v=g[0],_=g[1],y=g[2],b=r&&void 0!==r[v]?r[v].slot:null;("Dense"===this.mode||null!==b)&&_<s&&y>o&&(l=this.draw_element(t,this.mode,g,b,o,s,n,c,e),h.map_feature_data(g,b,l[0],l[1]),(_<o||y>s)&&d.push(g))}return t.restore(),h.y_translation=this.get_top_padding(e),new u({incomplete_features:d,feature_mapper:h})},draw_element:function(t,e,i,n,r,a,o,s,l){return[0,0]}});var m=function(t,e,i,n,r,a,o){p.call(this,t,e,i,n,r,a,o),this.draw_background_connector=!0,this.draw_individual_connectors=!1};r.extend(m.prototype,p.prototype,{get_row_height:function(){var t=this.mode;return"Dense"===t?10:"no_detail"===t?3:"Squish"===t?5:10},draw_element:function(t,e,i,n,r,a,o,s,l){var c,u=(i[0],i[1]),h=i[2],d=i[3],f=i[4],p=Math.floor(Math.max(0,(u-r-.5)*o)),m=Math.ceil(Math.min(l,Math.max(0,(h-r-.5)*o))),g=p,v=m,c=("Dense"===e?0:0+n)*s+this.get_top_padding(l),_=null,y=null,b=f&&"+"!==f&&"."!==f?this.prefs.reverse_strand_color:this.prefs.block_color,w=this.prefs.label_color;if(t.globalAlpha=this.alpha_scaler.gen_val(i),"Dense"===e&&(n=1),"no_detail"===e)t.fillStyle=b,t.fillRect(p,c+5,m-p,1);else{var x=i[5],k=i[6],C=i[7],S=!0;x&&k&&(_=Math.floor(Math.max(0,(x-r)*o)),y=Math.ceil(Math.min(l,Math.max(0,(k-r)*o))));var T,A;if("Squish"===e?(T=1,A=3,S=!1):(T=5,A=9),C){var M,O;"Squish"===e||"Dense"===e?(M=c+Math.floor(1.5)+1,O=1):f?(M=c,O=A):(M+=2.5,O=1),this.draw_background_connector&&("Squish"===e||"Dense"===e?t.fillStyle="#ccc":f?"+"===f?t.fillStyle=t.canvas.manager.get_pattern("right_strand"):"-"===f&&(t.fillStyle=t.canvas.manager.get_pattern("left_strand")):t.fillStyle="#ccc",t.fillRect(p,M,m-p,O));for(var E=0,$=C.length;E<$;E++){var j,D,P=C[E],R=Math.floor(Math.max(0,(P[0]-r-.5)*o)),N=Math.ceil(Math.min(l,Math.max((P[1]-r-.5)*o)));if(!(R>N)){if(t.fillStyle=b,t.fillRect(R,c+(A-T)/2+1,N-R,T),void 0!==_&&k>x&&!(R>y||N<_)){var I=Math.max(R,_),L=Math.min(N,y);t.fillRect(I,c+1,L-I,A),1===C.length&&"Pack"===e&&("+"===f?t.fillStyle=t.canvas.manager.get_pattern("right_strand_inv"):"-"===f&&(t.fillStyle=t.canvas.manager.get_pattern("left_strand_inv")),I+14<L&&(I+=2,L-=2),t.fillRect(I,c+1,L-I,A))}this.draw_individual_connectors&&j&&this.draw_connector(t,j,D,R,N,c),j=R,D=N}}if("Pack"===e){t.globalAlpha=1,t.fillStyle="white";var z=this.height_scaler.gen_val(i),H=Math.ceil(A*z),q=Math.round((A-H)/2);1!==z&&(t.fillRect(p,M+1,m-p,q),t.fillRect(p,M+A-q+1,m-p,q))}}else t.fillStyle=b,t.fillRect(p,c+1,m-p,A),f&&S&&("+"===f?t.fillStyle=t.canvas.manager.get_pattern("right_strand_inv"):"-"===f&&(t.fillStyle=t.canvas.manager.get_pattern("left_strand_inv")),t.fillRect(p,c+1,m-p,A));t.globalAlpha=1,d&&"Pack"===e&&u>r&&(t.fillStyle=w,0===r&&p-t.measureText(d).width<0?(t.textAlign="left",t.fillText(d,m+2,c+8,this.max_label_length),v+=t.measureText(d).width+2):(t.textAlign="right",t.fillText(d,p-2,c+8,this.max_label_length),g-=t.measureText(d).width+2))}return t.globalAlpha=1,[g,v]}});var g=function(t,e,i,n,r,a,o,s,l){p.call(this,t,e,i,n,r,a,o),this.ref_seq=s?s.data:null,this.base_color_fn=l};r.extend(g.prototype,p.prototype,{get_row_height:function(){var t,e=this.mode;return"Dense"===e?t=10:"Squish"===e?t=5:(t=10,this.prefs.show_insertions&&(t*=2)),t},_parse_cigar:function(t){var e="MIDNSHP=X",i=[[0,0]],n=i[0],a=0,o=r.map(t.match(/[0-9]+[MIDNSHP=X]/g),function(t){var r=parseInt(t.slice(0,-1),10),o=t.slice(-1);return"N"===o?0!==n[1]&&(n=[a+r,a+r],i.push(n)):-1==="ISHP".indexOf(o)&&(n[1]+=r,a+=r),[e.indexOf(o),r]});return{blocks:i,cigar:o}},draw_read:function(t,e,i,n,r,s,c,u,h,d){var f=function(t){return Math.floor(Math.max(0,(t-r-.5)*i))};t.textAlign="center";var p,m,g=[r,s],v=0,_=0,y=Math.round(i/2),b=t.canvas.manager.char_width_px,w="+"===h?this.prefs.detail_block_color:this.prefs.reverse_strand_color,k="Pack"===e,C=k?9:3,S=n+1,T=new x(t,C,i,e),A=[],M=[],O=this._parse_cigar(u);u=O.cigar,A=O.blocks;for(var E=0;E<A.length;E++){var $=A[E];o([c+$[0],c+$[1]],g)&&(p=f(c+$[0]),m=f(c+$[1]),p===m&&(m+=1),t.fillStyle=w,t.fillRect(p,S,m-p,C))}for(var j=0,D=u.length;j<D;j++){var P=u[j],R="MIDNSHP=X"[P[0]],N=P[1],I=c+v;if(p=f(I),m=f(I+N),o([I,I+N],g))switch(p===m&&(m+=1),R){case"H":case"S":case"P":break;case"M":v+=N;break;case"=":case"X":var L="";"X"===R?L=d.slice(_,_+N):this.ref_seq&&(L=this.ref_seq.slice(Math.max(0,I-r),Math.min(I-r+N,s-r)));for(var z=Math.max(I,r),H=0;H<L.length;H++)if(L&&!this.prefs.show_differences||"X"===R){var q=Math.floor(Math.max(0,(z+H-r)*i));t.fillStyle=this.base_color_fn(L[H]),k&&i>b?t.fillText(L[H],q,n+9):i>.05&&t.fillRect(q-y,S,Math.max(1,Math.round(i)),C)}"X"===R&&(_+=N),v+=N;break;case"N":t.fillStyle="#ccc",t.fillRect(p,S+(C-1)/2,m-p,1),v+=N;break;case"D":T.draw_deletion(p,S,N),v+=N;break;case"I":var F=p-y;if(o([I,I+N],g)){var B=d.slice(_,_+N);if(this.prefs.show_insertions){var V=p-(m-p)/2;if(("Pack"===e||"Auto"===this.mode)&&void 0!==d&&i>b){switch(t.fillStyle="yellow",t.fillRect(V-y,n-9,m-p,9),M[M.length]={type:"triangle",data:[F,n+4,5]},t.fillStyle="#ccc",a([I,I+N],g)){case 1003:B=B.slice(r-I);break;case 1004:B=B.slice(0,I-s);break;case 1005:break;case 1002:B=B.slice(r-I,I-s)}for(var H=0,U=B.length;H<U;H++){var q=Math.floor(Math.max(0,(I+H-r)*i));t.fillText(B[H],q-(m-p)/2,n)}}else t.fillStyle="yellow",t.fillRect(V,n+("Dense"!==this.mode?2:5),m-p,"Dense"!==e?3:9)}else("Pack"===e||"Auto"===this.mode)&&void 0!==d&&i>b&&M.push({type:"text",data:[B.length,F,n+9]})}_+=N}else v=function(t,e,i){return-1!=="M=NXD".indexOf(e)&&(t+=i),t}(v,R,N),_=function(t,e,i){return-1!=="IX".indexOf(e)&&(t+=i),t}(_,R,N)}t.fillStyle="yellow";for(var W,G,X,E=0;E<M.length;E++)W=M[E],G=W.type,X=W.data,"text"===G?(t.save(),t.font="bold "+t.font,t.fillText(X[0],X[1],X[2]),t.restore()):"triangle"===G&&l(t,X[0],X[1],X[2])},draw_element:function(t,e,i,n,r,a,o,l,c){var u=(i[0],i[1]),h=i[2],d=i[3],f=Math.floor(Math.max(-.5*o,(u-r-.5)*o)),p=Math.ceil(Math.min(c,Math.max(0,(h-r-.5)*o))),m=("Dense"===e?0:0+n)*l,g="Pack"===e?9:3;this.prefs.label_color;if(i[5]instanceof Array){var v=!0;i[4][1]>=r&&i[4][0]<=a&&i[4][2]?this.draw_read(t,e,o,m,r,a,i[4][0],i[4][2],i[4][3],i[4][4]):v=!1,i[5][1]>=r&&i[5][0]<=a&&i[5][2]?this.draw_read(t,e,o,m,r,a,i[5][0],i[5][2],i[5][3],i[5][4]):v=!1;var _=Math.ceil(Math.min(c,Math.max(-.5*o,(i[4][1]-r-.5)*o))),y=Math.floor(Math.max(-.5*o,(i[5][0]-r-.5)*o));if(v&&y>_){t.fillStyle="#ccc";var b=m+1+(g-1)/2;s(t,_,b,y,b)}}else this.draw_read(t,e,o,m,r,a,u,i[4],i[5],i[6]);return"Pack"===e&&u>=r&&"."!==d&&(t.fillStyle=this.prefs.label_color,0===r&&f-t.measureText(d).width<0?(t.textAlign="left",t.fillText(d,p+2,m+9,this.max_label_length)):(t.textAlign="right",t.fillText(d,f-2,m+9,this.max_label_length))),[0,0]}});var v=function(t,e,i,n,r,a,o){m.call(this,t,e,i,n,r,a,o),this.longest_feature_length=this.calculate_longest_feature_length(),this.draw_background_connector=!1,this.draw_individual_connectors=!0};r.extend(v.prototype,p.prototype,m.prototype,{calculate_longest_feature_length:function(){for(var t=0,e=0,i=this.data.length;e<i;e++){var n=this.data[e],r=n[1],a=n[2];t=Math.max(t,a-r)}return t},get_top_padding:function(t){var e=this.view_end-this.view_start,i=t/e;return Math.min(128,Math.ceil(this.longest_feature_length/2*i))},draw_connector:function(t,e,i,n,r,a){var o=(i+n)/2,s=n-o;Math.PI;s>0&&(t.beginPath(),t.arc(o,a,n-o,Math.PI,0),t.stroke())}});var _=function(t,e){Array.isArray(t)?this.rgb=t:6==t.length?this.rgb=t.match(/.{2}/g).map(function(t){return parseInt(t,16)}):7==t.length?this.rgb=t.substring(1,7).match(/.{2}/g).map(function(t){return parseInt(t,16)}):this.rgb=t.split("").map(function(t){return parseInt(t+t,16)}),this.alpha="number"==typeof e?e:1};_.prototype={eval:function(){return this},toCSS:function(){return this.alpha<1?"rgba("+this.rgb.map(function(t){return Math.round(t)}).concat(this.alpha).join(", ")+")":"#"+this.rgb.map(function(t){return t=Math.round(t),t=(t>255?255:t<0?0:t).toString(16),1===t.length?"0"+t:t}).join("")},toHSL:function(){var t,e,i=this.rgb[0]/255,n=this.rgb[1]/255,r=this.rgb[2]/255,a=this.alpha,o=Math.max(i,n,r),s=Math.min(i,n,r),l=(o+s)/2,c=o-s;if(o===s)t=e=0;else{switch(e=l>.5?c/(2-o-s):c/(o+s),o){case i:t=(n-r)/c+(n<r?6:0);break;case n:t=(r-i)/c+2;break;case r:t=(i-n)/c+4}t/=6}return{h:360*t,s:e,l:l,a:a}},toARGB:function(){return"#"+[Math.round(255*this.alpha)].concat(this.rgb).map(function(t){return t=Math.round(t),t=(t>255?255:t<0?0:t).toString(16),1===t.length?"0"+t:t}).join("")},mix:function(t,e){var i=this,n=e,r=2*n-1,a=i.toHSL().a-t.toHSL().a,o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,s=1-o,l=[i.rgb[0]*o+t.rgb[0]*s,i.rgb[1]*o+t.rgb[1]*s,i.rgb[2]*o+t.rgb[2]*s],c=i.alpha*n+t.alpha*(1-n);return new _(l,c)}};var y=function(t,e,i,n){this.start_color=new _(t),this.end_color=new _(e),this.start_value=i,this.end_value=n,this.value_range=n-i};y.prototype.map_value=function(t){return t=Math.max(t,this.start_value),t=Math.min(t,this.end_value),t=(t-this.start_value)/this.value_range,this.start_color.mix(this.end_color,1-t).toCSS()};var b=function(t,e,i,n,r){this.positive_ramp=new y(e,i,0,r),this.negative_ramp=new y(e,t,0,-n),this.start_value=n,this.end_value=r};b.prototype.map_value=function(t){return t=Math.max(t,this.start_value),t=Math.min(t,this.end_value),t>=0?this.positive_ramp.map_value(t):this.negative_ramp.map_value(-t)};var w=function(t,e,i,n,r){h.call(this,t,e,i,n,r);var a,o;if(void 0===this.prefs.min_value){var s=1/0;for(a=0,o=this.data.length;a<o;a++)s=Math.min(s,this.data[a][6]);this.prefs.min_value=s}if(void 0===this.prefs.max_value){var l=-1/0;for(a=0,o=this.data.length;a<o;a++)l=Math.max(l,this.data[a][6]);this.prefs.max_value=l}};w.prototype.default_prefs={min_value:void 0,max_value:void 0,mode:"Heatmap",pos_color:"#FF8C00",neg_color:"#4169E1"},w.prototype.draw=function(t,e,i,n){var r,a,o,s,l,c,u=this.prefs.min_value,h=this.prefs.max_value,d=this.view_start,f=(this.mode,this.data),p=1/Math.sqrt(2),m=new b(this.prefs.neg_color,"#FFFFFF",this.prefs.pos_color,u,h),g=function(t){return(t-d)*n};t.save(),t.rotate(-45*Math.PI/180),t.scale(p,p);for(var v=0,_=f.length;v<_;v++)r=f[v],a=g(r[1]),o=g(r[2]),s=g(r[4]),l=g(r[5]),c=r[6],t.fillStyle=m.map_value(c),t.fillRect(a,s,o-a,l-s);t.restore()};var x=function(t,e,i,n){this.ctx=t,this.row_height=e,this.px_per_base=i,this.draw_details=("Pack"===n||"Auto"===n)&&i>=t.canvas.manager.char_width_px,this.delete_details_thickness=.2};r.extend(x.prototype,{draw_deletion:function(t,e,i){this.ctx.fillStyle="black";var n=(this.draw_details?this.delete_details_thickness:1)*this.row_height;e+=.5*(this.row_height-n),this.ctx.fillRect(t,e,i*this.px_per_base,n)}});var k=function(t,e,i,n,r,a){h.call(this,t,e,i,n,r),this.base_color_fn=a,this.divider_height=1};r.extend(k.prototype,h.prototype,{get_row_height:function(){var t=this.mode;return"Dense"===t?10:"Squish"===t?5:10},get_required_height:function(t){var e=this.prefs.summary_height;return t>1&&this.prefs.show_sample_data&&(e+=this.divider_height+t*this.get_row_height()),e},draw:function(t,e,i,n){t.save();var a,o,s,l,c,u,h,d,f,p,m,g=function(t,e){var i=t.length,n=e.length,r=0,a=1,o=null;return"-"===e?(o="deletion",a=t.length):0===t.indexOf(e)&&i>n?(o="deletion",a=i-n,r=n):0===e.indexOf(t)&&i<n&&(o="insertion",a=n-i,r=n),null!==o?{type:o,start:r,len:a}:{}},v=Math.max(1,Math.floor(n)),_=this.data.length?this.data[0][7].split(",").length:0,y="Squish"===this.mode?5:10,b=n<.1?y:"Squish"===this.mode?3:9,w=!0,k=new x(t,y,n,this.mode);1===_&&(y=b=n<t.canvas.manager.char_width_px?this.prefs.summary_height:y,k.row_height=y,w=!1),this.prefs.show_sample_data&&w&&(t.fillStyle="#F3F3F3",t.globalAlpha=1,t.fillRect(0,this.prefs.summary_height-this.divider_height,e,this.divider_height)),t.textAlign="center";for(var C=0;C<this.data.length;C++)if(a=this.data[C],o=a[1],s=a[3],l=[a[4].split(",")],c=a[7].split(","),u=a.slice(8),l=r.map(r.flatten(l),function(t){var e={type:"snp",value:t,start:0},i=g(s,t);return r.extend(e,i)}),!(o<this.view_start||o>this.view_end)){if(w)for(t.fillStyle="#999999",t.globalAlpha=1,m=0;m<l.length;m++)for(d=this.get_start_draw_pos(o+l[m].start,n),t.fillRect(d,0,v,this.prefs.summary_height),f=this.prefs.summary_height,m=0;m<l.length;m++){t.fillStyle="deletion"===l[m].type?"black":this.base_color_fn(l[m].value);var S=u/c.length,T=Math.ceil(this.prefs.summary_height*S);t.fillRect(d,f-T,v,T),f-=T}if(this.prefs.show_sample_data)for(f=w?this.prefs.summary_height+this.divider_height:0,m=0;m<c.length;m++,f+=y)if(p=c[m]?c[m].split(/\/|\|/):["0","0"],h=null,p[0]===p[1]?"."===p[0]||"0"!==p[0]&&(h=l[parseInt(p[0],10)-1],t.globalAlpha=1):(h="0"!==p[0]?p[0]:p[1],h=l[parseInt(h,10)-1],t.globalAlpha=.5),h)if(d=this.get_start_draw_pos(o+h.start,n),"snp"===h.type){var A=h.value;t.fillStyle=this.base_color_fn(A),k.draw_details?t.fillText(A,this.get_draw_pos(o,n),f+y):t.fillRect(d,f+1,v,b)}else"deletion"===h.type&&k.draw_deletion(d,f+1,h.len)}t.restore()}}),e.default={Scaler:c,LinePainter:d,LinkedFeaturePainter:m,ReadPainter:g,ArcLinkedFeaturePainter:v,DiagonalHeatmapPainter:w,VariantPainter:k}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),a=r.extend,o=function(t){this.manager=null,this.name=t.name,this.index=t.index,this.tool_id=t.tool_id,this.tool_exp_name=t.tool_exp_name};a(o.prototype,{to_dict:function(){return{name:this.name,index:this.index,tool_id:this.tool_id,tool_exp_name:this.tool_exp_name}}});var s=function(e,i,n){return t("<a/>").attr("href","javascript:void(0);").attr("title",e).addClass("icon-button").addClass(i).tooltip().click(n)},l=function(e){o.call(this,e),this.low="low"in e?e.low:-Number.MAX_VALUE,this.high="high"in e?e.high:Number.MAX_VALUE,this.min="min"in e?e.min:Number.MAX_VALUE,this.max="max"in e?e.max:-Number.MAX_VALUE,this.container=null,this.slider=null,this.slider_label=null;var i=this;i.parent_div=t("<div/>").addClass("filter-row slider-row");var n=t("<div/>").addClass("elt-label").appendTo(i.parent_div),r=(t("<span/>").addClass("slider-name").text(i.name+"  ").appendTo(n),t("<span/>").text(this.low+"-"+this.high)),a=t("<span/>").addClass("slider-value").appendTo(n).append("[").append(r).append("]");i.values_span=r;var l=t("<div/>").addClass("slider").appendTo(i.parent_div);i.control_element=t("<div/>").attr("id",i.name+"-filter-control").appendTo(l),i.control_element.slider({range:!0,min:this.min,max:this.max,step:this.get_slider_step(this.min,this.max),values:[this.low,this.high],slide:function(t,e){i.slide(t,e)},change:function(t,e){i.control_element.slider("option","slide").call(i.control_element,t,e)}}),i.slider=i.control_element,i.slider_label=r,function(e,i,n){e.click(function(){var e=i.text(),r=parseFloat(n.slider("option","max")),a=r<=1?4:r<=1e6?r.toString().length:6,o=!1,s=t(this).parents(".slider-row");s.addClass("input"),n.slider("option","values")&&(a=2*a+1,o=!0),i.text(""),t("<input type='text'/>").attr("size",a).attr("maxlength",a).attr("value",e).appendTo(i).focus().select().click(function(t){t.stopPropagation()}).blur(function(){t(this).remove(),i.text(e),s.removeClass("input")}).keyup(function(e){if(27===e.keyCode)t(this).trigger("blur");else if(13===e.keyCode){var i=n.slider("option","min"),r=n.slider("option","max"),a=function(t){return isNaN(t)||t>r||t<i},l=t(this).val();if(o){if(l=l.split("-"),l=[parseFloat(l[0]),parseFloat(l[1])],a(l[0])||a(l[1]))return alert("Parameter value must be in the range ["+i+"-"+r+"]"),t(this)}else if(l=parseFloat(l),a(l))return alert("Parameter value must be in the range ["+i+"-"+r+"]"),t(this);n.slider(o?"values":"value",l),s.removeClass("input")}})})}(a,r,i.control_element);var c=t("<div/>").addClass("display-controls").appendTo(i.parent_div);this.transparency_icon=s("Use filter for data transparency","layer-transparent",function(){i.manager.alpha_filter!==i?(i.manager.alpha_filter=i,i.manager.parent_div.find(".layer-transparent").removeClass("active").hide(),i.transparency_icon.addClass("active").show()):(i.manager.alpha_filter=null,i.transparency_icon.removeClass("active")),i.manager.track.request_draw({force:!0,clear_after:!0})}).appendTo(c).hide(),this.height_icon=s("Use filter for data height","arrow-resize-090",function(){i.manager.height_filter!==i?(i.manager.height_filter=i,i.manager.parent_div.find(".arrow-resize-090").removeClass("active").hide(),i.height_icon.addClass("active").show()):(i.manager.height_filter=null,i.height_icon.removeClass("active")),i.manager.track.request_draw({force:!0,clear_after:!0})}).appendTo(c).hide(),i.parent_div.hover(function(){i.transparency_icon.show(),i.height_icon.show()},function(){i.manager.alpha_filter!==i&&i.transparency_icon.hide(),i.manager.height_filter!==i&&i.height_icon.hide()}),t("<div style='clear: both;'/>").appendTo(i.parent_div)};a(l.prototype,{to_dict:function(){var t=o.prototype.to_dict.call(this);return a(t,{type:"number",min:this.min,max:this.max,low:this.low,high:this.high})},copy:function(){return new l({name:this.name,index:this.index,tool_id:this.tool_id,tool_exp_name:this.tool_exp_name})},get_slider_step:function(t,e){return e-t<=2?.01:1},slide:function(t,e){var i=e.values;this.values_span.text(i[0]+"-"+i[1]),this.low=i[0],this.high=i[1];var n=this;setTimeout(function(){i[0]===n.low&&i[1]===n.high&&n.manager.track.request_draw({force:!0,clear_after:!0})},25)},applies_to:function(t){return t.length>this.index},_keep_val:function(t){return isNaN(t)||t>=this.low&&t<=this.high},keep:function(t){if(!this.applies_to(t))return!0;var e=t[this.index];if(e instanceof Array){for(var i=!0,n=0;n<e.length;n++)if(!this._keep_val(e[n])){i=!1;break}return i}return this._keep_val(t[this.index])},update_attrs:function(t){var e=!1;if(!this.applies_to(t))return e;var i=t[this.index];i instanceof Array||(i=[i]);for(var n=0;n<i.length;n++){var r=i[n];r<this.min&&(this.min=Math.floor(r),e=!0),r>this.max&&(this.max=Math.ceil(r),e=!0)}return e},update_ui_elt:function(){this.min<this.max?this.parent_div.show():this.parent_div.hide();var t=this.slider.slider("option","min"),e=this.slider.slider("option","max");(this.min<t||this.max>e)&&(this.slider.slider("option","min",this.min),this.slider.slider("option","max",this.max),this.slider.slider("option","step",this.get_slider_step(this.min,this.max)),this.slider.slider("option","values",[this.min,this.max]))}});var c=function(e,i){if(this.track=e,this.alpha_filter=null,this.height_filter=null,this.filters=[],this.parent_div=t("<div/>").addClass("filters").hide(),this.parent_div.bind("drag",function(t){t.stopPropagation()}).click(function(t){t.stopPropagation()}).bind("dblclick",function(t){t.stopPropagation()}).bind("keydown",function(t){t.stopPropagation()}),i&&"filters"in i){for(var n,r=("alpha_filter"in i?i.alpha_filter:null),a=("height_filter"in i?i.height_filter:null),o=i.filters,s=0;s<o.length;s++)"number"===o[s].type?(n=new l(o[s]),this.add_filter(n),n.name===r&&(this.alpha_filter=n,n.transparency_icon.addClass("active").show()),n.name===a&&(this.height_filter=n,n.height_icon.addClass("active").show())):console.log("ERROR: unsupported filter: ",name,type);"visible"in i&&i.visible&&this.parent_div.show()}if(0!==this.filters.length){var c=t("<div/>").addClass("param-row").appendTo(this.parent_div),u=this;t("<input type='submit'/>").attr("value","Run on complete dataset").appendTo(c).click(function(){u.run_on_dataset()})}};a(c.prototype,{show:function(){this.parent_div.show()},hide:function(){this.parent_div.hide()},toggle:function(){this.parent_div.toggle()},visible:function(){return this.parent_div.is(":visible")},to_dict:function(){for(var t,e={},i=[],n=0;n<this.filters.length;n++)t=this.filters[n],i.push(t.to_dict());return e.filters=i,e.alpha_filter=this.alpha_filter?this.alpha_filter.name:null,e.height_filter=this.height_filter?this.height_filter.name:null,e.visible=this.parent_div.is(":visible"),e},copy:function(t){for(var e=new c(t),i=0;i<this.filters.length;i++)e.add_filter(this.filters[i].copy());return e},add_filter:function(t){t.manager=this,this.parent_div.append(t.parent_div),this.filters.push(t)},remove_all:function(){this.filters=[],this.parent_div.children().remove()},init_filters:function(){for(var t=0;t<this.filters.length;t++){this.filters[t].update_ui_elt()}},clear_filters:function(){for(var t=0;t<this.filters.length;t++){var e=this.filters[t];e.slider.slider("option","values",[e.min,e.max])}this.alpha_filter=null,this.height_filter=null,this.parent_div.find(".icon-button").hide()},run_on_dataset:function(){for(var e,i,n=(function(t,e,i){return e in t||(t[e]=i),t[e]}),r={},a=0;a<this.filters.length;a++)e=this.filters[a],e.tool_id&&(e.min!==e.low&&(i=n(r,e.tool_id,[]),i[i.length]=e.tool_exp_name+" >= "+e.low),e.max!==e.high&&(i=n(r,e.tool_id,[]),i[i.length]=e.tool_exp_name+" <= "+e.high));var o=[];for(var s in r)o[o.length]=[s,r[s]];!function e(i,n){var r=n[0],a=r[0],o=r[1],s="("+o.join(") and (")+")",l={cond:s,input:i,target_dataset_id:i,tool_id:a};n=n.slice(1),t.getJSON(run_tool_url,l,function(t){t.error?Galaxy.modal.show({title:"Filter Dataset",body:"Error running tool "+a,buttons:{Close:Galaxy.modal.hide()}}):0===n.length?Galaxy.modal.show({title:"Filtering Dataset",body:"Filter(s) are running on the complete dataset. Outputs are in dataset's history.",buttons:{Close:Galaxy.modal.hide()}}):e(t.dataset_id,n)})}(this.track.dataset_id,o)}}),e.default={FiltersManager:c,NumberFilter:l}}).call(e,i(0))},function(t,e,i){"use strict";(function(t,n,r,a){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),l=o(s),c=i(6),u=(o(c),i(25)),h=o(u),d=i(145),f=o(d),p=i(146),m=o(p),g=i(147),v=o(g),_=t.View.extend({initialize:function(t,e){this.app=t,this.inputs=e.inputs,this.parameters=new v.default,this.setElement(n("<div/>")),this.render()},render:function(){var t=this;this.$el.empty(),r.each(this.inputs,function(e){t.add(e)})},add:function(t){var e=a.extend(!0,{},t);switch(e.id=t.id=l.default.uid(),this.app.input_list[e.id]=e,e.type){case"conditional":this._addConditional(e);break;case"repeat":this._addRepeat(e);break;case"section":this._addSection(e);break;default:this._addRow(e)}},_addConditional:function(t){var e=this;t.test_param.id=t.id,this.app.model.get("sustain_conditionals")&&(t.test_param.disabled=!0);var i=this._addRow(t.test_param);i.model&&i.model.set("onchange",function(i){var n=e.app.data.matchCase(t,i);for(var r in t.cases){var a=t.cases[r],o=e.$("#"+t.id+"-section-"+r),s=!1;for(var l in a.inputs)if(!a.inputs[l].hidden){s=!0;break}r==n&&s?o.fadeIn("fast"):o.hide()}e.app.trigger("change")});for(var n in t.cases){var r=new _(this.app,{inputs:t.cases[n].inputs});this._append(r.$el.addClass("ui-form-section"),t.id+"-section-"+n)}i.trigger("change")},_addRepeat:function(t){function e(e){var r=t.id+"-section-"+n++,o=new _(i.app,{inputs:e});a.add({id:r,$el:o.$el,ondel:function(){a.del(r),i.app.trigger("change")}})}for(var i=this,n=0,a=new f.default.View({title:t.title||"Repeat",min:t.min,max:t.max,onnew:function(){e(t.inputs),i.app.trigger("change")}}),o=r.size(t.cache),s=0;s<Math.max(Math.max(o,t.min||0),t.default||0);s++)e(s<o?t.cache[s]:t.inputs);this.app.model.get("sustain_repeats")&&a.hideOptions();var l=new m.default(this.app,{label:t.title||t.name,help:t.help,field:a});this._append(l.$el,t.id)},_addSection:function(t){var e=new h.default.View({title:t.title||t.name,cls:"ui-portlet-section",collapsible:!0,collapsible_button:!0,collapsed:!t.expanded});e.append(new _(this.app,{inputs:t.inputs}).$el),e.append(n("<div/>").addClass("ui-form-info").html(t.help)),this.app.on("expand",function(t){e.$("#"+t).length>0&&e.expand()}),this._append(e.$el,t.id)},_addRow:function(t){var e=this,i=t.id;t.onchange=t.onchange||function(){e.app.trigger("change",i)};var n=this.parameters.create(t);this.app.field_list[i]=n;var r=new m.default(this.app,{name:t.name,label:t.hide_label?"":t.label||t.name,value:t.value,text_value:t.text_value,collapsible_value:t.collapsible_value,collapsible_preview:t.collapsible_preview,help:t.help,argument:t.argument,disabled:t.disabled,color:t.color,style:t.style,backdrop:t.backdrop,hidden:t.hidden,fixed:t.fixed,field:n});return this.app.element_list[i]=r,this._append(r.$el,t.id),n},_append:function(t,e){this.$el.append(t.addClass("section-row").attr("id",e))}});e.default={View:_}}).call(e,i(2),i(0),i(1),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(25),c=a(l),u=i(6),h=a(u),d=t.View.extend({initialize:function(t){this.list={},this.options=s.default.merge(t,{title:"Repeat",empty_text:"Not available.",max:null,min:null}),this.button_new=new h.default.ButtonIcon({icon:"fa-plus",title:"Insert "+this.options.title,tooltip:"Add new "+this.options.title+" block",cls:"ui-button-icon ui-clear-float form-repeat-add",onclick:function(){t.onnew&&t.onnew()}}),this.setElement(n("<div/>").append(this.$list=n("<div/>")).append(n("<div/>").append(this.button_new.$el)))},size:function(){return r.size(this.list)},add:function(t){if(!t.id||this.list[t.id])return void Galaxy.emit.debug("form-repeat::add()","Duplicate or invalid repeat block id.");var e=new h.default.ButtonIcon({icon:"fa-trash-o",tooltip:"Delete this repeat block",cls:"ui-button-icon-plain form-repeat-delete",onclick:function(){t.ondel&&t.ondel()}}),i=new c.default.View({id:t.id,title:"placeholder",cls:t.cls||"ui-portlet-repeat",operations:{button_delete:e}});i.append(t.$el),i.$el.addClass("section-row").hide(),this.list[t.id]=i,this.$list.append(i.$el.fadeIn("fast")),this.options.max>0&&this.size()>=this.options.max&&this.button_new.disable(),this._refresh()},del:function(t){if(!this.list[t])return void Galaxy.emit.debug("form-repeat::del()","Invalid repeat block id.");this.$list.find("#"+t).remove(),delete this.list[t],this.button_new.enable(),this._refresh()},delAll:function(){for(var t in this.list)this.del(t)},hideOptions:function(){this.button_new.$el.hide(),r.each(this.list,function(t){t.hideOperation("button_delete")}),r.isEmpty(this.list)&&this.$el.append(n("<div/>").addClass("ui-form-info").html(this.options.empty_text))},_refresh:function(){var t=0;for(var e in this.list){var i=this.list[e];i.title(++t+": "+this.options.title),i[this.size()>this.options.min?"showOperation":"hideOperation"]("button_delete")}}});e.default={View:d}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.View.extend({initialize:function(e,i){this.app=e,this.app_options=e.model?e.model.attributes:{},this.field=i&&i.field||new t.View,this.model=i&&i.model||new t.Model({text_enable:this.app_options.text_enable||"Enable",text_disable:this.app_options.text_disable||"Disable",cls_enable:this.app_options.cls_enable||"fa fa-caret-square-o-down",cls_disable:this.app_options.cls_disable||"fa fa-caret-square-o-up",always_refresh:this.app_options.always_refresh}).set(i),this.setElement(this._template()),this.$field=this.$(".ui-form-field"),this.$info=this.$(".ui-form-info"),this.$preview=this.$(".ui-form-preview"),this.$collapsible=this.$(".ui-form-collapsible"),this.$collapsible_text=this.$(".ui-form-collapsible-text"),this.$collapsible_icon=this.$(".ui-form-collapsible-icon"),this.$title=this.$(".ui-form-title"),this.$title_text=this.$(".ui-form-title-text"),this.$error_text=this.$(".ui-form-error-text"),this.$error=this.$(".ui-form-error"),this.$backdrop=this.$(".ui-form-backdrop"),this.$field.prepend(this.field.$el);var n=this.model.get("collapsible_value");this.field.collapsed=void 0!==n&&JSON.stringify(this.model.get("value"))==JSON.stringify(n),this.listenTo(this.model,"change",this.render,this),this.render();var r=this;this.$collapsible.on("click",function(){r.field.collapsed=!r.field.collapsed,e.trigger&&e.trigger("change"),r.render()}),this.field.model&&!this.model.get("always_refresh")&&this.listenTo(this.field.model,"change:value",function(){r.reset()})},backdrop:function(){this.model.set("backdrop",!0)},error:function(t){this.model.set("error_text",t)},reset:function(){!this.model.get("fixed")&&this.model.set("error_text",null)},render:function(){i(".tooltip").hide();var t=this.model.get("help",""),e=this.model.get("argument");e&&-1==t.indexOf("("+e+")")&&(t+=" ("+e+")"),this.$info.html(t),this.$el[this.model.get("hidden")?"hide":"show"](),this.$preview[this.field.collapsed&&this.model.get("collapsible_preview")||this.model.get("disabled")?"show":"hide"]().html(n.escape(this.model.get("text_value")));var r=this.model.get("error_text");if(this.$error[r?"show":"hide"](),this.$el[r?"addClass":"removeClass"]("ui-error"),this.$error_text.html(r),this.$backdrop[this.model.get("backdrop")?"show":"hide"](),this.field.collapsed||this.model.get("disabled")?this.$field.hide():this.$field.show(),this.field.model&&this.field.model.set({color:this.model.get("color"),style:this.model.get("style")}),this.model.get("disabled")||void 0===this.model.get("collapsible_value"))this.$title_text.show().text(this.model.get("label")),this.$collapsible.hide();else{var a=this.field.collapsed?"enable":"disable";this.$title_text.hide(),this.$collapsible.show(),this.$collapsible_text.text(this.model.get("label")),this.$collapsible_icon.removeClass().addClass("icon").addClass(this.model.get("cls_"+a)).attr("data-original-title",this.model.get("text_"+a)).tooltip({placement:"bottom"})}},_template:function(){return i("<div/>").addClass("ui-form-element").append(i("<div/>").addClass("ui-form-error ui-error").append(i("<span/>").addClass("fa fa-arrow-down")).append(i("<span/>").addClass("ui-form-error-text"))).append(i("<div/>").addClass("ui-form-title").append(i("<div/>").addClass("ui-form-collapsible").append(i("<i/>").addClass("ui-form-collapsible-icon")).append(i("<span/>").addClass("ui-form-collapsible-text"))).append(i("<span/>").addClass("ui-form-title-text"))).append(i("<div/>").addClass("ui-form-field").append(i("<span/>").addClass("ui-form-info")).append(i("<div/>").addClass("ui-form-backdrop"))).append(i("<div/>").addClass("ui-form-preview"))}})}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(6),c=a(l),u=i(148),h=a(u),d=i(149),f=a(d),p=i(150),m=a(p),g=i(151),v=a(g),_=i(153),y=a(_);e.default=t.Model.extend({types:{text:"_fieldText",password:"_fieldText",select:"_fieldSelect",data_column:"_fieldSelect",genomebuild:"_fieldSelect",data:"_fieldData",data_collection:"_fieldData",integer:"_fieldSlider",float:"_fieldSlider",boolean:"_fieldBoolean",drill_down:"_fieldDrilldown",color:"_fieldColor",hidden:"_fieldHidden",hidden_data:"_fieldHidden",baseurl:"_fieldHidden",library_data:"_fieldLibrary",ftpfile:"_fieldFtp",upload:"_fieldUpload",genomespacefile:"_fieldGenomeSpace"},create:function(t){var e=this.types[t.type],i="function"==typeof this[e]?this[e].call(this,t):null;return i||(i=t.options?this._fieldSelect(t):this._fieldText(t),Galaxy.emit.debug("form-parameters::_addRow()","Auto matched field type ("+t.type+").")),void 0===t.value&&(t.value=null),i.value(t.value),i},_fieldData:function(t){return new h.default.View({id:"field-"+t.id,extensions:t.extensions,optional:t.optional,multiple:t.multiple,type:t.type,flavor:t.flavor,data:t.options,onchange:t.onchange})},_fieldSelect:function(t){if(t.is_workflow)return this._fieldText(t);"data_column"==t.type&&(t.error_text="Missing columns in referenced dataset.");var e=t.data;e||(e=[],n.each(t.options,function(t){e.push({label:t[0],value:t[1]})}));var i=c.default.Select;switch(t.display){case"checkboxes":i=c.default.Checkbox;break;case"radio":i=c.default.Radio;break;case"radiobutton":i=c.default.RadioButton}return new i.View({id:"field-"+t.id,data:e,error_text:t.error_text||"No options available",readonly:t.readonly,multiple:t.multiple,optional:t.optional,onchange:t.onchange,individual:t.individual,searchable:"workflow"!==t.flavor})},_fieldDrilldown:function(t){return t.is_workflow?this._fieldText(t):new c.default.Drilldown.View({id:"field-"+t.id,data:t.options,display:t.display,optional:t.optional,onchange:t.onchange})},_fieldText:function(t){if(t.options&&t.data)if(t.area=t.multiple,s.default.isEmpty(t.value))t.value=null;else if(r.isArray(t.value)){var e="";for(var i in t.value){if(e+=String(t.value[i]),!t.multiple)break;e+="\n"}t.value=e}return new c.default.Input({id:"field-"+t.id,type:t.type,area:t.area,readonly:t.readonly,placeholder:t.placeholder,datalist:t.datalist,onchange:t.onchange})},_fieldSlider:function(t){return new c.default.Slider.View({id:"field-"+t.id,precise:"float"==t.type,is_workflow:t.is_workflow,min:t.min,max:t.max,onchange:t.onchange})},_fieldHidden:function(t){return new c.default.Hidden({id:"field-"+t.id,info:t.info})},_fieldBoolean:function(t){return new c.default.RadioButton.View({id:"field-"+t.id,data:[{label:"Yes",value:"true"},{label:"No",value:"false"}],onchange:t.onchange})},_fieldColor:function(t){return new y.default({id:"field-"+t.id,onchange:t.onchange})},_fieldLibrary:function(t){return new f.default.View({id:"field-"+t.id,optional:t.optional,multiple:t.multiple,onchange:t.onchange})},_fieldFtp:function(t){return new m.default.View({id:"field-"+t.id,optional:t.optional,multiple:t.multiple,onchange:t.onchange})},_fieldGenomeSpace:function(t){var e=this;return new v.default.View({id:"field-"+t.id,onchange:function(){e.app.trigger("change")}})},_fieldUpload:function(t){return new c.default.Upload({id:"field-"+t.id,onchange:t.onchange})}})}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(6),c=a(l),u=i(71),h=a(u),d={DISABLED:"disabled",ENABLED:"enabled",LINKED:"linked"},f={data:[{src:"hda",icon:"fa-file-o",tooltip:"Single dataset",multiple:!1,batch:d.DISABLED},{src:"hda",icon:"fa-files-o",tooltip:"Multiple datasets",multiple:!0,batch:d.LINKED},{src:"hdca",icon:"fa-folder-o",tooltip:"Dataset collection",multiple:!1,batch:d.LINKED}],data_multiple:[{src:"hda",icon:"fa-files-o",tooltip:"Multiple datasets",multiple:!0,batch:d.DISABLED},{src:"hdca",icon:"fa-folder-o",tooltip:"Dataset collections",multiple:!0,batch:d.DISABLED}],data_collection:[{src:"hdca",icon:"fa-folder-o",tooltip:"Dataset collection",multiple:!1,batch:d.DISABLED}],workflow_data:[{src:"hda",icon:"fa-file-o",tooltip:"Single dataset",multiple:!1,batch:d.DISABLED}],workflow_data_multiple:[{src:"hda",icon:"fa-files-o",tooltip:"Multiple datasets",multiple:!0,batch:d.DISABLED}],workflow_data_collection:[{src:"hdca",icon:"fa-folder-o",tooltip:"Dataset collection",multiple:!1,batch:d.DISABLED}],module_data:[{src:"hda",icon:"fa-file-o",tooltip:"Single dataset",multiple:!1,batch:d.DISABLED},{src:"hda",icon:"fa-files-o",tooltip:"Multiple datasets",multiple:!0,batch:d.ENABLED}],module_data_collection:[{src:"hdca",icon:"fa-folder-o",tooltip:"Dataset collection",multiple:!1,batch:d.DISABLED},{src:"hdca",icon:"fa-folder",tooltip:"Multiple collections",multiple:!0,batch:d.ENABLED}]},p=t.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new t.Model({src_labels:{hda:"dataset",hdca:"dataset collection"},pagelimit:100,statustimer:1e3}).set(e),this.setElement(n("<div/>").addClass("ui-select-content")),this.button_product=new c.default.RadioButton.View({value:"false",data:[{icon:"fa fa-chain",value:"false",tooltip:"Linked inputs will be run in matched order with other datasets e.g. use this for matching forward and reverse reads."},{icon:"fa fa-chain-broken",value:"true",tooltip:"Unlinked dataset inputs will be run against *all* other inputs."}]});var r=n("<div/>").addClass("ui-form-info").append(n("<i/>").addClass("fa fa-sitemap")).append(n("<span/>").html("This is a batch mode input field. Separate jobs will be triggered for each dataset selection."));this.$batch={linked:r.clone(),enabled:r.clone().append(n("<div/>").append(n("<div/>").addClass("ui-form-title").html("Batch options:")).append(this.button_product.$el)).append(n("<div/>").css("clear","both"))},this.$el.on("dragenter",function(t){this.lastenter=t.target,i.$el.addClass("ui-dragover")}).on("dragover",function(t){t.preventDefault()}).on("dragleave",function(t){this.lastenter===t.target&&i.$el.removeClass("ui-dragover")}).on("drop",function(t){i._handleDrop(t)}),this.history={},this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:current",this._changeCurrent,this),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:type change:optional change:multiple change:extensions",this._changeType,this),this.render(),this.on("change",function(){e.onchange&&e.onchange(i.value())})},render:function(){this._changeType(),this._changeValue(),this._changeWait()},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},update:function(t){this.model.set("data",t)},value:function(t){void 0!==t&&this.model.set("value",t);var e=this.model.get("current");if(this.config[e]){var i=this.fields[e].value();if(null!==i&&(i=n.isArray(i)?i:[i],i.length>0)){var r=this._batch({values:[]});for(var a in i){var o=this.history[i[a]+"_"+this.config[e].src];if(!o)return Galaxy.emit.debug("ui-select-content::value()","Requested details not found for '"+i[a]+"'."),null;r.values.push(o)}return r.values.sort(function(t,e){return t.hid-e.hid}),r}}else Galaxy.emit.debug("ui-select-content::value()","Invalid value/source '"+t+"'.");return null},_changeCurrent:function(){var t=this;r.each(this.fields,function(e,i){t.model.get("current")==i?(e.$el.show(),r.each(t.$batch,function(e,n){e[t.config[i].batch==n?"show":"hide"]()}),t.button_type.value(i)):e.$el.hide()})},_changeType:function(){var t=this,e=(this.model.get("flavor")?this.model.get("flavor")+"_":"")+String(this.model.get("type"))+(this.model.get("multiple")?"_multiple":"");f[e]?this.config=f[e]:(this.config=f.data,Galaxy.emit.debug("ui-select-content::_changeType()","Invalid configuration/type id '"+e+"'."));var i=t.model.get("data"),n=s.default.textify(this.model.get("extensions")),a=this.model.get("src_labels");this.fields=[],this.button_data=[],r.each(this.config,function(e,r){t.button_data.push({value:r,icon:e.icon,tooltip:e.tooltip}),t.fields.push(new h.default.View({optional:t.model.get("optional"),multiple:e.multiple,searchable:!e.multiple||i&&i[e.src]&&i[e.src].length>t.model.get("pagelimit"),individual:!0,error_text:"No "+(n?n+" ":"")+(a[e.src]||"content")+" available.",onchange:function(){t.trigger("change")}}))}),this.button_type=new c.default.RadioButton.View({value:this.model.get("current"),data:this.button_data,onchange:function(e){t.model.set("current",e),t.trigger("change")}}),this.$el.empty();var o=0;this.fields.length>1&&(this.$el.append(this.button_type.$el),o=Math.max(0,36*this.fields.length)+"px"),r.each(this.fields,function(e){t.$el.append(e.$el.css({"margin-left":o}))}),r.each(this.$batch,function(e,i){t.$el.append(e.css({"margin-left":o}))}),this.model.set("current",0),this._changeCurrent(),this._changeData()},_changeWait:function(){var t=this;r.each(this.fields,function(e){e[t.model.get("wait")?"wait":"unwait"]()})},_changeData:function(){var t=this.model.get("data"),e=this,i={};r.each(t,function(t,n){i[n]=[],r.each(t,function(t){i[n].push({hid:t.hid,keep:t.keep,label:t.hid+": "+t.name,value:t.id,tags:t.tags}),e.history[t.id+"_"+n]=t})}),r.each(this.config,function(t,n){i[t.src]&&e.fields[n].add(i[t.src],function(t,e){return e.hid-t.hid})})},_changeValue:function(){var t=this.model.get("value");if(t&&t.values&&t.values.length>0){var e=[];r.each(t.values,function(t){e.push(t.id)});for(var i=t.values[0].src,n=t.values.length>1,a=0;a<this.config.length;a++){var o=this.fields[a],s=this.config[a];if(s.src==i&&-1!==[n,!0].indexOf(s.multiple)){this.model.set("current",a),o.value(e);break}}}else r.each(this.fields,function(t){t.value(null)})},_handleDrop:function(t){try{var e=this.model.get("data"),i=this.model.get("current"),n=this.config[i],a=this.fields[i],o=JSON.parse(t.originalEvent.dataTransfer.getData("text"))[0],s=o.id,l="dataset"==o.history_content_type?"hda":"hdca",c={id:s,src:l};if(e&&r.findWhere(e[l],c)){if(n.src==l){var u=a.value();u&&n.multiple?-1==u.indexOf(s)&&u.push(s):u=s,a.value(u)}else this.model.set("value",{values:[c]}),this.model.trigger("change:value");this.trigger("change"),this._handleDropStatus("success")}else this._handleDropStatus("danger")}catch(t){this._handleDropStatus("danger")}t.preventDefault()},_handleDropStatus:function(t){var e=this;this.$el.removeClass("ui-dragover").addClass("ui-dragover-"+t),setTimeout(function(){e.$el.removeClass("ui-dragover-"+t)},this.model.get("statustimer"))},_batch:function(t){t.batch=!1;var e=this.model.get("current"),i=this.config[e];if("hdca"==i.src&&!i.multiple){var n=this.history[this.fields[e].value()+"_hdca"];n&&n.map_over_type&&(t.batch=!0)}return i.batch!=d.LINKED&&i.batch!=d.ENABLED||(t.batch=!0,i.batch==d.ENABLED&&"true"===this.button_product.value()&&(t.product=!0)),t}});e.default={View:p}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=(n(r),i(6)),o=n(a),s=i(77),l=(n(s),i(78)),c=n(l),u=t.Collection.extend({url:Galaxy.root+"api/libraries?deleted=false"}),h=t.Collection.extend({initialize:function(){var e=this;this.config=new t.Model({library_id:null}),this.config.on("change",function(){e.fetch({reset:!0})})},url:function(){return Galaxy.root+"api/libraries/"+this.config.get("library_id")+"/contents"}}),d=t.View.extend({initialize:function(t){var e=this;this.libraries=new u,this.datasets=new h,this.options=t,this.library_select=new o.default.Select.View({onchange:function(t){e.datasets.config.set("library_id",t)}}),this.dataset_list=new c.default.View({name:"dataset",optional:t.optional,multiple:t.multiple,onchange:function(){e.trigger("change")}}),this.libraries.on("reset",function(){var t=[];e.libraries.each(function(e){t.push({value:e.id,label:e.get("name")})}),e.library_select.update(t)}),this.datasets.on("reset",function(){var t=[];null!==e.library_select.text()&&e.datasets.each(function(e){"file"===e.get("type")&&t.push({value:e.id,label:e.get("name")})}),e.dataset_list.update(t)}),this.on("change",function(){t.onchange&&t.onchange(e.value())}),this.setElement(this._template()),this.$(".library-select").append(this.library_select.$el),this.$el.append(this.dataset_list.$el),this.libraries.fetch({reset:!0,success:function(){e.library_select.trigger("change"),void 0!==e.options.value&&e.value(e.options.value)}})},value:function(t){return this.dataset_list.value(t)},_template:function(){return'<div class="ui-select-library"><div class="library ui-margin-bottom"><span class="library-title">Select Library</span><span class="library-select"/></div></div>'}});e.default={View:d}}).call(e,i(2))},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=n(r),o=i(78),s=n(o),l=t.View.extend({initialize:function(t){var e=this;this.ftpfile_list=new s.default.View({name:"file",optional:t.optional,multiple:t.multiple,onchange:function(){t.onchange&&t.onchange(e.value())}}),this.setElement(this.ftpfile_list.$el),a.default.get({url:Galaxy.root+"api/remote_files",success:function(t){var i=[];for(var n in t)i.push({value:t[n].path,label:t[n].path});e.ftpfile_list.update(i)}})},value:function(t){return this.ftpfile_list.value(t)}});e.default={View:l}}).call(e,i(2))},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=(n(r),i(6)),o=n(a),s=i(152),l=n(s),c=t.View.extend({initialize:function(t){var e=this;this.browse_button=new o.default.ButtonIcon({title:"Browse",icon:"fa fa-sign-in",tooltip:"Browse GenomeSpace",onclick:function(){e.browseGenomeSpace()}}),this.filename_textbox=new o.default.Input,this.token_textbox=new o.default.Input({type:"password"}),this.setElement(this._template(t)),this.$(".ui-gs-browse-button").append(this.browse_button.$el),this.$(".ui-gs-filename-textbox").append(this.filename_textbox.$el),this.$(".ui-gs-token-textbox").append(this.token_textbox.$el)},browseGenomeSpace:function(t){var e=this;l.default.openFileBrowser({successCallback:function(t){e.value(t.destination+"^"+t.token)}})},_template:function(t){return'<div class="ui-gs-select-file"><div class="ui-gs-browse-field"><span class="ui-gs-browse-button" /><span class="ui-gs-filename-textbox" /></div><div class="ui-gs-token-field"><span class=ui-gs-label"><div class="ui-gs-token-label">Token</div></span><span class="ui-gs-token-textbox" /></div></div>'},value:function(t){if(void 0===t)return this._getValue();this._setValue(t)},_getValue:function(){return this.filename_textbox.value()+"^"+this.token_textbox.value()},_setValue:function(t){t&&(values=t.split("^"),this.filename_textbox.value(values[0]),this.token_textbox.value(values[1]))}});e.default={View:c}}).call(e,i(2))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={openFileBrowser:function(t){var e=window.Galaxy.config.genomespace_ui_url,i=e+"upload/loadUrlToGenomespace.html?getLocation=true",n=window.open(i,"GenomeSpace File Browser","height=360px,width=600px");successCalBack=t.successCallback,window.addEventListener("message",function(t){successCalBack(t.data)},!1),n.focus(),null!=t.errorCallback&&(n.setCallbackOnGSUploadError=config.errorCallback)}}},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=t.View.extend({colors:{standard:["c00000","ff0000","ffc000","ffff00","92d050","00b050","00b0f0","0070c0","002060","7030a0"],base:["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646"],theme:[["f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada"],["d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5"],["bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","92cddc","fac08f"],["a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","31859b","e36c09"],["7f7f7e","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","205867","974806"]]},initialize:function(t){this.options=a.default.merge(t,{}),this.setElement(this._template()),this.$panel=this.$(".ui-color-picker-panel"),this.$view=this.$(".ui-color-picker-view"),this.$value=this.$(".ui-color-picker-value"),this.$header=this.$(".ui-color-picker-header"),this._build(),this.visible=!1,this.value(this.options.value),this.$boxes=this.$(".ui-color-picker-box");var e=this;this.$boxes.on("click",function(){e.value(n(this).css("background-color")),e.$header.trigger("click")}),this.$header.on("click",function(){e.visible=!e.visible,e.visible?e.$view.fadeIn("fast"):e.$view.fadeOut("fast")})},value:function(t){return void 0!==t&&null!==t&&(this.$value.css("background-color",t),this.$(".ui-color-picker-box").empty(),this.$(this._getValue()).html(this._templateCheck()),this.options.onchange&&this.options.onchange(t)),this._getValue()},_getValue:function(){var t=this.$value.css("background-color");if(t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/)){var e=function(t){return("0"+parseInt(t).toString(16)).slice(-2)};return"#"+e(t[1])+e(t[2])+e(t[3])}return null},_build:function(){this._content({colors:this.colors.base});for(var t in this.colors.theme){var e={};0==t?e.bottom=!0:t!=this.colors.theme.length-1?(e.top=!0,e.bottom=!0):e.top=!0,e.colors=this.colors.theme[t],this._content(e)}this._content({colors:this.colors.standard})},_content:function(t){var e=t.colors,i=n(this._templateContent()),r=i.find(".line");this.$panel.append(i);for(var a in e){var o=n(this._templateBox(e[a]));t.top&&(o.css("border-top","none"),o.css("border-top-left-radius","0px"),o.css("border-top-right-radius","0px")),t.bottom&&(o.css("border-bottom","none"),o.css("border-bottom-left-radius","0px"),o.css("border-bottom-right-radius","0px")),r.append(o)}return i},_templateCheck:function(){return'<div class="ui-color-picker-check fa fa-check"/>'},_templateContent:function(){return'<div class="ui-color-picker-content"><div class="line"/></div>'},_templateBox:function(t){return'<div id="'+t+'" class="ui-color-picker-box" style="background-color: #'+t+';"/>'},_template:function(){return'<div class="ui-color-picker"><div class="ui-color-picker-header"><div class="ui-color-picker-value"/><div class="ui-color-picker-label">Select a color</div></div><div class="ui-color-picker-view ui-input"><div class="ui-color-picker-panel"/></div>'}})}).call(e,i(2),i(0))},function(t,e,i){var n=i(155);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(82)("1bb008e8",n,!0)},function(t,e,i){e=t.exports=i(81)(void 0),e.push([t.i,"",""])},function(t,e){t.exports=function(t,e){for(var i=[],n={},r=0;r<e.length;r++){var a=e[r],o=a[0],s=a[1],l=a[2],c=a[3],u={id:t+":"+r,css:s,media:l,sourceMap:c};n[o]?n[o].parts.push(u):i.push(n[o]={id:o,parts:[u]})}return i}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(84),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(177),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=i(178),l=i(35);e.default={props:{source:{type:String,required:!0},id:{type:String,required:!0},viewRender:{type:Boolean,requried:!1,default:!0}},data:function(){return{citations:[],content:"",errors:[]}},computed:{formattedReferences:function(){var t=this;return this.citations.reduce(function(e,i){return e.concat("<p>"+t.formattedReference(i)+"</p>")},"")}},created:function(){var e=this;r.default.get(Galaxy.root+"api/"+this.source+"/"+this.id+"/citations").then(function(i){e.content="";var n=!0,r=!1,a=void 0;try{for(var s,l=i.data[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;try{var u={fields:{},entryType:void 0},h=o.toJSON(c.content);if(h){h=t.first(h),u.entryType=h.entryType||void 0;for(var d in h.entryTags)u.fields[d.toLowerCase()]=h.entryTags[d]}e.citations.push(u),e.content+=c.content}catch(t){console.warn("Error parsing bibtex: "+t)}}}catch(t){r=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}}).catch(function(t){console.error(t)})},methods:{formattedReference:function(t){var e=t.entryType,i=t.fields,n="",r=this._asSentence((i.author?i.author:"")+(i.year?" ("+i.year+")":""))+" ",a=i.title||"",o=i.pages?"pp. "+i.pages:"",c=i.address;if("article"==e){var u=(i.volume?i.volume:"")+(i.number?" ("+i.number+")":"")+(o?", "+o:"");n=r+this._asSentence(a)+(i.journal?"In <em>"+i.journal+", ":"")+this._asSentence(u)+this._asSentence(i.address)+"</em>"}else n="inproceedings"==e||"proceedings"==e?r+this._asSentence(a)+(i.booktitle?"In <em>"+i.booktitle+", ":"")+(o||"")+(c?", "+c:"")+".</em>":"mastersthesis"==e||"phdthesis"==e?r+this._asSentence(a)+(i.howpublished?i.howpublished+". ":"")+(i.note?i.note+".":""):"techreport"==e?r+this._asSentence(a)+this._asSentence(i.institution)+this._asSentence(i.number)+this._asSentence(i.type):"book"==e||"inbook"==e||"incollection"==e?r+" "+this._formatBookInfo(i):r+" "+this._asSentence(a)+this._asSentence(i.howpublished)+this._asSentence(i.note);var h="";i.doi&&(h="http://dx.doi.org/"+i.doi,n+='[<a href="'+h+'" target="_blank">doi:'+i.doi+"</a>]");var d=i.url||h;return d&&(n+='[<a href="'+d+'" target="_blank">Link</a>]'),(0,s.convertLaTeX)({onError:function(t,e){return"{"+(0,l.stringifyLaTeX)(e)+"}"}},n)},_formatBookInfo:function(t){var e="";return t.chapter&&(e+=t.chapter+" in "),t.title&&(e+="<em>"+t.title+"</em>"),t.editor&&(e+=", Edited by "+t.editor+", "),t.publisher&&(e+=", "+t.publisher),t.pages&&(e+=", pp. "+t.pages),t.series&&(e+=", <em>"+t.series+"</em>"),t.volume&&(e+=", Vol."+t.volume),t.issn&&(e+=", ISBN: "+t.issn),e+"."},_asSentence:function(t){return t&&t.trim()?t+". ":""},toggleViewRender:function(){this.viewRender=!this.viewRender}}}}).call(e,i(1))},function(t,e,i){"use strict";function n(t){var e=new o(t),i=a(o.prototype.request,e);return r.extend(i,o.prototype,e),r.extend(i,e),i}var r=i(7),a=i(85),o=i(160),s=i(34),l=n(s);l.Axios=o,l.create=function(t){return n(r.merge(s,t))},l.Cancel=i(89),l.CancelToken=i(175),l.isCancel=i(88),l.all=function(t){return Promise.all(t)},l.spread=i(176),t.exports=l,t.exports.default=l},function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(i(t)||n(t)||!!t._isBuffer)}},function(t,e,i){"use strict";function n(t){this.defaults=t,this.interceptors={request:new o,response:new o}}var r=i(34),a=i(7),o=i(170),s=i(171);n.prototype.request=function(t){"string"==typeof t&&(t=a.merge({url:arguments[0]},arguments[1])),t=a.merge(r,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase();var e=[s,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i},a.forEach(["delete","get","head","options"],function(t){n.prototype[t]=function(e,i){return this.request(a.merge(i||{},{method:t,url:e}))}}),a.forEach(["post","put","patch"],function(t){n.prototype[t]=function(e,i,n){return this.request(a.merge(n||{},{method:t,url:e,data:i}))}}),t.exports=n},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&s())}function s(){if(!m){var t=r(o);m=!0;for(var e=p.length;e;){for(f=p,p=[];++g<e;)f&&f[g].run();g=-1,e=p.length}f=null,m=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,h,d=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(t){u=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var f,p=[],m=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||m||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,i){"use strict";var n=i(7);t.exports=function(t,e){n.forEach(t,function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])})}},function(t,e,i){"use strict";var n=i(87);t.exports=function(t,e,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?e(n("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},function(t,e,i){"use strict";t.exports=function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t}},function(t,e,i){"use strict";function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=i(7);t.exports=function(t,e,i){if(!e)return t;var a;if(i)a=i(e);else if(r.isURLSearchParams(e))a=e.toString();else{var o=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(n(e)+"="+n(t))}))}),a=o.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(t,e,i){"use strict";var n=i(7),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,a,o={};return t?(n.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=n.trim(t.substr(0,a)).toLowerCase(),i=n.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}}),o):o}},function(t,e,i){"use strict";var n=i(7);t.exports=n.isStandardBrowserEnv()?function(){function t(t){var e=t;return i&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,i=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(i){var r=n.isString(i)?t(i):i;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},function(t,e,i){"use strict";function n(){this.message="String contains an invalid character"}function r(t){for(var e,i,r=String(t),o="",s=0,l=a;r.charAt(0|s)||(l="=",s%1);o+=l.charAt(63&e>>8-s%1*8)){if((i=r.charCodeAt(s+=.75))>255)throw new n;e=e<<8|i}return o}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=r},function(t,e,i){"use strict";var n=i(7);t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,i,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),n.isString(r)&&s.push("path="+r),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,i){"use strict";function n(){this.handlers=[]}var r=i(7);n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},function(t,e,i){"use strict";function n(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=i(7),a=i(172),o=i(88),s=i(34),l=i(173),c=i(174);t.exports=function(t){return n(t),t.baseURL&&!l(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return n(t),e.data=a(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(n(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,i){"use strict";var n=i(7);t.exports=function(t,e,i){return n.forEach(i,function(i){t=i(t,e)}),t}},function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,i){"use strict";function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new r(t),e(i.reason))})}var r=i(89);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n(function(e){t=e}),cancel:t}},t.exports=n},function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,i){!function(t){function e(){this.months=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],this.notKey=[",","{","}"," ","="],this.pos=0,this.input="",this.entries=new Array,this.currentEntry="",this.setInput=function(t){this.input=t},this.getEntries=function(){return this.entries},this.isWhitespace=function(t){return" "==t||"\r"==t||"\t"==t||"\n"==t},this.match=function(t,e){if(void 0!=e&&null!=e||(e=!0),this.skipWhitespace(e),this.input.substring(this.pos,this.pos+t.length)!=t)throw"Token mismatch, expected "+t+", found "+this.input.substring(this.pos);this.pos+=t.length,this.skipWhitespace(e)},this.tryMatch=function(t,e){return void 0!=e&&null!=e||(e=!0),this.skipWhitespace(e),this.input.substring(this.pos,this.pos+t.length)==t},this.matchAt=function(){for(;this.input.length>this.pos&&"@"!=this.input[this.pos];)this.pos++;return"@"==this.input[this.pos]},this.skipWhitespace=function(t){for(;this.isWhitespace(this.input[this.pos]);)this.pos++;if("%"==this.input[this.pos]&&1==t){for(;"\n"!=this.input[this.pos];)this.pos++;this.skipWhitespace(t)}},this.value_braces=function(){var t=0;this.match("{",!1);for(var e=this.pos,i=!1;;){if(!i)if("}"==this.input[this.pos]){if(!(t>0)){var n=this.pos;return this.match("}",!1),this.input.substring(e,n)}t--}else if("{"==this.input[this.pos])t++;else if(this.pos>=this.input.length-1)throw"Unterminated value";i="\\"==this.input[this.pos]&&0==i,this.pos++}},this.value_comment=function(){for(var t="",e=0;!this.tryMatch("}",!1)||0!=e;){if(t+=this.input[this.pos],"{"==this.input[this.pos]&&e++,"}"==this.input[this.pos]&&e--,this.pos>=this.input.length-1)throw"Unterminated value:"+this.input.substring(start);this.pos++}return t},this.value_quotes=function(){this.match('"',!1);for(var t=this.pos,e=!1;;){if(!e){if('"'==this.input[this.pos]){var i=this.pos;return this.match('"',!1),this.input.substring(t,i)}if(this.pos>=this.input.length-1)throw"Unterminated value:"+this.input.substring(t)}e="\\"==this.input[this.pos]&&0==e,this.pos++}},this.single_value=function(){var t=this.pos;if(this.tryMatch("{"))return this.value_braces();if(this.tryMatch('"'))return this.value_quotes();var e=this.key();if(e.match("^[0-9]+$"))return e;if(this.months.indexOf(e.toLowerCase())>=0)return e.toLowerCase();throw"Value expected:"+this.input.substring(t)+" for key: "+e},this.value=function(){var t=[];for(t.push(this.single_value());this.tryMatch("#");)this.match("#"),t.push(this.single_value());return t.join("")},this.key=function(t){for(var e=this.pos;;){if(this.pos>=this.input.length)throw"Runaway key";if(this.notKey.indexOf(this.input[this.pos])>=0)return t&&","!=this.input[this.pos]?(this.pos=e,null):this.input.substring(e,this.pos);this.pos++}},this.key_equals_value=function(){var t=this.key();if(this.tryMatch("=")){this.match("=");var e=this.value();return t=t.trim(),[t,e]}throw"... = value expected, equals sign missing:"+this.input.substring(this.pos)},this.key_value_list=function(){var t=this.key_equals_value();for(this.currentEntry.entryTags={},this.currentEntry.entryTags[t[0]]=t[1];this.tryMatch(",")&&(this.match(","),!this.tryMatch("}"));)t=this.key_equals_value(),this.currentEntry.entryTags[t[0]]=t[1]},this.entry_body=function(t){this.currentEntry={},this.currentEntry.citationKey=this.key(!0),this.currentEntry.entryType=t.substring(1),null!=this.currentEntry.citationKey&&this.match(","),this.key_value_list(),this.entries.push(this.currentEntry)},this.directive=function(){return this.match("@"),"@"+this.key()},this.preamble=function(){this.currentEntry={},this.currentEntry.entryType="PREAMBLE",this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.comment=function(){this.currentEntry={},this.currentEntry.entryType="COMMENT",this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.entry=function(t){this.entry_body(t)},this.alernativeCitationKey=function(){this.entries.forEach(function(t){!t.citationKey&&t.entryTags&&(t.citationKey="",t.entryTags.author&&(t.citationKey+=t.entryTags.author.split(",")[0]+=", "),t.citationKey+=t.entryTags.year)})},this.bibtex=function(){for(;this.matchAt();){var t=this.directive();this.match("{"),"@STRING"==t.toUpperCase()?this.string():"@PREAMBLE"==t.toUpperCase()?this.preamble():"@COMMENT"==t.toUpperCase()?this.comment():this.entry(t),this.match("}")}this.alernativeCitationKey()}}t.toJSON=function(t){var i=new e;return i.setInput(t),i.bibtex(),i.entries},t.toBibtex=function(t){var e="";for(var i in t){if(e+="@"+t[i].entryType,e+="{",t[i].citationKey&&(e+=t[i].citationKey+", "),t[i].entry&&(e+=t[i].entry),t[i].entryTags){var n="";for(var r in t[i].entryTags)0!=n.length&&(n+=", "),n+=r+"= {"+t[i].entryTags[r]+"}";e+=n}e+="}\n\n"}return e}}(e)},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(179)),n(i(180)),n(i(90)),n(i(93)),n(i(17)),n(i(94)),n(i(221)),n(i(222)),n(i(97))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.aliases={mathfrak:"frak",mathcal:"cal",mathbb:"bb",mathbf:"bf",dfrac:"frac",ldots:"dots"}},function(t,e,i){"use strict";function n(t,e){return a(t,s.mustNotBeUndefined(s.mustBeOk(s.latexParser.parse(e)).value))}function r(t){return a({translateTo:"unicode",mode:"Any"},s.mustNotBeUndefined(s.mustBeOk(s.latexParser.parse(t)).value))}function a(t,e){var i=t.translateTo;switch(i){case"html":throw new Error("Unsupported format: '"+i+"'. Use one of: "+Object.keys(o.supportedMarkups));case"unicode":default:return l.convertLaTeXBlocksToUnicode(t,e).result}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(90),s=i(35),l=i(182);e.convertLaTeX=n,e.convertLaTeXToUnicode=r,e.convertLaTeXBlocks=a},function(t,e,i){"use strict";function n(t,e){var i=t.length,n=e.length;if(0===i)return e;if(0===n)return t;for(var r={},a=0;a<i;a++)r[t[a]]=!0;for(var o=0;o<n;o++)r[e[o]]=!0;var s=[];for(var l in r)r.hasOwnProperty(l)&&s.push(l);return s.sort(),s}function r(t,e){if(!e)return t;if(t.furthest>e.furthest)return t;var i=t.furthest===e.furthest?n(t.expected,e.expected):e.expected;return{status:t.status,index:t.index,value:t.value,furthest:e.furthest,expected:i}}function a(t,e,i,n){return k.Parser(function(a,o){for(var s=n,l=0,c=void 0;o<a.length;){var u=e._(a,o);if(u.status){o=T.mustBeNumber(u.index);break}var h=t._(a,o);if(w(h))return h;if(c=T.mustNotBeUndefined(r(h,c)),w(c))return c;l++;var d=T.mustNotBeUndefined(c.value);s=i(s,d),o=T.mustBeNumber(c.index)}return x(r(k.makeSuccess(o,s),c))})}function o(t,e){return a(t,e,function(t,e){return t.concat([e])},[])}function s(t){return k.Parser(function(e,i){var n=e.charAt(i);if(i>=e.length||t(n))return A.makeFailure(i,"text character");var r=[n];i++;for(var a=e.charAt(i);!t(a)&&i<e.length;)r.push(a),i++,a=e.charAt(i);return k.makeSuccess(i,r.join(""))})}function l(t){return s(u(t)).map(function(t){return S.newTeXRaw(t)})}function c(t,i){return(void 0===i?e.specialCharsDefault:i).hasOwnProperty(t)}function u(t){return function(e){return t.hasOwnProperty(e)}}function h(t,i,n){switch(void 0===i&&(i="_"),void 0===n&&(n="^"),t){case"Math":return e.latexBlockParserMathMode(i,n);default:return e.latexBlockParserTextMode}}function d(t){return t>="A"&&t<="Z"}function f(t){return t>="a"&&t<="z"}function p(t){return R.then(o(h(t,"_"),N)).map(C.newFixArg)}function m(t){return $.then(o(h(t),j)).map(C.newOptArg)}function g(t){return k.alt(p(t),m(t))}function v(t){return k.alt(k.string("{}").map(function(){return[]}),g(t).map(function(t){return t}).atLeast(0)).map(function(t){return t})}function _(t){return k.seqMap(e.commandSymbol,k.alt(e.specialChar,e.takeTill(e.endCmd)),v(t),function(t,e,i){return void 0!==i?C.newTeXComm.apply(void 0,[e].concat(i)):C.newTeXComm(e)}).map(function(t){return t})}function y(t,i,n){return k.seqMap(e.subOrSuperscriptSymbolParser(i,n),v(t),function(t,e){return C.newSubOrSuperScript(t,t===C.SubOrSuperSymbol.SUB?i:n,e)}).map(function(t){return t})}function b(t){return void 0!==t&&!0===t.status}function w(t){return void 0!==t&&!1===t.status}function x(t){if(!b(t))throw new Error("Expected parse to be success: "+JSON.stringify(t));return t}Object.defineProperty(e,"__esModule",{value:!0});var k=i(92),C=i(37),S=i(37),T=i(36),A=i(92);e.defaultParserConf={verbatimEnvironments:["verbatim"]},e.takeTill=function(t){return k.takeWhile(function(e){return!t(e)})};var M=k.regexp(/[^\n]*/),O=k.regexp(/\n?/),E=(k.regexp(/\s*/m),k.string("%")),$=k.string("["),j=k.string("]");e.notTextDefault={$:!0,"%":!0,"\\":!0,"{":!0,"]":!0,"}":!0},e.notTextMathMode={"^":!0,_:!0,$:!0,"%":!0,"\\":!0,"{":!0,"]":!0,"}":!0},e.notTextMathModeAndNotClosingBracket={"^":!0,_:!0,$:!0,"%":!0,"\\":!0,"{":!0,"}":!0},e.notTextDefaultAndNotClosingBracket={$:!0,"%":!0,"\\":!0,"{":!0,"}":!0},e.textParser=l;var D=(l(e.notTextDefault),l(e.notTextDefaultAndNotClosingBracket),k.regexp(/ */).map(S.newTeXRaw));e.comment=E.then(M).skip(O).map(C.newTeXComment),e.specialCharsDefault={"'":!0,"(":!0,")":!0,",":!0,".":!0,"-":!0,'"':!0,"!":!0,"^":!0,$:!0,"&":!0,"#":!0,"{":!0,"}":!0,"%":!0,"~":!0,"|":!0,"/":!0,":":!0,";":!0,"=":!0,"[":!0,"]":!0,"\\":!0,"`":!0," ":!0},e.isSpecialCharacter=c,e.isNotText=u,e.mathSymbol=k.string("$"),e.commandSymbol=k.string("\\"),e.latexBlockParser=h,e.latexBlockParserTextMode=k.lazy(function(){return k.alt(k.alt(l(e.notTextDefault),e.dolMath,e.comment,l(e.notTextDefaultAndNotClosingBracket),e.environment,_("Paragraph")))}),e.latexBlockParserMathMode=function(t,i){return k.lazy(function(){return k.alt(k.alt(y("Math",t,i),l(e.notTextMathMode),e.dolMath,e.comment,l(e.notTextMathModeAndNotClosingBracket),e.environment,_("Math")))})},e.latexParser=e.latexBlockParserTextMode.many();var P=k.string("{").then(e.latexBlockParserTextMode.many()).skip(k.string("}"));e.env=k.Parser(function(t,i){var n=k.string("\\begin").then(k.string("{")).then(D).then(k.regexp(/[a-zA-Z]+/)).skip(D).skip(k.string("}"))._(t,i);if(w(n))return n;i=T.mustBeNumber(n.index);var r=n.value;return o(e.latexBlockParserTextMode,k.string("\\end").then(k.string("{")).then(D).then(k.string(r)).then(D).then(k.string("}"))).map(function(t){return C.newTeXEnv(r,t)})._(t,i)}),e.environment=k.alt(P,e.env),e.specialChar=k.test(c),e.endCmd=function(t){return!f(t)&&!d(t)};var R=k.string("{"),N=k.string("}");e.fixArg=p,e.optArg=m,e.cmdArg=g,e.cmdArgs=v,e.command=_,e.subOrSuperscriptSymbolParser=function(t,e){return k.alt(k.string(t),k.string(e)).map(function(e){return e===t?C.SubOrSuperSymbol.SUB:C.SubOrSuperSymbol.SUP})},e.shiftedScript=y,e.dolMath=function(t,e,i){return void 0===t&&(t="Dollar"),void 0===e&&(e="$"),void 0===i&&(i="$"),k.string(e).then(h("Math","_").many().map(function(n){return C.newTeXMath(t,e,i,n)})).skip(k.string(i))}(),e.isOk=b,e.isNotOk=w,e.mustBeOk=x},function(t,e,i){"use strict";function n(t){return"string"==typeof t}function r(t,e){var i=t;do{t++}while(d.isTeXChar(e[t]));return{result:e.slice(i,t).map(function(t){return t.string}).join(""),blockIndex:t}}function a(t,e,i,r){var a=h(t,r);if(n(a))return{result:a,blockIndex:e+1};for(var o=[],l=[];o.length<a.argumentCount&&e<i.length-1;){e++;var c=e;if(i.length<c-1)throw new Error("Could not gobble "+a.argumentCount+" arguments for "+r.name);var u=i[c];if(d.isTeXRaw(u)){for(var f=/\s+/g,p=u.text.replace(x,""),m=-1,g=0;o.length<a.argumentCount;){var v=f.exec(p);if(!v){o.push.apply(o,w.convertToTeXCharsDefault(p));break}var _=p.substring(g,v.index);m=v.index,g=v.index+_.length,o.push.apply(o,w.convertToTeXCharsDefault(_))}m>=0&&l.push(p.substring(m))}else o.push(u)}e++;var y=o.map(function(e){return s(t,[e]).result}).map(d.newTeXRaw).map(function(t){return d.newFixArg([t])});if(y.length<a.argumentCount)throw new Error("Could not find enough arguments for command \\"+a.name+". Expected "+a.argumentCount+", but found "+y.length);var b=[a.apply(function(){},y)];return l.length>0&&b.push(l.join("")),{result:b.join(""),blockIndex:e}}function o(t){return void 0!==t&&"string"==typeof t.string&&"number"==typeof t.category}function s(t,e){var i=0;if(e.length<=0)return{result:"",blockIndex:i};for(var n=[];i<e.length;){var l=e[i];try{if(o(l)){var c=r(i,e);i=c.blockIndex,n.push(c.result)}else if(d.isTeXComm(l)){var u=a(t,i,e,l);i=u.blockIndex,n.push(u.result)}else if(d.isFixArg(l)||d.isOptArg(l)){var u=s(t,l.latex);n.push(u.result),i++}else if(d.isTextHaving(l))n.push(l.text),i++;else{if(d.isTeXMath(l))return s(t,l.latex);if(d.isTeXRaw(l))n.push(l.text),i++;else if(d.isSubOrSuperScript(l)){var h=l.arguments?l.arguments:[],u=a(t,i,e,d.newTeXComm.apply(void 0,[l.type===d.SubOrSuperSymbol.SUB?"mathsubscript":"mathsuperscript"].concat(h)));i=u.blockIndex,n.push(u.result)}else{if(!d.isArray(l))throw new Error("Can't handle LaTeX block yet: "+JSON.stringify(l)+". Leave an issue at https://github.com/digitalheir/tex-to-unicode/issues");var u=s(t,l);n.push(u.result),i++}}}catch(e){if(void 0===t.onError)throw e;var f=t.onError(e,l);if(void 0===f)throw e;n.push(f),i++}}return{result:n.join(""),blockIndex:i}}function l(t,e){if(e.arguments.length>0){var i=g.expand1argsCommand(e.name,s(t,[e.arguments[0]]).result||"");return e.arguments.length>1?i+s(t,e.arguments.slice(1)).result:i}return m.createCommandHandler(e.name,0,1,function(i,n){var r=n[0],a=n.slice(1);return g.expand1argsCommand(e.name,s(t,[r]).result)+s(t,a).result})}function c(t,e){if(e.arguments.length>1){var i=y.expand2argsCommand(e.name,s(t,[e.arguments[0]]).result||"",s(t,[e.arguments[1]]).result||"");return e.arguments.length>2?i+s(t,e.arguments.slice(1)).result:i}return m.createCommandHandler(e.name,0,2,function(i,n){var r=n[0],a=n[1],o=n.slice(2);return y.expand2argsCommand(e.name,s(t,[r]).result,s(t,[a]).result)+s(t,o).result})}function u(t,e){for(var i=void 0,n=void 0,r=0;void 0===n&&r<e.arguments.length;){var a=e.arguments[r],o=s(t,[a]).result;d.isOptArg(a)&&!i?i=o:n=o,r++}return n?_.convertSqrtToUnicode(n,i):m.createCommandHandler(e.name,1,1,function(e,i){var n=i[0],r=_.convertSqrtToUnicode(s(t,[n]).result);if(i.length>1){var a=i.slice(1);return r+s(t,a).result}return r})}function h(t,e){var i=e.name,n=p.expand0argsCommand(i);if(n)return e.arguments&&e.arguments.length>0?n+s(t,e.arguments).result:n;if(v.is1argsCommand(i))return l(t,e);if(b.is2argsCommand(i))return c(t,e);if("sqrt"===i)return u(t,e);throw f.unknownCommandError(i)}Object.defineProperty(e,"__esModule",{value:!0});var d=i(35),f=i(93),p=i(183),m=i(94),g=i(190),v=i(97),_=i(215),y=i(216),b=i(219),w=i(91),x=/^\s*/;e.isTeXChar2=o,e.convertLaTeXBlocksToUnicode=s,e.convertCommand=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(184),r=i(185),a=i(186),o=i(187),s=i(188),l=i(189);e.expand0argsCommand=function(t){for(var e=0,i=[a.barredLUnicode,n.spaceUnicode,o.slashedOUnicode,r.characterUnicode,l.specialCharacter,s.cyrillicUnicode];e<i.length;e++){var c=i[e],u=c(t);if(u)return u}}},function(t,e,i){"use strict";function n(t){return e.spaceCharactersUnicode.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.mathSpace="",e.spaceCharactersUnicode={",":"",quad:"",qquad:""," ":" ",space:" ",";":"",":":"",hfill:"\t"},e.isSpaceCharactersUnicode=n,e.spaceUnicode=function(t){return n(t)?e.spaceCharactersUnicode[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.characterUnicodeChart.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.characterUnicodeChart={leftrightsquigarrow:"",Longleftrightarrow:"",blacktriangleright:"",longleftrightarrow:"",blacktriangledown:"",blacktriangleleft:"",leftrightharpoons:"",rightleftharpoons:"",twoheadrightarrow:"",circlearrowright:"",downharpoonright:"",rightharpoondown:"",rightrightarrows:"",twoheadleftarrow:"",vartriangleright:"",bigtriangledown:"",circlearrowleft:"",curvearrowright:"",downharpoonleft:"",leftharpoondown:"",leftrightarrows:"",rightleftarrows:"",rightsquigarrow:"",rightthreetimes:"",trianglerighteq:"",vartriangleleft:"",Leftrightarrow:"",Longrightarrow:"",curvearrowleft:"",dashrightarrow:"",doublebarwedge:"",downdownarrows:"",hookrightarrow:"",leftleftarrows:"",leftrightarrow:"",leftthreetimes:"",longrightarrow:"",looparrowright:"",rightarrowtail:"",rightharpoonup:"",sphericalangle:"",textregistered:"",trianglelefteq:"",upharpoonright:"",Longleftarrow:"",bigtriangleup:"",blacktriangle:"",dashleftarrow:"",divideontimes:"",fallingdotseq:"",hookleftarrow:"",leftarrowtail:"",leftharpoonup:"",longleftarrow:"",looparrowleft:"",measuredangle:"",shortparallel:"",smallsetminus:"",texttrademark:"",triangleright:"",upharpoonleft:"",blacklozenge:"",risingdotseq:"",triangledown:"",triangleleft:"",Rrightarrow:"",Updownarrow:"",backepsilon:"",blacksquare:"",circledcirc:"",circleddash:"",curlyeqprec:"",curlyeqsucc:"",diamondsuit:"",preccurlyeq:"",succcurlyeq:"",textgreater:">",thickapprox:"",updownarrow:"",vartriangle:"",Lleftarrow:"",Rightarrow:"",circledast:"",complement:"",curlywedge:"",longmapsto:"",registered:"",rightarrow:"",smallfrown:"",smallsmile:"",sqsubseteq:"",sqsupseteq:"",textlangle:"",textrangle:"",upuparrows:"",varepsilon:"",varnothing:"",Downarrow:"",Leftarrow:"",backprime:"",bigotimes:"",centerdot:"",copyright:"",downarrow:"",gtreqless:"",heartsuit:"",leftarrow:"",lesseqgtr:"",pitchfork:"",spadesuit:"",therefore:"",trademark:"",triangleq:"",varpropto:"",approxeq:"",barwedge:"",bigoplus:"",bigsqcup:"",biguplus:"",bigwedge:"",boxminus:"",boxtimes:"",circledS:"",clubsuit:"",curlyvee:"",doteqdot:"",emptyset:"",intercal:"",leqslant:"",multimap:"",parallel:"",setminus:"",sqsubset:"",sqsupset:"",subseteq:"",supseteq:"",textless:"<",thicksim:"",triangle:"",varkappa:"",varsigma:"",vartheta:"",Diamond:"",Uparrow:"",Upsilon:"",backsim:"",because:"",between:"",bigodot:"",bigstar:"",boxplus:"",ddagger:"",diamond:"",digamma:"",dotplus:"",epsilon:"",gtrless:"",implies:"",leadsto:"",lessdot:"",lessgtr:"",lesssim:"",lozenge:"",natural:"",nearrow:"",nexists:"",nwarrow:"",partial:"",pilcrow:"",precsim:"",searrow:"",section:"",succsim:"",swarrow:"",textbar:"|",uparrow:"",upsilon:"",Bumpeq:"",Lambda:"",Subset:"",Supset:"",Vvdash:"",approx:"",bigcap:"",bigcup:"",bigvee:"",bowtie:"",boxdot:"",bullet:"",bumpeq:"",circeq:"",coprod:"",dagger:"",daleth:"",degree:"",eqcirc:"",exists:"",forall:"",gtrdot:"",gtrsim:"",hslash:"",lambda:"",lfloor:"",ltimes:"",mapsto:"",models:"",ominus:"",oslash:"",otimes:"",preceq:"",propto:"",rfloor:"",rtimes:"",square:"",subset:"",succeq:"",supset:"",varphi:"",varrho:"",veebar:"",Delta:"",Gamma:"",Omega:"",Theta:"",Vdash:"",aleph:"",Alpha:"",alpha:"",angle:"",asymp:"",cdots:"",cents:"",dashv:"",ddots:"",delta:"",doteq:"",equiv:"",frown:"",gamma:"",gimel:"",infty:"",kappa:"",Kappa:"",lceil:"",nabla:"",notin:"",omega:"",oplus:"",pound:"",prime:"",qquad:"",rceil:"",sharp:"",sigma:"",simeq:"",smile:"",space:"",sqcap:"",sqcup:"",theta:"",times:"",unlhd:"",unrhd:"",uplus:"",vDash:"",varpi:"",vdash:"",vdots:"",wedge:"",Finv:"",Join:"",atop:"",beta:"",Beta:"",beth:"",cdot:"",circ:"",cong:"",dots:"",euro:"",flat:"",geqq:"",hbar:"",iota:"",leqq:"",odot:"",oint:"",perp:"",prec:"",prod:"",quad:"",star:"",succ:"",surd:"",zeta:"",Box:"",Cap:"",Cup:"",Lsh:"",Phi:"",Psi:"",Rsh:"",ast:"",bot:"",cap:"",chi:"",Chi:"",cup:"",div:"",ell:"",eta:"",eth:"",geq:"",ggg:"",int:"",leq:"",lhd:"",lll:"",mho:"",mid:"",neg:"",neq:"",phi:"",psi:"",rhd:"",rho:"",Rho:"",sim:"",sum:"",tau:"",Tau:"",top:"",vee:"",Im:"",Pi:"",Re:"",Xi:"",ge:"",gg:"",in:"",le:"",ll:"",mp:"",mu:"",Mu:"",ni:"",nu:"",Nu:"",pi:"",pm:"",wp:"",wr:"",xi:"",Omicron:"",omicron:"",textdollar:"$",textquotesingle:"'",textbackslash:"\\",textasciigrave:"`",lbrace:"{",vert:"|",rbrace:"}",textasciitilde:"~",textexclamdown:"",textcent:"",textsterling:"",textcurrency:"",textyen:"",textbrokenbar:"",textsection:"",textasciidieresis:"",textcopyright:"",textordfeminine:"",guillemotleft:"",lnot:"",textasciimacron:"",textdegree:"",textasciiacute:"",textparagraph:"",textordmasculine:"",guillemotright:"",textonequarter:"",textonehalf:"",textthreequarters:"",textquestiondown:"",AA:"",AE:"",DH:"",texttimes:"",TH:"",ss:"",aa:"",ae:"",dh:"",th:"",DJ:"",dj:"",Elzxh:"",i:"",NG:"",ng:"",OE:"",oe:"",texthvlig:"",textnrleg:"",textdoublepipe:"",Elztrna:"",Elztrnsa:"",Elzopeno:"",Elzrtld:"",Elzschwa:"",Elzpgamma:"",Elzpbgam:"",Elztrnh:"",Elzbtdl:"",Elzrtll:"",Elztrnm:"",Elztrnmlr:"",Elzltlmr:"",Elzltln:"",Elzrtln:"",Elzclomeg:"",textphi:"",Elztrnr:"",Elztrnrl:"",Elzrttrnr:"",Elzrl:"",Elzrtlr:"",Elzfhr:"",Elzrtls:"",Elzesh:"",Elztrnt:"",Elzrtlt:"",Elzpupsil:"",Elzpscrv:"",Elzinvv:"",Elzinvw:"",Elztrny:"",Elzrtlz:"",Elzyogh:"",Elzglst:"",Elzreglst:"",Elzinglst:"",textturnk:"",Elzdyogh:"",Elztesh:"",textasciicaron:"",Elzverts:"",Elzverti:"",Elzlmrk:"",Elzhlmrk:"",Elzsbrhr:"",Elzsblhr:"",Elzrais:"",Elzlow:"",textasciibreve:"",textperiodcentered:"",texttildelow:"",Epsilon:"",Zeta:"",Eta:"",Iota:"",Sigma:"",texttheta:"",textvartheta:"",Stigma:"",Digamma:"",Koppa:"",Sampi:"",textTheta:"",textendash:"",textemdash:"",Vert:"",Elzreapos:"",textquotedblleft:"",textquotedblright:"",textdagger:"",textdaggerdbl:"",textbullet:"",ldots:"",textperthousand:"",textpertenthousand:"",guilsinglleft:"",guilsinglright:"",nolinebreak:"",Elzxrat:"",nleftarrow:"",nrightarrow:"",arrowwaveleft:"",arrowwaveright:"",nleftrightarrow:"",dblarrowupdown:"",nLeftarrow:"",nLeftrightarrow:"",nRightarrow:"",DownArrowUpArrow:"",rightangle:"",nmid:"",nparallel:"",surfintegral:"",volintegral:"",clwintegral:"",Colon:"",homothetic:"",lazysinv:"",NotEqualTilde:"",approxnotequal:"",tildetrpl:"",allequal:"",NotHumpDownHump:"",NotHumpEqual:"",estimates:"",starequal:"",lneqq:"",lvertneqq:"",gneqq:"",gvertneqq:"",NotLessLess:"",NotGreaterGreater:"",lessequivlnt:"",greaterequivlnt:"",notlessgreater:"",notgreaterless:"",precapprox:"",NotPrecedesTilde:"",succapprox:"",NotSucceedsTilde:"",subsetneq:"",varsubsetneqq:"",supsetneq:"",varsupsetneq:"",NotSquareSubset:"",NotSquareSuperset:"",truestate:"",forcesextra:"",VDash:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",original:"",image:"",hermitconjmatrix:"",rightanglearc:"",backsimeq:"",verymuchless:"",verymuchgreater:"",Elzsqspne:"",lnsim:"",gnsim:"",precedesnotsimilar:"",succnsim:"",ntriangleleft:"",ntriangleright:"",ntrianglelefteq:"",ntrianglerighteq:"",upslopeellipsis:"",downslopeellipsis:"",perspcorrespond:"",recorder:"",ulcorner:"",urcorner:"",llcorner:"",lrcorner:"",langle:"",rangle:"",Elzdlcorn:"",lmoustache:"",rmoustache:"",textvisiblespace:"",Elzdshfnc:"",Elzsqfnw:"",diagup:"",Elzvrecto:"",Elzcirfl:"",Elzcirfr:"",Elzcirfb:"",Elzrvbull:"",Elzsqfl:"",Elzsqfr:"",Elzsqfse:"",bigcirc:"",rightmoon:"",mercury:"",venus:"",male:"",jupiter:"",saturn:"",uranus:"",neptune:"",pluto:"",aries:"",taurus:"",gemini:"",cancer:"",leo:"",virgo:"",libra:"",scorpio:"",sagittarius:"",capricornus:"",aquarius:"",pisces:"",quarternote:"",eighthnote:"",UpArrowBar:"",DownArrowBar:"",Elolarr:"",Elorarr:"",ElzRlarr:"",ElzrLarr:"",Elzrarrx:"",LeftRightVector:"",RightUpDownVector:"",DownLeftRightVector:"",LeftUpDownVector:"",LeftVectorBar:"",RightVectorBar:"",RightUpVectorBar:"",RightDownVectorBar:"",DownLeftVectorBar:"",DownRightVectorBar:"",LeftUpVectorBar:"",LeftDownVectorBar:"",LeftTeeVector:"",RightTeeVector:"",RightUpTeeVector:"",RightDownTeeVector:"",DownLeftTeeVector:"",DownRightTeeVector:"",LeftUpTeeVector:"",LeftDownTeeVector:"",UpEquilibrium:"",ReverseUpEquilibrium:"",RoundImplies:"",Elztfnc:"",Elroang:"",Elzddfnc:"",Angle:"",Elzlpargt:"",ElzLap:"",Elzdefas:"",LeftTriangleBar:"",NotLeftTriangleBar:"",RightTriangleBar:"",NotRightTriangleBar:"",RuleDelayed:"",Elxuplus:"",ElzThr:"",Elxsqcup:"",ElzInf:"",ElzSup:"",ElzCint:"",clockoint:"",sqrint:"",ElzTimes:"",amalg:"",ElzAnd:"",ElzOr:"",ElOr:"",Elzminhat:"",Equal:"",nleqslant:"",geqslant:"",ngeqslant:"",lessapprox:"",gtrapprox:"",lneq:"",gneq:"",lnapprox:"",gnapprox:"",lesseqqgtr:"",gtreqqless:"",eqslantless:"",eqslantgtr:"",NestedLessLess:"",NotNestedLessLess:"",NestedGreaterGreater:"",NotNestedGreaterGreater:"",precneqq:"",succneqq:"",precnapprox:"",succnapprox:"",subseteqq:"",nsubseteqq:"",supseteqq:"",subsetneqq:"",supsetneqq:"",Elztdcol:"",openbracketleft:"",openbracketright:""},e.isCharacterUnicode=n,e.characterUnicode=function(t){return n(t)?e.characterUnicodeChart[t]:void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.barredLUnicodeChart={l:"",L:""},e.barredLUnicode=function(t){return e.barredLUnicodeChart[t]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.slashed_o="",e.slashed_O="",e.slashedOUnicodeChart={o:e.slashed_o,O:e.slashed_O},e.slashedOUnicode=function(t){return e.slashedOUnicodeChart[t]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cyrillicUnicodeChart={CYRF:"",CYRII:"",CYROMEGA:"",CYRG:"",cyrkvcrs:"",cyryo:"",CYRH:"",CYRZHDSC:"",cyrphk:"",CYRTDSC:"",CYRI:"",cyryi:"",CYRDZHE:"",cyriote:"",CYRK:"",CYRSHHA:"",CYRL:"",CYRM:"",CYRCHLDSC:"",CYRNJE:"",CYRYAT:"",CYRA:"",CYRB:"",cyrchrdsc:"",cyrschwa:"",CYRDZE:"",CYRIE:"",CYRC:"",CYRZH:"",CYRD:"",CYRABHCHDSC:"",CYRFITA:"",CYRE:"",CYRABHHA:"",cyrya:"",cyrdzhe:"",CYRIOTLYUS:"",cyrsemisftsn:"",CYRV:"",cyrishrt:"",cyrdje:"",cyrchldsc:"",CYRY:"",cyrndsc:"",CYRZ:"",CYRKHCRS:"",CYRNG:"",CYRCHRDSC:"",CYRYHCRS:"",CYRSHCH:"",CYRUSHRT:"",cyryu:"",cyrksi:"",CYRN:"",CYRO:"",CYRBYUS:"",CYRP:"",CYRZDSC:"",CYRAE:"",CYRR:"",CYRS:"",CYRT:"",CYRABHCH:"",cyruk:"",CYRU:"",cyrii:"",CYRSEMISFTSN:"",cyrghcrs:"",CYRISHRT:"",cyromegatitlo:"",cyrkbeak:"",cyrie:"",cyrzdsc:"",CYRNDSC:"",CYRGUP:"",cyrshch:"",CYRKHK:"",cyrzh:"",CYRJE:"",cyrthousands:"",cyrabhch:"",textnumero:"",cyrng:"",CYRPSI:"",CYRTETSE:"",CYRIOTBYUS:"",cyrnje:"",CYRIOTE:"",cyrdze:"",cyrae:"",CYRHRDSN:"",CYRKOPPA:"",CYRRTICK:"",CYRSCHWA:"",cyrtdsc:"",CYRGHK:"",cyrabhha:"",cyrshha:"",CYRSH:"",cyru:"",cyrkhcrs:"",cyrt:"",CYRERY:"",cyrs:"",cyrr:"",CYROT:"",cyrlyus:"",CYRNHK:"",CYRSFTSN:"",cyrghk:"",cyrp:"",cyrabhdze:"",cyro:"",CYRTSHE:"",cyrn:"",CYRSDSC:"",cyryhcrs:"",cyrpsi:"",cyrz:"",cyry:"",cyrje:"",cyrv:"",cyrchvcrs:"",cyrkhk:"",cyre:"",cyromega:"",cyrd:"",cyrc:"",cyrb:"",CYROTLD:"",cyrgup:"",CYRLJE:"",cyra:"",CYROMEGATITLO:"",CYRGHCRS:"",CYRCHVCRS:"",cyrm:"",cyrl:"",cyrsh:"",cyrk:"",cyri:"",cyrh:"",CYRHDSC:"",CYRIZH:"",CYRABHDZE:"",cyrkdsc:"",cyrg:"",CYRCH:"",cyrf:"",CYRYI:"",cyrmillions:"",CYRKSI:"",CYROMEGARND:"",cyrot:"",cyrtetse:"",cyrhdsc:"",cyrushrt:"",cyriotlyus:"",CYRYA:"",cyrlje:"",cyrotld:"",CYRKDSC:"",cyrhrdsn:"",cyrrtick:"",cyrkoppa:"",CYRDJE:"",cyriotbyus:"",cyrhundredthousands:"",CYRpalochka:"",CYRKVCRS:"",cyromegarnd:"",cyrsftsn:"",cyrabhchdsc:"",cyrzhdsc:"",cyrerev:"",CYRLYUS:"",CYRKBEAK:"",cyrery:"",CYREREV:"",cyrnhk:"",cyrsdsc:"",cyrch:"",cyrtshe:"",CYRPHK:"",CYRYO:"",CYRYU:"",CYRUK:""},e.cyrillicUnicode=function(t){return e.cyrillicUnicodeChart[t]}},function(t,e,i){"use strict";function n(t){return e.specialCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.specialCharacters={i:"",j:"",oe:"",OE:"",ae:"",AE:"",aa:"",AA:"",o:"",O:"",ss:"",l:"",L:""},e.isSpecialCharacter=n,e.specialCharacter=function(t){return n(t)?e.specialCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t,e){switch(t){case"cyrchar":var i=o.translateCharToCyrillic(e);if(i)return i;break;default:for(var n=0,s=[r.diacriticUnicode,a.formattingUnicode];n<s.length;n++){var l=s[n],c=l(t,e);if(c)return c}}throw new Error("No implementation found to expand \\"+t+" with argument {"+e+"}")}Object.defineProperty(e,"__esModule",{value:!0});var r=i(191),a=i(203),o=i(212);e.expand1argsCommand=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(192),r=i(193),a=i(194),o=i(195),s=i(196),l=i(197),c=i(198),u=i(199),h=i(17),d=i(200),f=i(201),p=i(202);e.barUnderLetter=h.simpleSuffix(""),e.dotUnderLetter=h.simpleSuffix(""),e.breve=h.simpleSuffix(""),e.macrron=h.simpleSuffix(""),e.dotOverLetter=h.simpleSuffix(""),e.longHungarianUmlaut=h.simpleSuffix(""),e.modifiersTextModeUnicodeChart={"`":a.graveAccent,"'":r.acuteAccent,"^":o.circumflex,"~":s.tilde,"=":e.macrron,".":e.dotOverLetter,'"':l.dieresis,H:e.longHungarianUmlaut,c:c.cedilla,k:d.ogonek,b:e.barUnderLetter,d:e.dotUnderLetter,r:n.ringOverLetter,u:e.breve,v:u.caron,t:f.tieLetters},e.modifiersMathModeUnicodeChart={check:u.caron,acute:r.acuteAccent,grave:r.acuteAccent,breve:e.breve,vec:p.vectorArrow,mathring:n.ringOverLetter},e.diacriticUnicode=function(t,i){var n=e.modifiersTextModeUnicodeChart[t];return n||(n=e.modifiersMathModeUnicodeChart[t]),n&&n(i)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.ringOverLetter=n.lookupOrAppend({a:"",A:"",y:""},"")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.acuteAccent=n.lookupOrAppend({e:"",y:"",u:"",i:"",o:"",a:"",E:"",Y:"",U:"",I:"",O:"",A:"",cyrk:"",cyrg:"",CYRK:"",CYRG:""},"")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.graveAccent=n.lookupOrAppend({e:"",u:"",i:"",o:"",a:"",E:"",U:"",I:"",O:"",A:""},"")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.circumflex=n.lookupOrAppend({e:"",u:"",i:"",o:"",a:"",E:"",U:"",I:"",O:"",A:""},"")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.tilde=n.lookupOrAppend({o:"",a:"",n:"",O:"",A:"",N:""},"")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.dieresis=n.lookupOrAppend({e:"",y:"",u:"",i:"",o:"",a:"",E:"",Y:"",U:"",I:"",O:"",A:""},"")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.cedilla=n.lookupOrAppend({c:""},"")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.caron=n.lookupOrAppend({s:""},"")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17);e.ogonek=n.simpleSuffix("")},function(t,e,i){"use strict";function n(t){return r(t.charAt(0),t.substring(1))}function r(t,e){return t+""+e}function a(t){return"t"===t}Object.defineProperty(e,"__esModule",{value:!0}),e.tieLetters=n,e.tie2Letters=r,e.isTieLetters=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.vectorArrow=n.lookupOrAppend({},"")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(204),r=i(205),a=i(206),o=i(207),s=i(208),l=i(209),c=i(95),u=i(210),h=i(96),d=i(211);e.formattingUnicode=function(t,e){var i=void 0;if(c.isBbCmd(t)?i=n.translateCharToBlackboard:c.isBfCmd(t)?i=r.translateCharToBold:c.isFrakCmd(t)?i=a.translateCharToFraktur:c.isItCmd(t)?i=o.translateCharToItalic:c.isTtCmd(t)?i=s.translateCharToMonospace:c.isCalCmd(t)?i=l.translateCharToCalligraphic:c.isSubCmd(t)?i=u.translateCharToSubscript:c.isSupCmd(t)?i=h.translateCharToSuperscript:c.isMonoCmd(t)&&(i=d.translateCharToMono),i){var f=i;return e.split("").map(function(t){return f(t)||t}).join("")}}},function(t,e,i){"use strict";function n(t){return e.blackboardCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.blackboardCharacters={A:"",B:"",C:"",D:"",E:"",F:"",G:"",H:"",I:"",J:"",K:"",L:"",M:"",N:"",O:"",P:"",Q:"",R:"",S:"",T:"",U:"",V:"",W:"",X:"",Y:"",Z:"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""},e.isBlackboardCharacter=n,e.translateCharToBlackboard=function(t){return n(t)?e.blackboardCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.boldCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.boldCharacters={A:"",B:"",C:"",D:"",E:"",F:"",G:"",H:"",I:"",J:"",K:"",L:"",M:"",N:"",O:"",P:"",Q:"",R:"",S:"",T:"",U:"",V:"",W:"",X:"",Y:"",Z:"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""},e.isBlackboardCharacter=n,e.translateCharToBold=function(t){return n(t)?e.boldCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.frakturCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.frakturCharacters={A:"",B:"",C:"",D:"",E:"",F:"",G:"",H:"",I:"",J:"",K:"",L:"",M:"",N:"",O:"",P:"",Q:"",R:"",S:"",T:"",U:"",V:"",W:"",X:"",Y:"",Z:"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""},e.isFrakturCharacter=n,e.translateCharToFraktur=function(t){return n(t)?e.frakturCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.italicCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.italicCharacters={A:"",B:"",C:"",D:"",E:"",F:"",G:"",H:"",I:"",J:"",K:"",L:"",M:"",N:"",O:"",P:"",Q:"",R:"",S:"",T:"",U:"",V:"",W:"",X:"",Y:"",Z:"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},e.isItalicCharacter=n,e.translateCharToItalic=function(t){return n(t)?e.italicCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.monospaceCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.monospaceCharacters={A:"",B:"",C:"",D:"",E:"",F:"",G:"",H:"",I:"",J:"",K:"",L:"",M:"",N:"",O:"",P:"",Q:"",R:"",S:"",T:"",U:"",V:"",W:"",X:"",Y:"",Z:"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""},e.isMonospaceCharacter=n,e.translateCharToMonospace=function(t){return n(t)?e.monospaceCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.calligraphicLetters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.calligraphicLetters={A:"",B:"",C:"",D:"",E:"",F:"",G:"",H:"",I:"",J:"",K:"",L:"",M:"",N:"",O:"",P:"",Q:"",R:"",S:"",T:"",U:"",V:"",W:"",X:"",Y:"",Z:"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""},e.isCalligraphicLetter=n,e.translateCharToCalligraphic=function(t){return n(t)?e.calligraphicLetters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.subscriptCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.subscriptCharacters={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"","+":"","-":"","=":"","(":"",")":"",a:"",e:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",x:"","":"","":"","":"","":"","":""},e.isSubscriptCharacter=n,e.translateCharToSubscript=function(t){return n(t)?e.subscriptCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.monoCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.monoCharacters={A:"",B:"",C:"",D:"",E:"",F:"",G:"",H:"",I:"",J:"",K:"",L:"",M:"",N:"",O:"",P:"",Q:"",R:"",S:"",T:"",U:"",V:"",W:"",X:"",Y:"",Z:"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""},e.isMonoCharacter=n,e.translateCharToMono=function(t){return n(t)?e.monoCharacters[t]:void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cyrillicCharacters={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},e.isCyrillicCharacter=function(t){return e.cyrillicCharacters.hasOwnProperty(t)},e.translateCharToCyrillic=function(t){return e.isCyrillicCharacter(t)?e.cyrillicCharacters[t]:void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spaceCmds1arg={kern:!0,hskip:!0,hspace:!0,hphantom:!0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diacriticsTextMode={"`":!0,"'":!0,"^":!0,"~":!0,"=":!0,".":!0,'"':!0,H:!0,c:!0,k:!0,b:!0,d:!0,r:!0,u:!0,v:!0},e.diacriticsMathMode={hat:!0,widehat:!0,check:!0,tilde:!0,widetilde:!0,acute:!0,grave:!0,dot:!0,ddot:!0,breve:!0,bar:!0,vec:!0,mathring:!0}},function(t,e,i){"use strict";function n(t){var e=t?t.trim():void 0;if(!e)return"";switch(e){case"2":return"";case"3":return"";case"4":return"";default:for(var i=[],n=0;n<e.length;n++){var r=a.translateCharToSuperscript(e.charAt(n));if(!r)throw new Error('Could not translate "'+r+'" to superscript');i.push(r)}return i.join("")+""}}function r(t,e){var i=n(e),r=t.trim();return""===r?i:i+"("+r+")"}Object.defineProperty(e,"__esModule",{value:!0});var a=i(96);e.convertSqrtToUnicode=r},function(t,e,i){"use strict";function n(t,e,i){switch(t){case"frac":case"nfrac":case"cfrac":case"xfrac":case"sfrac":return r.convertFracToUnicode(e,i);case"binom":return a.convertBinom(e,i)}throw new Error("No implementation found to expand \\"+t+" with arguments {"+e+", "+i)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(217),a=i(218);e.expand2argsCommand=n},function(t,e,i){"use strict";function n(t,e){return"1"===t&&"2"===e?"":"1"===t&&"3"===e?"":"1"===t&&"4"===e?"":"1"===t&&"5"===e?"":"1"===t&&"6"===e?"":"1"===t&&"8"===e?"":"2"===t&&"3"===e?"":"2"===t&&"5"===e?"":"3"===t&&"4"===e?"":"3"===t&&"5"===e?"":"3"===t&&"8"===e?"":"4"===t&&"5"===e?"":"5"===t&&"6"===e?"":"5"===t&&"8"===e?"":"7"===t&&"8"===e?"":o.test(t)&&o.test(e)?a+t+""+e+a:(t=r.isSingleTerm.test(t)?t:r.addParenthesis(t),e=r.isSingleTerm.test(e)?e:r.addParenthesis(e),"("+t+" / "+e+")")}Object.defineProperty(e,"__esModule",{value:!0});var r=i(17),a="",o=/^[0-9]*$/;e.convertFracToUnicode=n},function(t,e,i){"use strict";function n(t,e){return t=a.test(t)?t:r.addParenthesis(t),e=a.test(e)?e:r.addParenthesis(e),"("+t+"  "+e+")"}Object.defineProperty(e,"__esModule",{value:!0});var r=i(17),a=/^.$|^[0-9]+$/;e.convertBinom=n},function(t,e,i){"use strict";function n(t){return e.twoArgsCommands.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(220);e.twoArgsCommands=Object.assign({},r.fracCmds,{binom:!0}),e.is2argsCommand=n},function(t,e,i){"use strict";function n(t){return e.fracCmds.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.fracCmds={frac:!0,nfrac:!0,cfrac:!0,xfrac:!0,sfrac:!0},e.isFracCmd=n},function(t,e,i){"use strict";function n(t){return{name:t,optionalArguments:0,argumentCount:0}}Object.defineProperty(e,"__esModule",{value:!0}),e.createKnownCommand=n},function(t,e,i){"use strict";function n(t){return{name:t,optionalArguments:0,argumentCount:1}}Object.defineProperty(e,"__esModule",{value:!0}),e.createKnownCommandWith1Arg=n},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toolForm"},[i("div",{staticClass:"toolFormTitle"},[t._v("\n        Citations\n        "),t.viewRender?i("button",{staticClass:"btn btn-xs citations-to-bibtex",attrs:{type:"button",title:"Show all in BibTeX format."},on:{click:t.toggleViewRender}},[i("i",{staticClass:"fa fa-pencil-square-o"}),t._v("\n            Show BibTeX\n        ")]):i("button",{staticClass:"btn btn-xs citations-to-formatted",attrs:{type:"button",title:"Return to formatted citation list."},on:{click:t.toggleViewRender}},[i("i",{staticClass:"fa fa-times"}),t._v("\n            Hide BibTeX\n        ")])]),t._v(" "),i("div",{staticClass:"toolFormBody",staticStyle:{padding:"5px 10px"}},["history"==t.source?i("div",{staticStyle:{padding:"5px 10px"}},[i("b",[t._v("Warning: This is a experimental feature.")]),t._v(" Most Galaxy\n            tools will not annotate citations explicitly at this time. When\n            writing up your analysis, please manually review your histories\n            and find all references that should be cited in order to\n            completely describe your work. Also, please remember to "),i("a",{attrs:{href:"https://galaxyproject.org/citing-galaxy"}},[t._v("cite Galaxy")]),t._v(".\n        ")]):t._e()]),t._v(" "),i("div",{staticClass:"citations-bibtex toolFormBody",staticStyle:{padding:"5px 10px"}},[t.viewRender?i("span",{staticClass:"citations-formatted",staticStyle:{"word-wrap":"break-word"}},[i("p",{domProps:{innerHTML:t._s(t.formattedReferences)}})]):i("textarea",{staticClass:"citations-bibtex-text",staticStyle:{width:"100%",height:"500px"}},[t._v("            "+t._s(t.content)+"\n        ")])])])},r=[],a={render:n,staticRenderFns:r};e.a=a},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(23),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(225),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=r.default.GenomeDataManager.extend({load_data:function(e,i,n,r){var a=t.Deferred();this.set_data(e,a);var s=Galaxy.root+"datasets/"+this.get("dataset").id+"/display",l=this;new t.Deferred;return t.when(o.makeBwg(s)).then(function(i,n){t.when(i.readWigData(e.get("chrom"),e.get("start"),e.get("end"))).then(function(t){var i=[],n={max:Number.MIN_VALUE};t.forEach(function(t){n.max!==t.min-1&&(i.push([n.max+1,0]),i.push([t.min-2,0])),i.push([t.min-1,t.score]),i.push([t.max,t.score]),n=t});var r={data:i,region:e,dataset_type:"bigwig"};l.set_data(e,r),a.resolve(r)})}),a}});e.default={BBIDataManager:s}}).call(e,i(0))},function(t,e,i){(function(n){var r,a;r=[i(226),i(227),i(228)],void 0!==(a=function(t,e){"use strict";function i(){}function r(t){t&&(this.id=t)}function a(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function o(t,e,i){Math.pow(10,6);return n.ajax({type:"GET",dataType:"native",url:t,timeout:5e3,beforeSend:function(t){t.setRequestHeader("Range","bytes="+e+"-"+(e+(i-1)))},xhrFields:{responseType:"arraybuffer"}})}function s(t,e){return t[e]+t[e+1]*w+t[e+2]*x+t[e+3]*k+t[e+4]*C}function l(){}function c(t,e,i,n){this.bwg=t,this.cirTreeOffset=e,this.cirTreeLength=i,this.isSummary=n}function u(t){var e=n.Deferred(),i=new l;return i.url=t,n.when(o(i.url,0,512)).then(function(t){if(!t)return e.resolve(null,"Couldn't fetch file");var r=t,a=new Uint8Array(r),o=new Int16Array(r),l=new Int32Array(r),c=a[0]+w*a[1]+x*a[2]+k*a[3];if(c==v)i.type="bigwig";else{if(c!=y)return c==_||c==b?e.resolve(null,"Currently don't support big-endian BBI files"):e.resolve(null,"Not a supported format, magic=0x"+c.toString(16));i.type="bigbed"}i.version=o[2],i.numZoomLevels=o[3],i.chromTreeOffset=s(a,8),i.unzoomedDataOffset=s(a,16),i.unzoomedIndexOffset=s(a,24),i.fieldCount=o[16],i.definedFieldCount=o[17],i.asOffset=s(a,36),i.totalSummaryOffset=s(a,44),i.uncompressBufSize=l[13],i.extHeaderOffset=s(a,56),i.zoomLevels=[];for(var u=0;u<i.numZoomLevels;++u){var h=l[6*u+16],d=s(a,24*u+72),f=s(a,24*u+80);i.zoomLevels.push({reduction:h,dataOffset:d,indexOffset:f})}n.when(i.readChromTree()).then(function(){i.getAutoSQL(function(t){return i.schema=t,e.resolve(i)})})}),e}function h(t,e,i,n,r){this.bbi=t,this.type=e,this.fieldCount=i,this.offset=n,this.field=r}var d=t.Range,f=t.union,p=t.intersection,m=e.inflateBuffer,g=e.arrayCopy,v=2291137574,_=654086024,y=2273964779,b=3958540679,w=256,x=65536,k=16777216,C=4294967296,S=new RegExp("^[0-9]+,[0-9]+,[0-9]+");return l.prototype.readChromTree=function(){var t=this;this.chromsToIDs={},this.idsToChroms={},this.maxID=0;var e=this.unzoomedDataOffset;return e=e+4-(e-this.chromTreeOffset&3),n.when(o(this.url,this.chromTreeOffset,e-this.chromTreeOffset)).then(function(e){var i=new Uint8Array(e),n=new Int16Array(e),r=new Int32Array(e),a=(r[0],r[1],r[2]),o=(r[3],s(i,16),function(e){var r=i[e],l=n[e/2+1];e+=4;for(var c=0;c<l;++c)if(0===r){e+=a;var u=s(i,e);e+=8,u-=t.chromTreeOffset,o(u)}else{for(var h="",d=0;d<a;++d){var f=i[e++];0!==f&&(h+=String.fromCharCode(f))}var p=i[e+3]<<24|i[e+2]<<16|i[e+1]<<8|i[e+0];i[e+7],i[e+6],i[e+5],i[e+4],e+=8,t.chromsToIDs[h]=p,0===h.indexOf("chr")&&(t.chromsToIDs[h.substr(3)]=p),t.idsToChroms[p]=h,t.maxID=Math.max(t.maxID,p)}});o(32)})},c.prototype.readWigData=function(t,e,i){var n=this.bwg.chromsToIDs[t];return void 0===n?[]:this.readWigDataById(n,e,i)},c.prototype.readWigDataById=function(t,e,i){var r=this,a=n.Deferred();if(!this.cirHeader)return n.when(o(r.bwg.url,this.cirTreeOffset,48)).then(function(o){r.cirHeader=o;var s=new Int32Array(r.cirHeader);r.cirBlockSize=s[1],n.when(r.readWigDataById(t,e,i)).then(function(t){a.resolve(t)})}),a;var l=[],c=0,u=(Date.now(),function(n,r,a,o){return(t<0||n==t)&&r<=i&&a>=e}),h=function(t,e){if(r.bwg.instrument&&console.log("level="+e+"; offset="+t+"; time="+(0|Date.now())),c+=t.length,1==t.length&&t[0]-r.cirTreeOffset==48&&r.cachedCirRoot)return m(r.cachedCirRoot,0,e),void(0===--c&&n.when(r.fetchFeatures(u,l)).then(function(t){a.resolve(t)}));for(var i,o=4+32*r.cirBlockSize,s=0;s<t.length;++s){var h=new d(t[s],t[s]+o);i=i?f(i,h):h}for(var g=i.ranges(),v=0;v<g.length;++v){var _=g[v];p(t,_,e)}},p=function(t,e,i,s){e.max(),e.min();n.when(o(r.bwg.url,e.min(),e.max()-e.min())).then(function(o){for(var s=0;s<t.length;++s)e.contains(t[s])&&(m(o,t[s]-e.min(),i),t[s]-r.cirTreeOffset==48&&t[s]-e.min()==0&&(r.cachedCirRoot=o),0===--c&&n.when(r.fetchFeatures(u,l)).then(function(t){a.resolve(t)}))})},m=function(n,r,a){var o=new Uint8Array(n),c=new Int16Array(n),u=new Int32Array(n),d=o[r],f=c[r/2+1];if(r+=4,0!==d)for(var p=0;p<f;++p){var m=r/4,g=u[m],v=u[m+1],_=u[m+2],y=u[m+3],b=s(o,r+16),w=s(o,r+24);(t<0||g<t||g==t&&v<=i)&&(t<0||_>t||_==t&&y>=e)&&l.push({offset:b,size:w}),r+=32}else{for(var x=[],p=0;p<f;++p){var m=r/4,g=u[m],v=u[m+1],_=u[m+2],y=u[m+3],b=s(o,r+16);(t<0||g<t||g==t&&v<=i)&&(t<0||_>t||_==t&&y>=e)&&x.push(b),r+=24}x.length>0&&h(x,a+1)}};return h([r.cirTreeOffset+48],1),a},c.prototype.fetchFeatures=function(t,e){var r=this,a=n.Deferred();if(e.sort(function(t,e){return(0|t.offset)-(0|e.offset)}),0===e.length)return[];var s=[],l=function(t,e,n,a){a||(a={});var o=new i;o._chromId=t,o.segment=r.bwg.idsToChroms[t],o.min=e,o.max=n,o.type=r.bwg.type;for(var l in a)o[l]=a[l];s.push(o)},c=function(){if(0===e.length){Date.now();return a.resolve(s)}var i=e[0];if(i.data)r.parseFeatures(i.data,l,t),e.splice(0,1),c();else{for(var u=i.offset,h=i.size,d=1;d<e.length&&e[d].offset==u+h;)h+=e[d].size,++d;n.when(o(r.bwg.url,u,h)).then(function(t){for(var i=0,n=0;i<h;){var a,o=e[n];if(r.bwg.uncompressBufSize>0)a=m(t,i+2,o.size-2);else{var s=new Uint8Array(o.size);g(new Uint8Array(t,i,o.size),0,s,0,o.size),a=s.buffer}o.data=a,i+=o.size,++n}c()})}};return c(),a},c.prototype.parseFeatures=function(t,e,i){var a=new Uint8Array(t);if(this.isSummary)for(var o=new Int16Array(t),s=new Int32Array(t),l=new Float32Array(t),c=t.byteLength/32,u=0;u<c;++u){var h=s[8*u],m=s[8*u+1],g=s[8*u+2],v=s[8*u+3],_=(l[8*u+4],l[8*u+5]),y=l[8*u+6];l[8*u+7];if(i(h,m+1,g)){var b={type:"bigwig",score:y/v,maxScore:_};"bigbed"==this.bwg.type&&(b.type="density"),e(h,m+1,g,b)}}else if("bigwig"==this.bwg.type){var o=new Int16Array(t),s=new Int32Array(t),l=new Float32Array(t),h=s[0],w=s[1],x=(s[2],s[3]),k=s[4],C=a[20],c=o[11];if(3==C)for(var u=0;u<c;++u){var T=l[u+6],A=w+u*x+1,M=w+u*x+k;i(h,A,M)&&e(h,A,M,{score:T})}else if(2==C)for(var u=0;u<c;++u){var m=s[2*u+6]+1,g=m+k-1,T=l[2*u+7];i(h,m,g)&&e(h,m,g,{score:T})}else if(1==C)for(var u=0;u<c;++u){var m=s[3*u+6]+1,g=s[3*u+7],T=l[3*u+8];m>g&&(m=g),i(h,m,g)&&e(h,m,g,{score:T})}else console.log("Currently not handling bwgType="+C)}else{if("bigbed"!=this.bwg.type)throw Error("Don't know what to do with "+this.bwg.type);for(var O=0,E=this.bwg.definedFieldCount,$=this.bwg.schema;O<a.length;){var h=a[O+3]<<24|a[O+2]<<16|a[O+1]<<8|a[O+0],m=a[O+7]<<24|a[O+6]<<16|a[O+5]<<8|a[O+4],g=a[O+11]<<24|a[O+10]<<16|a[O+9]<<8|a[O+8];O+=12;for(var j="";;){var D=a[O++];if(0==D)break;j+=String.fromCharCode(D)}var P,R={};if(P=j.length>0?j.split("\t"):[],P.length>0&&E>3&&(R.label=P[0]),P.length>1&&E>4){var T=parseInt(P[1]);isNaN(T)||(R.score=T)}if(P.length>2&&E>5&&(R.orientation=P[2]),P.length>5&&E>8){var N=P[5];S.test(N)&&(R.itemRgb="rgb("+N+")")}if(P.length>E-3&&$)for(var I=E-3;I<P.length;++I)R[$.fields[I+3].name]=P[I];if(i(h,m+1,g,P))if(E<12)e(h,m+1,g,R);else{var L=0|P[3],z=0|P[4],H=0|P[6],q=P[7].split(","),F=P[8].split(",");if(R.exonFrames){var B=R.exonFrames.split(",");R.exonFrames=void 0}R.type="transcript";var V=new r;for(var U in R)V[U]=R[U];if(V.id=P[0],V.segment=this.bwg.idsToChroms[h],V.min=m+1,V.max=g,V.notes=[],R.groups=[V],P.length>9){var W=R.geneName||P[9],G=W;P.length>10&&(G=P[10]),R.geneName2&&(G=R.geneName2);var X=n.extend({},V);X.id=W,X.label=G,X.type="gene",R.groups.push(X)}for(var Y=[],J=0;J<H;++J){var K=(0|F[J])+m,Q=K+(0|q[J]),Z=new d(K,Q);Y.push(Z)}for(var tt=f(Y),et=tt.ranges(),it=0;it<et.length;++it){var nt=et[it];e(h,nt.min()+1,nt.max(),R)}if(z>L){var rt="+"==R.orientation?new d(L,z+3):new d(L-3,z),at=p(tt,rt);if(at){R.type="translation";for(var ot=at.ranges(),st=0,lt=0;ot[0].min()>et[lt].max();)lt++;for(var it=0;it<ot.length;++it){var ct=it;"-"==R.orientation&&(ct=ot.length-it-1);var nt=ot[ct];if(R.readframe=st,B){var ut=parseInt(B[ct+lt]);"number"==typeof ut&&ut>=0&&ut<=2&&(R.readframe=ut,R.readframeExplicit=!0)}var ht=nt.max()-nt.min();st=(st+ht)%3,e(h,nt.min()+1,nt.max(),R)}}}}}}},c.prototype.getFirstAdjacent=function(t,e,i,n){var r=this.bwg.chromsToIDs[t];if(void 0===r)return n([]);this.getFirstAdjacentById(r,e,i,n)},c.prototype.getFirstAdjacentById=function(t,e,i,n){var r=this;if(!this.cirHeader)return void this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(a){r.cirHeader=a;var o=new Int32Array(r.cirHeader);r.cirBlockSize=o[1],r.getFirstAdjacentById(t,e,i,n)});var a=null,o=-1,l=-1,c=0,u=(Date.now(),function(t,e){c+=t.length;for(var i,n=4+32*r.cirBlockSize,a=0;a<t.length;++a){var o=new d(t[a],t[a]+n);i=i?f(i,o):o}for(var s=i.ranges(),l=0;l<s.length;++l){var u=s[l];h(t,u,e)}}),h=function(o,s,l,u){s.max(),s.min();r.bwg.data.slice(s.min(),s.max()-s.min()).fetch(function(u){for(var h=0;h<o.length;++h)if(s.contains(o[h])&&(p(u,o[h]-s.min(),l),0==--c)){if(!a)return i>0&&(0!=t||e>0)?r.getFirstAdjacentById(0,0,i,n):i<0&&(t!=r.bwg.maxID||e<1e9)?r.getFirstAdjacentById(r.bwg.maxID,1e9,i,n):n([]);r.fetchFeatures(function(n,r,a,o){return i<0&&(n<t||a<e)||i>0&&(n>t||r>e)},[a],function(t){for(var e=null,r=-1,a=-1,o=0;o<t.length;++o){var s=t[o],l=s._chromId,c=s.min,u=s.max;(null==e||i<0&&(l>r||u>a)||i>0&&(l<r||c<a))&&(e=s,a=i<0?u:c,r=l)}return n(null!=e?[e]:[])})}})},p=function(n,c,h){var d=new Uint8Array(n),f=new Int16Array(n),p=new Int32Array(n),m=d[c],g=f[c/2+1];if(c+=4,0!=m)for(var v=0;v<g;++v){var _=c/4,y=p[_],b=p[_+1],w=p[_+2],x=p[_+3],k=s(d,c+16),C=s(d,c+24);(i<0&&(y<t||y==t&&b<=e)||i>0&&(w>t||w==t&&x>=e))&&(/_random/.exec(r.bwg.idsToChroms[y])||(null==a||i<0&&(w>o||w==o&&x>l)||i>0&&(y<o||y==o&&b<l))&&(a={offset:k,size:C},l=i<0?x:b,o=i<0?w:y)),c+=32}else{for(var S=-1,T=-1,v=0;v<g;++v){var _=c/4,y=p[_],b=p[_+1],w=p[_+2],x=p[_+3],k=p[_+4]<<32|p[_+5];(i<0&&(y<t||y==t&&b<=e)&&w>=t||i>0&&(w>t||w==t&&x>=e)&&y<=t)&&(S<0||x>T)&&(S=k,T=i<0?x:b,i<0?w:y),c+=24}S>=0&&u([S],h+1)}};u([r.cirTreeOffset+48],1)},l.prototype.readWigData=function(t,e,i){var n,r=i-e;if(r<=25e3||0===this.zoomLevels.length)n=this.getUnzoomedView();else for(var a=0;a<this.zoomLevels.length;a++)if(r/this.zoomLevels[a].reduction<25e3){n=this.getZoomedView(a);break}return n.readWigData(t,e,i)},l.prototype.getUnzoomedView=function(){if(!this.unzoomedView){var t=4e3;this.zoomLevels[0]&&(t=this.zoomLevels[0].dataOffset-this.unzoomedIndexOffset),this.unzoomedView=new c(this,this.unzoomedIndexOffset,t,!1)}return this.unzoomedView},l.prototype.getZoomedView=function(t){var e=this.zoomLevels[t];return e.view||(e.view=new c(this,e.indexOffset,4e3,!0)),e.view},l.prototype._tsFetch=function(t,e,i,n,r){var a=this;if(!(t>=this.zoomLevels.length-1)){var o;return o=t<0?this.getUnzoomedView():this.getZoomedView(t),o.readWigDataById(e,i,n,r)}if(this.topLevelReductionCache){for(var s=[],l=this.topLevelReductionCache,c=0;c<l.length;++c)l[c]._chromId==e&&s.push(l[c]);return r(s)}this.getZoomedView(this.zoomLevels.length-1).readWigDataById(-1,0,3e8,function(o){return a.topLevelReductionCache=o,a._tsFetch(t,e,i,n,r)})},l.prototype.thresholdSearch=function(t,e,i,n,r){function a(){if(0==l.length)return r(null);l.sort(function(t,e){var n=t.zoom-e.zoom;return 0!=n?n:(n=t.chrOrd-e.chrOrd,0!=n?n:t.min-e.min*i)});var t=l.splice(0,1)[0];o._tsFetch(t.zoom,t.chr,t.min,t.max,function(o){var s=i>0?0:3e8;t.fromRef&&(s=e);for(var c=0;c<o.length;++c){var u,h=o[c];if(u=void 0!=h.maxScore?h.maxScore:h.score,i>0){if(u>n)if(t.zoom<0){if(h.min>s)return r(h)}else h.max>s&&l.push({chr:t.chr,chrOrd:t.chrOrd,zoom:t.zoom-2,min:h.min,max:h.max,fromRef:t.fromRef})}else if(u>n)if(t.zoom<0){if(h.max<s)return r(h)}else h.min<s&&l.push({chr:t.chr,chrOrd:t.chrOrd,zoom:t.zoom-2,min:h.min,max:h.max,fromRef:t.fromRef})}a()})}i=i<0?-1:1;for(var o=this,s=this.chromsToIDs[t],l=[{chrOrd:0,chr:s,zoom:o.zoomLevels.length-4,min:0,max:3e8,fromRef:!0}],c=1;c<=this.maxID+1;++c){var u=(s+i*c)%(this.maxID+1);u<0&&(u+=this.maxID+1),l.push({chrOrd:c,chr:u,zoom:o.zoomLevels.length-1,min:0,max:3e8})}a()},l.prototype.getAutoSQL=function(t){if(!this.asOffset)return t(null);n.when(o(this.url,this.asOffset,2048)).then(function(e){for(var i=new Uint8Array(e),n="",r=0;r<i.length&&0!=i[r];++r)n+=String.fromCharCode(i[r]);var a=/(\w+)\s+(\w+)\s+("([^"]+)")?\s+\(\s*/,o=/([\w\[\]]+)\s+(\w+)\s*;\s*("([^"]+)")?\s*/g,s=a.exec(n);if(s){var l={declType:s[1],name:s[2],comment:s[4],fields:[]};n=n.substring(s[0]);for(var c=o.exec(n);null!=c;c=o.exec(n))l.fields.push({type:c[1],name:c[2],comment:c[4]});return t(l)}})},l.prototype.getExtraIndices=function(t){var e=this;if(this.version<4||0==this.extHeaderOffset||"bigbed"!=this.type)return t(null);this.data.slice(this.extHeaderOffset,64).fetch(function(i){if(!i)return t(null,"Couldn't fetch extension header");var n=new Uint8Array(i),r=new Int16Array(i),a=(new Int32Array(i),r[0],r[1]),o=s(n,4);if(0==a)return t(null);e.data.slice(o,20*a).fetch(function(i){if(!i)return t(null,"Couldn't fetch index info");for(var n=new Uint8Array(i),r=new Int16Array(i),o=(new Int32Array(i),[]),l=0;l<a;++l){var c=r[10*l],u=r[10*l+1],d=s(n,20*l+4),f=r[10*l+8],p=new h(e,c,u,d,f);o.push(p)}t(o)})})},h.prototype.lookup=function(t,e){var i=this;this.bbi.data.slice(this.offset,32).fetch(function(n){function r(n){i.bbi.data.slice(n,4+c*(u+h)).fetch(function(n){var o=new Uint8Array(n),l=new Uint16Array(n),c=(new Uint32Array(n),o[0]),d=l[1],f=4;if(0!=c){for(var p=0;p<d;++p){for(var m="",g=0;g<u;++g){var v=o[f++];0!=v&&(m+=String.fromCharCode(v))}if(m==t){var _=s(o,f),y=a(o,f+8);return i.bbi.getUnzoomedView().fetchFeatures(function(e,n,r,a){if(a&&a.length>i.field-3)return a[i.field-3]==t},[{offset:_,size:y}],e)}f+=h}return e([])}for(var b=null,p=0;p<d;++p){for(var m="",g=0;g<u;++g){var v=o[f++];0!=v&&(m+=String.fromCharCode(v))}var w=s(o,f);if(f+=8,t.localeCompare(m)<0&&b)return void r(b);b=w}r(b)})}var o=new Uint8Array(n),l=(new Int16Array(n),new Int32Array(n)),c=(l[0],l[1]),u=l[2],h=l[3];s(o,16);r(i.offset+32)})},{makeBwg:u}}.apply(e,r))&&(t.exports=a)}).call(e,i(0))},function(t,e,i){var n,r;n=[],void 0!==(r=function(){"use strict";function t(t,e){if("number"!=typeof t||"number"!=typeof e)throw"Bad range "+t+","+e;this._min=t,this._max=e}function e(t){var e=t.sort(o),i=[],n=e.shift();e.forEach(function(t){t._min<=n._max?t._max>n._max&&(n._max=t._max):(i.push(n),n=t)}),i.push(n),this._ranges=i}function i(t,i){return t instanceof e||(t instanceof Array||(t=[t]),t=new e(t)),i&&t.insertRange(i),t}function n(i,n){for(var r=i.ranges(),a=n.ranges(),o=r.length,s=a.length,l=0,c=0,u=[];l<o&&c<s;){var i=r[l],n=a[c],h=Math.max(i.min(),n.min()),d=Math.min(i.max(),n.max());d>=h&&u.push(new t(h,d)),i.max()>n.max()?++c:++l}return 0==u.length?null:1==u.length?u[0]:new e(u)}function r(t){for(var e=0,i=t.ranges(),n=0;n<i.length;++n){var r=i[n];e+=r.max()-r.min()+1}return e}function a(t,e){return t.min()<e.min()?-1:t.min()>e.min()?1:t.max()<e.max()?-1:e.max()>t.max()?1:0}function o(t,e){return t._min<e._min?-1:t._min>e._min?1:t._max<e._max?-1:e._max>t._max?1:0}return t.prototype.min=function(){return this._min},t.prototype.max=function(){return this._max},t.prototype.contains=function(t){return t>=this._min&&t<=this._max},t.prototype.isContiguous=function(){return!0},t.prototype.ranges=function(){return[this]},t.prototype._pushRanges=function(t){t.push(this)},t.prototype.toString=function(){return"["+this._min+"-"+this._max+"]"},e.prototype.min=function(){return this._ranges[0].min()},e.prototype.max=function(){return this._ranges[this._ranges.length-1].max()},e.prototype.lower_bound=function(t){var e=this.ranges();if(t>this.max())return e.length;if(t<this.min())return 0;for(var i=0,n=e.length-1;i<=n;){var r=Math.floor((i+n)/2);if(t>e[r]._max)i=r+1;else{if(!(t<e[r]._min))return r;n=r-1}}return i},e.prototype.contains=function(t){var e=this.lower_bound(t);return!!(e<this._ranges.length&&this._ranges[e].contains(t))},e.prototype.insertRange=function(t){var e=this.lower_bound(t._min);if(e===this._ranges.length)return void this._ranges.push(t);var i=this.ranges();if(t._max<i[e]._min)return void this._ranges.splice(e,0,t);i[e]._min<t._min&&(t._min=i[e]._min);for(var n=e+1;n<i.length&&i[n]._min<=t._max;)n++;n--,i[n]._max>t._max&&(t._max=i[n]._max),this._ranges.splice(e,n-e+1,t)},e.prototype.isContiguous=function(){return this._ranges.length>1},e.prototype.ranges=function(){return this._ranges},e.prototype._pushRanges=function(t){for(var e=0;e<this._ranges.length;++e)t.push(this._ranges[e])},e.prototype.toString=function(){for(var t="",e=0;e<this._ranges.length;++e)e>0&&(t+=","),t+=this._ranges[e].toString();return t},{Range:t,union:i,intersection:n,coverage:r,rangeOver:a,_rangeOrder:o}}.apply(e,n))&&(t.exports=r)},function(t,e,i){var n,r;n=[],void 0!==(r=function(){function t(){}function e(){this.was=[0]}function i(t,e,i){this.hufts=new Int32Array(3*h),this.window=new Uint8Array(i),this.end=i,this.checkfn=e,this.mode=v,this.reset(t,null),this.left=0,this.table=0,this.index=0,this.blens=null,this.bb=new Int32Array(1),this.tb=new Int32Array(1),this.codes=new n,this.last=0,this.bitk=0,this.bitb=0,this.read=0,this.write=0,this.check=0,this.inftree=new r}function n(){}function r(){}function a(t,e,i,n,r){return t[0]=_,e[0]=y,i[0]=b,n[0]=w,f}function o(t,e,i,n,r){if(0!=r){if(!t)throw"Undef src";if(!i)throw"Undef dest";0==e&&r==t.length?l(t,i,n):O?l(t.subarray(e,e+r),i,n):1==t.BYTES_PER_ELEMENT&&r>100?l(new Uint8Array(t.buffer,t.byteOffset+e,r),i,n):s(t,e,i,n,r)}}function s(t,e,i,n,r){for(var a=0;a<r;++a)i[n+a]=t[e+a]}function l(t,e,i){e.set(t,i)}function c(e,i,n,r){e=i?n?new Uint8Array(e,i,n):new Uint8Array(e,i,e.byteLength-i):new Uint8Array(e);var a=new t;a.inflateInit(u,!0),a.next_in=e,a.next_in_index=0,a.avail_in=e.length;for(var s=[],l=0;;){var c=new Uint8Array(32e3);a.next_out=c,a.next_out_index=0,a.avail_out=c.length;var h=a.inflate(d);if(h!=f&&h!=p&&h!=m)throw a.msg;if(0!=a.avail_out){var g=new Uint8Array(c.length-a.avail_out);o(c,0,g,0,c.length-a.avail_out),c=g}if(s.push(c),l+=c.length,h==p||h==m)break}if(r&&(r[0]=(i||0)+a.next_in_index),1==s.length)return s[0].buffer;for(var v=new Uint8Array(l),_=0,y=0;y<s.length;++y){var b=s[y];o(b,0,v,_,b.length),_+=b.length}return v.buffer}var u=15,h=1440,d=0,f=0,p=1,m=-5,g=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],v=0,_=9,y=5,b=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],w=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],x=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];t.prototype.inflateInit=function(t,i){return t||(t=u),i&&(i=!1),this.istate=new e,this.istate.inflateInit(this,i?-t:t)},t.prototype.inflate=function(t){return null==this.istate?-2:this.istate.inflate(this,t)},t.prototype.inflateEnd=function(){if(null==this.istate)return-2;var t=istate.inflateEnd(this);return this.istate=null,t},t.prototype.inflateSync=function(){return istate.inflateSync(this)},t.prototype.inflateSetDictionary=function(t,e){return istate.inflateSetDictionary(this,t,e)},e.prototype.inflateReset=function(t){return null==t||null==t.istate?-2:(t.total_in=t.total_out=0,t.msg=null,t.istate.mode=0!=t.istate.nowrap?7:0,t.istate.blocks.reset(t,null),f)},e.prototype.inflateEnd=function(t){return null!=this.blocks&&this.blocks.free(t),this.blocks=null,f},e.prototype.inflateInit=function(t,e){return t.msg=null,this.blocks=null,nowrap=0,e<0&&(e=-e,nowrap=1),e<8||e>15?(this.inflateEnd(t),-2):(this.wbits=e,t.istate.blocks=new i(t,0!=t.istate.nowrap?null:this,1<<e),this.inflateReset(t),f)},e.prototype.inflate=function(t,e){var i,n;if(null==t||null==t.istate||null==t.next_in)return-2;for(e=4==e?m:f,i=m;;)switch(t.istate.mode){case 0:if(0==t.avail_in)return i;if(i=e,t.avail_in--,t.total_in++,8!=(15&(t.istate.method=t.next_in[t.next_in_index++]))){t.istate.mode=13,t.msg="unknown compression method",t.istate.marker=5;break}if(8+(t.istate.method>>4)>t.istate.wbits){t.istate.mode=13,t.msg="invalid window size",t.istate.marker=5;break}t.istate.mode=1;case 1:if(0==t.avail_in)return i;if(i=e,t.avail_in--,t.total_in++,n=255&t.next_in[t.next_in_index++],((t.istate.method<<8)+n)%31!=0){t.istate.mode=13,t.msg="incorrect header check",t.istate.marker=5;break}if(0==(32&n)){t.istate.mode=7;break}t.istate.mode=2;case 2:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need=(255&t.next_in[t.next_in_index++])<<24&4278190080,t.istate.mode=3;case 3:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<16&16711680,t.istate.mode=4;case 4:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<8&65280,t.istate.mode=5;case 5:return 0==t.avail_in?i:(i=e,t.avail_in--,t.total_in++,t.istate.need+=255&t.next_in[t.next_in_index++],t.adler=t.istate.need,t.istate.mode=6,2);case 6:return t.istate.mode=13,t.msg="need dictionary",t.istate.marker=0,-2;case 7:if(-3==(i=t.istate.blocks.proc(t,i))){t.istate.mode=13,t.istate.marker=0;break}if(i==f&&(i=e),i!=p)return i;if(i=e,t.istate.blocks.reset(t,t.istate.was),0!=t.istate.nowrap){t.istate.mode=12;break}t.istate.mode=8;case 8:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need=(255&t.next_in[t.next_in_index++])<<24&4278190080,t.istate.mode=9;case 9:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<16&16711680,t.istate.mode=10;case 10:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<8&65280,t.istate.mode=11;case 11:if(0==t.avail_in)return i;if(i=e,t.avail_in--,t.total_in++,t.istate.need+=255&t.next_in[t.next_in_index++],t.istate.was[0]!=t.istate.need){t.istate.mode=13,t.msg="incorrect data check",t.istate.marker=5;break}t.istate.mode=12;case 12:return p;case 13:return-3;default:return-2}},e.prototype.inflateSetDictionary=function(t,e,i){var n=0,r=i;return null==t||null==t.istate||6!=t.istate.mode?-2:t._adler.adler32(1,e,0,i)!=t.adler?-3:(t.adler=t._adler.adler32(0,null,0,0),r>=1<<t.istate.wbits&&(r=(1<<t.istate.wbits)-1,n=i-r),t.istate.blocks.set_dictionary(e,n,r),t.istate.mode=7,f)};var T=[0,0,255,255];e.prototype.inflateSync=function(t){var e,i,n,r,a;if(null==t||null==t.istate)return-2;if(13!=t.istate.mode&&(t.istate.mode=13,t.istate.marker=0),0==(e=t.avail_in))return m;for(i=t.next_in_index,n=t.istate.marker;0!=e&&n<4;)t.next_in[i]==T[n]?n++:n=0!=t.next_in[i]?0:4-n,i++,e--;return t.total_in+=i-t.next_in_index,t.next_in_index=i,t.avail_in=e,t.istate.marker=n,4!=n?-3:(r=t.total_in,a=t.total_out,this.inflateReset(t),t.total_in=r,t.total_out=a,t.istate.mode=7,f)},e.prototype.inflateSyncPoint=function(t){return null==t||null==t.istate||null==t.istate.blocks?-2:t.istate.blocks.sync_point()};var A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];i.prototype.reset=function(t,e){e&&(e[0]=this.check),6==this.mode&&this.codes.free(t),this.mode=v,this.bitk=0,this.bitb=0,this.read=this.write=0,this.checkfn&&(t.adler=this.check=t._adler.adler32(0,null,0,0))},i.prototype.proc=function(t,e){var i,n,r,s,l,c,u;for(s=t.next_in_index,l=t.avail_in,n=this.bitb,r=this.bitk,c=this.write,u=c<this.read?this.read-c-1:this.end-c;;)switch(this.mode){case v:for(;r<3;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}switch(i=7&n,this.last=1&i,i>>>1){case 0:n>>>=3,r-=3,i=7&r,n>>>=i,r-=i,this.mode=1;break;case 1:var h=new Int32Array(1),d=new Int32Array(1),m=[],_=[];a(h,d,m,_,t),this.codes.init(h[0],d[0],m[0],0,_[0],0,t),n>>>=3,r-=3,this.mode=6;break;case 2:n>>>=3,r-=3,this.mode=3;break;case 3:return n>>>=3,r-=3,this.mode=13,t.msg="invalid block type",e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e)}break;case 1:for(;r<32;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}if((~n>>>16&65535)!=(65535&n))return this.mode=13,t.msg="invalid stored block lengths",e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);this.left=65535&n,n=r=0,this.mode=0!=this.left?2:0!=this.last?7:v;break;case 2:if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,write=c,this.inflate_flush(t,e);if(0==u&&(c==end&&0!=read&&(c=0,u=c<this.read?this.read-c-1:this.end-c),0==u&&(this.write=c,e=this.inflate_flush(t,e),c=this.write,u=c<this.read?this.read-c-1:this.end-c,c==this.end&&0!=this.read&&(c=0,u=c<this.read?this.read-c-1:this.end-c),0==u)))return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);if(e=f,i=this.left,i>l&&(i=l),i>u&&(i=u),o(t.next_in,s,this.window,c,i),s+=i,l-=i,c+=i,u-=i,0!=(this.left-=i))break;this.mode=0!=this.last?7:v;break;case 3:for(;r<14;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}if(this.table=i=16383&n,(31&i)>29||(i>>5&31)>29)return this.mode=9,t.msg="too many length or distance symbols",e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);if(i=258+(31&i)+(i>>5&31),null==this.blens||this.blens.length<i)this.blens=new Int32Array(i);else for(var y=0;y<i;y++)this.blens[y]=0;n>>>=14,r-=14,this.index=0,mode=4;case 4:for(;this.index<4+(this.table>>>10);){for(;r<3;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}this.blens[A[this.index++]]=7&n,n>>>=3,r-=3}for(;this.index<19;)this.blens[A[this.index++]]=0;if(this.bb[0]=7,(i=this.inftree.inflate_trees_bits(this.blens,this.bb,this.tb,this.hufts,t))!=f)return e=i,-3==e&&(this.blens=null,this.mode=9),this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,write=c,this.inflate_flush(t,e);this.index=0,this.mode=5;case 5:for(;;){if(i=this.table,!(this.index<258+(31&i)+(i>>5&31)))break;var y,b,w;for(i=this.bb[0];r<i;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}if(i=this.hufts[3*(this.tb[0]+(n&g[i]))+1],(w=this.hufts[3*(this.tb[0]+(n&g[i]))+2])<16)n>>>=i,r-=i,this.blens[this.index++]=w;else{for(y=18==w?7:w-14,b=18==w?11:3;r<i+y;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}if(n>>>=i,r-=i,b+=n&g[y],n>>>=y,r-=y,y=this.index,i=this.table,y+b>258+(31&i)+(i>>5&31)||16==w&&y<1)return this.blens=null,this.mode=9,t.msg="invalid bit length repeat",e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);w=16==w?this.blens[y-1]:0;do{this.blens[y++]=w}while(0!=--b);this.index=y}}this.tb[0]=-1;var h=new Int32Array(1),d=new Int32Array(1),m=new Int32Array(1),_=new Int32Array(1);if(h[0]=9,d[0]=6,i=this.table,(i=this.inftree.inflate_trees_dynamic(257+(31&i),1+(i>>5&31),this.blens,h,d,m,_,this.hufts,t))!=f)return-3==i&&(this.blens=null,this.mode=13),e=i,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);this.codes.init(h[0],d[0],this.hufts,m[0],this.hufts,_[0],t),this.mode=6;case 6:if(this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,(e=this.codes.proc(this,t,e))!=p)return this.inflate_flush(t,e);if(e=f,this.codes.free(t),s=t.next_in_index,l=t.avail_in,n=this.bitb,r=this.bitk,c=this.write,u=c<this.read?this.read-c-1:this.end-c,0==this.last){this.mode=v;break}this.mode=7;case 7:if(this.write=c,e=this.inflate_flush(t,e),c=this.write,u=c<this.read?this.read-c-1:this.end-c,this.read!=this.write)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);mode=12;case 8:return e=p,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);case 9:return e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e);default:return e=-2,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=c,this.inflate_flush(t,e)}},i.prototype.free=function(t){this.reset(t,null),this.window=null,this.hufts=null},i.prototype.set_dictionary=function(t,e,i){o(t,e,window,0,i),this.read=this.write=i},i.prototype.sync_point=function(){return 1==this.mode},i.prototype.inflate_flush=function(t,e){var i,n,r;return n=t.next_out_index,r=this.read,i=(r<=this.write?this.write:this.end)-r,i>t.avail_out&&(i=t.avail_out),0!=i&&e==m&&(e=f),t.avail_out-=i,t.total_out+=i,null!=this.checkfn&&(t.adler=this.check=t._adler.adler32(this.check,this.window,r,i)),o(this.window,r,t.next_out,n,i),n+=i,r+=i,r==this.end&&(r=0,this.write==this.end&&(this.write=0),i=this.write-r,i>t.avail_out&&(i=t.avail_out),0!=i&&e==m&&(e=f),t.avail_out-=i,t.total_out+=i,null!=this.checkfn&&(t.adler=this.check=t._adler.adler32(this.check,this.window,r,i)),o(this.window,r,t.next_out,n,i),n+=i,r+=i),t.next_out_index=n,this.read=r,e};n.prototype.init=function(t,e,i,n,r,a,o){this.mode=0,this.lbits=t,this.dbits=e,this.ltree=i,this.ltree_index=n,this.dtree=r,this.dtree_index=a,this.tree=null},n.prototype.proc=function(t,e,i){var n,r,a,o,s,l,c,u=0,h=0,d=0;for(d=e.next_in_index,o=e.avail_in,u=t.bitb,h=t.bitk,s=t.write,l=s<t.read?t.read-s-1:t.end-s;;)switch(this.mode){case 0:if(l>=258&&o>=10&&(t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,i=this.inflate_fast(this.lbits,this.dbits,this.ltree,this.ltree_index,this.dtree,this.dtree_index,t,e),d=e.next_in_index,o=e.avail_in,u=t.bitb,h=t.bitk,s=t.write,l=s<t.read?t.read-s-1:t.end-s,i!=f)){this.mode=i==p?7:9;break}this.need=this.lbits,this.tree=this.ltree,this.tree_index=this.ltree_index,this.mode=1;case 1:for(n=this.need;h<n;){if(0==o)return t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,o--,u|=(255&e.next_in[d++])<<h,h+=8}if(r=3*(this.tree_index+(u&g[n])),u>>>=this.tree[r+1],h-=this.tree[r+1],0==(a=this.tree[r])){this.lit=this.tree[r+2],this.mode=6;break}if(0!=(16&a)){this.get=15&a,this.len=this.tree[r+2],this.mode=2;break}if(0==(64&a)){this.need=a,this.tree_index=r/3+this.tree[r+2];break}if(0!=(32&a)){this.mode=7;break}return this.mode=9,e.msg="invalid literal/length code",i=-3,t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);case 2:for(n=this.get;h<n;){if(0==o)return t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,o--,u|=(255&e.next_in[d++])<<h,h+=8}this.len+=u&g[n],u>>=n,h-=n,this.need=this.dbits,this.tree=this.dtree,this.tree_index=this.dtree_index,this.mode=3;case 3:for(n=this.need;h<n;){if(0==o)return t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,o--,u|=(255&e.next_in[d++])<<h,h+=8}if(r=3*(this.tree_index+(u&g[n])),u>>=this.tree[r+1],h-=this.tree[r+1],0!=(16&(a=this.tree[r]))){this.get=15&a,this.dist=this.tree[r+2],this.mode=4;break}if(0==(64&a)){this.need=a,this.tree_index=r/3+this.tree[r+2];break}return this.mode=9,e.msg="invalid distance code",i=-3,t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);case 4:for(n=this.get;h<n;){if(0==o)return t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,o--,u|=(255&e.next_in[d++])<<h,h+=8}this.dist+=u&g[n],u>>=n,h-=n,this.mode=5;case 5:for(c=s-this.dist;c<0;)c+=t.end;for(;0!=this.len;){if(0==l&&(s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l&&(t.write=s,i=t.inflate_flush(e,i),s=t.write,l=s<t.read?t.read-s-1:t.end-s,s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l)))return t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);t.window[s++]=t.window[c++],l--,c==t.end&&(c=0),this.len--}this.mode=0;break;case 6:if(0==l&&(s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l&&(t.write=s,i=t.inflate_flush(e,i),s=t.write,l=s<t.read?t.read-s-1:t.end-s,s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l)))return t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,t.window[s++]=this.lit,l--,this.mode=0;break;case 7:if(h>7&&(h-=8,o++,d--),t.write=s,i=t.inflate_flush(e,i),s=t.write,l=s<t.read?t.read-s-1:t.end-s,t.read!=t.write)return t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);this.mode=8;case 8:return i=p,t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);case 9:return i=-3,t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);default:return i=-2,t.bitb=u,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i)}},n.prototype.free=function(t){},n.prototype.inflate_fast=function(t,e,i,n,r,a,s,l){var c,u,h,d,m,v,_,y,b,w,x,k,C,S,T,A;_=l.next_in_index,y=l.avail_in,m=s.bitb,v=s.bitk,b=s.write,w=b<s.read?s.read-b-1:s.end-b,x=g[t],k=g[e];do{for(;v<20;)y--,m|=(255&l.next_in[_++])<<v,v+=8;if(c=m&x,u=i,h=n,A=3*(h+c),0!=(d=u[A]))for(;;){if(m>>=u[A+1],v-=u[A+1],0!=(16&d)){for(d&=15,C=u[A+2]+(m&g[d]),m>>=d,v-=d;v<15;)y--,m|=(255&l.next_in[_++])<<v,v+=8;for(c=m&k,u=r,h=a,A=3*(h+c),d=u[A];;){if(m>>=u[A+1],v-=u[A+1],0!=(16&d)){for(d&=15;v<d;)y--,m|=(255&l.next_in[_++])<<v,v+=8;if(S=u[A+2]+(m&g[d]),m>>=d,v-=d,w-=C,b>=S)T=b-S,s.window[b++]=s.window[T++],s.window[b++]=s.window[T++],C-=2;else{T=b-S;do{T+=s.end}while(T<0);if(d=s.end-T,C>d){if(C-=d,b-T>0&&d>b-T)do{s.window[b++]=s.window[T++]}while(0!=--d);else o(s.window,T,s.window,b,d),b+=d,T+=d,d=0;T=0}}do{s.window[b++]=s.window[T++]}while(0!=--C);break}if(0!=(64&d))return l.msg="invalid distance code",C=l.avail_in-y,C=v>>3<C?v>>3:C,y+=C,_-=C,v-=C<<3,s.bitb=m,s.bitk=v,l.avail_in=y,l.total_in+=_-l.next_in_index,l.next_in_index=_,s.write=b,-3;c+=u[A+2],c+=m&g[d],A=3*(h+c),d=u[A]}break}if(0!=(64&d))return 0!=(32&d)?(C=l.avail_in-y,C=v>>3<C?v>>3:C,y+=C,_-=C,v-=C<<3,s.bitb=m,s.bitk=v,l.avail_in=y,l.total_in+=_-l.next_in_index,l.next_in_index=_,s.write=b,p):(l.msg="invalid literal/length code",C=l.avail_in-y,C=v>>3<C?v>>3:C,y+=C,_-=C,v-=C<<3,s.bitb=m,s.bitk=v,l.avail_in=y,l.total_in+=_-l.next_in_index,l.next_in_index=_,s.write=b,-3);if(c+=u[A+2],c+=m&g[d],A=3*(h+c),0==(d=u[A])){m>>=u[A+1],v-=u[A+1],s.window[b++]=u[A+2],w--;break}}else m>>=u[A+1],v-=u[A+1],s.window[b++]=u[A+2],w--}while(w>=258&&y>=10);return C=l.avail_in-y,C=v>>3<C?v>>3:C,y+=C,_-=C,v-=C<<3,s.bitb=m,s.bitk=v,l.avail_in=y,l.total_in+=_-l.next_in_index,l.next_in_index=_,s.write=b,f},r.prototype.huft_build=function(t,e,i,n,r,a,s,l,c,u,d){var p,g,v,_,y,b,w,x,k,C,S,T,A,M,O;C=0,y=i;do{this.c[t[e+C]]++,C++,y--}while(0!=y);if(this.c[0]==i)return s[0]=-1,l[0]=0,f;for(x=l[0],b=1;b<=15&&0==this.c[b];b++);for(w=b,x<b&&(x=b),y=15;0!=y&&0==this.c[y];y--);for(v=y,x>y&&(x=y),l[0]=x,M=1<<b;b<y;b++,M<<=1)if((M-=this.c[b])<0)return-3;if((M-=this.c[y])<0)return-3;for(this.c[y]+=M,this.x[1]=b=0,C=1,A=2;0!=--y;)this.x[A]=b+=this.c[C],A++,C++;y=0,C=0;do{0!=(b=t[e+C])&&(this.v[this.x[b]++]=y),C++}while(++y<i);for(i=this.x[v],this.x[0]=y=0,C=0,_=-1,T=-x,this.u[0]=0,S=0,O=0;w<=v;w++)for(p=this.c[w];0!=p--;){for(;w>T+x;){if(_++,T+=x,O=v-T,O=O>x?x:O,(g=1<<(b=w-T))>p+1&&(g-=p+1,A=w,b<O))for(;++b<O&&!((g<<=1)<=this.c[++A]);)g-=this.c[A];if(O=1<<b,this.hn[0]+O>h)return-3;this.u[_]=S=this.hn[0],this.hn[0]+=O,0!=_?(this.x[_]=y,this.r[0]=b,this.r[1]=x,b=y>>>T-x,this.r[2]=S-this.u[_-1]-b,o(this.r,0,c,3*(this.u[_-1]+b),3)):s[0]=S}for(this.r[1]=w-T,C>=i?this.r[0]=192:d[C]<n?(this.r[0]=this.v[C]<256?0:96,this.r[2]=this.v[C++]):(this.r[0]=a[this.v[C]-n]+16+64,this.r[2]=r[this.v[C++]-n]),g=1<<w-T,b=y>>>T;b<O;b+=g)o(this.r,0,c,3*(S+b),3);for(b=1<<w-1;0!=(y&b);b>>>=1)y^=b;for(y^=b,k=(1<<T)-1;(y&k)!=this.x[_];)_--,T-=x,k=(1<<T)-1}return 0!=M&&1!=v?m:f},r.prototype.inflate_trees_bits=function(t,e,i,n,r){var a;return this.initWorkArea(19),this.hn[0]=0,a=this.huft_build(t,0,19,19,null,null,i,e,n,this.hn,this.v),-3==a?r.msg="oversubscribed dynamic bit lengths tree":a!=m&&0!=e[0]||(r.msg="incomplete dynamic bit lengths tree",a=-3),a},r.prototype.inflate_trees_dynamic=function(t,e,i,n,r,a,o,s,l){var c;return this.initWorkArea(288),this.hn[0]=0,(c=this.huft_build(i,0,t,257,x,k,a,n,s,this.hn,this.v))!=f||0==n[0]?(-3==c?l.msg="oversubscribed literal/length tree":-4!=c&&(l.msg="incomplete literal/length tree",c=-3),c):(this.initWorkArea(288),c=this.huft_build(i,t,e,0,C,S,o,r,s,this.hn,this.v),c!=f||0==r[0]&&t>257?(-3==c?l.msg="oversubscribed distance tree":c==m?(l.msg="incomplete distance tree",c=-3):-4!=c&&(l.msg="empty distance tree with lengths",c=-3),c):f)},r.prototype.initWorkArea=function(t){null==this.hn&&(this.hn=new Int32Array(1),this.v=new Int32Array(t),this.c=new Int32Array(16),this.r=new Int32Array(3),this.u=new Int32Array(15),this.x=new Int32Array(16)),this.v.length<t&&(this.v=new Int32Array(t));for(var e=0;e<t;e++)this.v[e]=0;for(var e=0;e<16;e++)this.c[e]=0;for(var e=0;e<3;e++)this.r[e]=0;o(this.c,0,this.u,0,15),o(this.c,0,this.x,0,16)};var M=new Uint8Array(1),O="function"==typeof M.subarray;return{inflateBuffer:c,arrayCopy:o}}.apply(e,n))&&(t.exports=r)},function(t,e,i){(function(n){var r,a,o;!function(n,s){a=[i(0)],r=s,void 0!==(o="function"==typeof r?r.apply(e,a):r)&&(t.exports=o)}(0,function(t){var e=t.ajaxSettings;e.responseFields.native="responseNative",e.converters["* native"]=!0;var i={},r=0,a={0:200,1223:204},o={},s=n.ajaxSettings.xhr();window.ActiveXObject&&t(window).on("unload",function(){for(var t in o)o[t]()}),i.cors=!!s&&"withCredentials"in s,i.ajax=s=!!s,t.ajaxTransport("native",function(t){var e;if(i.cors||s&&!t.crossDomain)return{send:function(i,n){var s,l=t.xhr(),c=++r,u={};if(l.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)l[s]=t.xhrFields[s];t.mimeType&&l.overrideMimeType&&l.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)l.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(delete o[c],e=l.onload=l.onerror=null,"abort"===t?l.abort():"error"===t?n(l.status,l.statusText):(l.response&&(u.native=l.response),n(a[l.status]||l.status,l.statusText,u,l.getAllResponseHeaders())))}},l.onload=e(),l.onerror=e("error"),e=o[c]=e("abort");try{l.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),t.getNative=function(e,i){return t.ajax({dataType:"native",url:e,xhrFields:{responseType:"arraybuffer"},success:i})}})}).call(e,i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),s=a(o),l=i(4),c=a(l),u=t.View.extend(s.default.LoggableMixin).extend({_logNamespace:"user",options:{warnAtPercent:85,errorAtPercent:100},initialize:function(t){this.log(this+".initialize:",t),n.extend(this.options,t),this.listenTo(this.model,"change:quota_percent change:total_disk_usage",this.render)},update:function(t){return this.log(this+" updating user data...",t),this.model.loadFromApi(this.model.get("id"),t),this},isOverQuota:function(){return null!==this.model.get("quota_percent")&&this.model.get("quota_percent")>=this.options.errorAtPercent},_render_quota:function(){var t=this.model.toJSON(),e=t.quota_percent,i=r(this._templateQuotaMeter(t)),n=i.find(".progress-bar");return this.isOverQuota()?(n.attr("class","progress-bar progress-bar-danger"),i.find(".quota-meter-text").css("color","white"),this.trigger("quota:over",t)):e>=this.options.warnAtPercent?(n.attr("class","progress-bar progress-bar-warning"),this.trigger("quota:under quota:under:approaching",t)):(n.attr("class","progress-bar progress-bar-success"),this.trigger("quota:under quota:under:ok",t)),i},_render_usage:function(){var t=r(this._templateUsage(this.model.toJSON()));return this.log(this+".rendering usage:",t),t},render:function(){var t=null;return this.log(this+".model.quota_percent:",this.model.get("quota_percent")),t=null===this.model.get("quota_percent")||void 0===this.model.get("quota_percent")?this._render_usage():this._render_quota(),this.$el.html(t),this.$el.find(".quota-meter-text").tooltip(),this},_templateQuotaMeter:function(t){return['<div id="quota-meter" class="quota-meter progress">','<div class="progress-bar" style="width: ',t.quota_percent,'%"></div>','<div class="quota-meter-text" data-placement="left" style="top: 6px"',t.nice_total_disk_usage?' title="Using '+t.nice_total_disk_usage+'.  This value is recalculated when you log out.">':">",(0,c.default)("Using")," ",t.quota_percent,"%","</div>","</div>"].join("")},_templateUsage:function(t){return['<div id="quota-meter" class="quota-meter" style="background-color: transparent">','<div class="quota-meter-text" data-placement="left" data-original-title="This value is recalculated when you log out." style="top: 6px; color: white">',t.nice_total_disk_usage?(0,c.default)("Using ")+t.nice_total_disk_usage:"","</div>","</div>"].join("")},toString:function(){return"UserQuotaMeter("+this.model+")"}});e.default={UserQuotaMeter:u}}).call(e,i(2),i(1),i(0))}]);
//# sourceMappingURL=libs.bundled.js.map