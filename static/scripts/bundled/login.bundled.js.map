{"version":3,"sources":["webpack:///./galaxy/scripts/apps/login.js"],"names":[],"mappings":";;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAmC,2CAA2C;AAC9E;AACA;AACA;;AAEA;AACA;AACA,0CAAyC,iBAAiB;AAC1D;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA,oCAAmC,sBAAsB;AACzD;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uFAAsF,cAAc;AACpG,MAAK;AACL","file":"login.bundled.js","sourcesContent":["\nvar jQuery = require( 'jquery' ),\n    $ = jQuery,\n    GalaxyApp = require( 'galaxy' ).GalaxyApp,\n    PANEL = require( 'layout/panel' ),\n    _l = require( 'utils/localization' ),\n    PAGE = require( 'layout/page' );\n\nwindow.app = function app( options, bootstrapped ){\n    window.Galaxy = new GalaxyApp( options, bootstrapped );\n    Galaxy.debug( 'login app' );\n    var redirect = encodeURI( options.redirect );\n\n    // TODO: remove iframe for user login (at least) and render login page from here\n    // then remove this redirect\n    if( !options.show_welcome_with_login ){\n        var params = jQuery.param({ use_panels : 'True', redirect : redirect });\n        window.location.href = Galaxy.root + 'user/login?' + params;\n        return;\n    }\n\n    var loginPage = new PAGE.PageLayoutView( _.extend( options, {\n        el      : 'body',\n        center  : new PANEL.CenterPanel({ el : '#center' }),\n        right   : new PANEL.RightPanel({\n            title : _l( 'Login required' ),\n            el : '#right'\n        }),\n    }));\n\n    $(function(){\n        // TODO: incorporate *actual* referrer/redirect info as the original page does\n        var params = jQuery.param({ redirect : redirect }),\n            loginUrl = Galaxy.root + 'user/login?' + params;\n        loginPage.render();\n\n        // welcome page (probably) needs to remain sandboxed\n        loginPage.center.$( '#galaxy_main' ).prop( 'src', options.welcome_url );\n\n        loginPage.right.$( '.unified-panel-body' )\n            .css( 'overflow', 'hidden' )\n            .html( '<iframe src=\"' + loginUrl + '\" frameborder=\"0\" style=\"width: 100%; height: 100%;\"/>' );\n    });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./galaxy/scripts/apps/login.js\n ** module id = 0\n ** module chunks = 5\n **/"],"sourceRoot":""}