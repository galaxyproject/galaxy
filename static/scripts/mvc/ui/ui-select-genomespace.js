define("mvc/ui/ui-select-genomespace",["exports","utils/localization","utils/utils","mvc/ui/ui-misc","mvc/tool/tool-genomespace"],function(e,t,i,n,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(t),l=(o(i),o(n)),u=o(s),c=Backbone.View.extend({initialize:function(e){var t=this;this.options=e,this.browse_button=new l.default.ButtonIcon({title:(0,a.default)("Browse"),icon:"fa fa-sign-in",tooltip:(0,a.default)("Browse GenomeSpace"),onclick:function(){t.browseGenomeSpace(e)}}),this.filename_textbox=new l.default.Input,this.token_textbox=new l.default.Input({type:"password"}),this.setElement(this._template(e)),this.$(".ui-gs-browse-button").append(this.browse_button.$el),this.$(".ui-gs-filename-textbox").append(this.filename_textbox.$el),this.$(".ui-gs-token-textbox").append(this.token_textbox.$el)},browseGenomeSpace:function(e){var t=this;u.default.openFileBrowser({action:e.action||"IMPORT",select_type:e.select_type||"FILE_OR_FOLDER",multiple:e.multiple||!1,successCallback:function(e){return t.handleGSDestination(e)}})},handleGSDestination:function(e){var t=e.destinations?e.destinations.join(","):"";t=t||e.destination,this.value(t+"^"+e.token)},_template:function(e){return'<div class="ui-gs-select-file"><div class="ui-gs-browse-field"><span class="ui-gs-browse-button" /><span class="ui-gs-filename-textbox" /></div><div class="ui-gs-token-field"><span class=ui-gs-label"><div class="ui-gs-token-label">Token</div></span><span class="ui-gs-token-textbox" /></div></div>'},value:function(e){if(void 0===e)return this._getValue();this._setValue(e)},_getValue:function(){return this.filename_textbox.value()+"^"+this.token_textbox.value()},_setValue:function(e){if(e){var t=e.split("^");this.filename_textbox.value(t[0]),this.token_textbox.value(t[1])}this.options.onchange&&this.options.onchange(e)}});e.default={View:c}});